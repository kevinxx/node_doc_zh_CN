<!DOCTYPE html>
<!-- saved from url=(0030) -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" value="Ronn/v0.4.1">
<title>node0.3 -- Synopsis for V8 JavaScript</title>
<style type="text/css">
* {
	margin: 0;
	padding: 0;
}

html,body {
	height: 100%;
}

body {
	font-family: helvetica, arial, sans serif;
	background: #22252a;
	color: #eee;
	font-size: 16px;
	line-height: 1.3;
	position: relative;
	min-width: 690px;
}

a {
	color: #CD5;
}

a:focus {
	outline: none;
	-moz-outline: none;
}

pre {
	overflow: hidden;
}

li {
	list-style: inside;
}

#man,#man code,#man pre,#man tt,#man kbd,#man samp {
	line-height: 1.6;
	color: #eee;
	background: #22252a;
}

#man {
	margin: 0;
	position: absolute;
	top: 0;
	bottom: 0;
	left: 225px;
	right: 0;
	overflow: auto;
}

#man-content {
	padding: 0 20px;
	max-width: 650px;
}

#man h1,#man h2,#man h3 {
	color: #DCDDDE;
	clear: left;
}

#man h1 {
	background: url("images/logo.png") no-repeat scroll center 0
		transparent;
	height: 111px;
	margin: 15px 0 20px;
	text-align: center;
	text-indent: -2000px;
}

#man h2 {
	font-size: 18px;
	background: #000;
	color: #CD5;
	margin: 10px 0;
	padding: 5px 10px;
}

#man h3 {
	font-size: 16px;
	margin: 0 0 0 0ex;
}

#man p,#man ul,#man ol,#man dl,#man pre {
	margin: 0 0 18px;
}

#man pre {
	color: #CCCDCE;
	background: #121314;
	border-left: 2ex solid #222;
	margin: 0 0 20px;
	padding: 5px 7px;
}

#man pre+h2,#man pre+h3 {
	margin-top: 22px;
}

#man h2+pre,#man h3+pre {
	margin-top: 5px;
}

#man>p,#man>ul,#man>ol,#man>dl,#man>pre {
	margin-left: 5%;
}

#man dt {
	clear: left;
	margin: 0;
}

#man dt.flush {
	float: left;
	width: 8ex;
}

#man dd {
	margin: 0 0 0 9ex;
}

#man code,#man strong,#man b {
	font-weight: bold;
	color: #ECEDEE;
}

#man pre code {
	font-weight: normal;
	color: #DCDDDE;
	background: inherit;
}

#man em,var,u {
	font-style: normal;
	color: #CCCDCE;
	border-bottom: 1px solid #999;
}

#man ol.man,#man ol.man li {
	float: left;
	width: 33%;
	list-style-type: none;
	text-transform: uppercase;
	font-size: 18px;
	color: #666;
	letter-spacing: 1px;
	margin: 2px 0 10px;
	padding: 0;
}

#man ol.man {
	width: 100%;
}

#man ol.man li.tl {
	text-align: left;
}

#man ol.man li.tc {
	text-align: center;
	letter-spacing: 4px;
}

#man ol.man li.tr {
	text-align: right;
}

#man ol.man a {
	color: #666;
}

#man ol.man a:hover {
	color: #CCCDCE;
}

#toc {
	position: absolute;
	top: 0;
	bottom: 0;
	left: 0;
	padding-left: 30px;
	width: 195px;
	overflow: auto;
	overflow-x: hidden;
	font-size: 15px;
}

#toc li {
	text-wrap: word-wrap;
}

#toc a {
	display: inline-block;
	width: 100%;
	color: #fff;
	text-decoration: none;
}

#toc>a:hover {
	color: rgba(255, 255, 255, 0.7);
}

#toc>ul>li {
	border-bottom: 1px solid #0f1214;
	padding: 5px 0 5px 5px;
	list-style: none;
	line-height: 1.3;
}

#toc ul ul {
	display: none;
}

#toc ul ul>li {
	border-top: 1px solid rgba(0, 0, 0, 0.1);
	color: #FFFFFF;
	font-size: 85%;
	line-height: 1.3;
	list-style: disc outside none;
	margin-left: 25px;
	max-width: 165px;
	padding: 3px 0 5px 5px;
}

#toc li.active>a {
	color: #CD5;
}

.sh_sourceCode {
	font-family: monospace;
	overflow: hidden;
}

#toc .toggler {
	-moz-user-select: none;
	background: none repeat scroll 0 0 #000000;
	color: #FFFFFF;
	display: inline-block;
	font-weight: bold;
	height: 31px;
	line-height: 32px;
	margin: -5px 8px -18px -33px;
	outline: medium none;
	padding: 0;
	text-align: center;
	width: 25px;
}

.current-section {
	position: fixed;
	top: 0;
	margin: 0 !important;
}

#toctitle {
	background: none repeat scroll 0 0 #000000;
	color: #CCDD55;
	font-size: 18px;
	margin: 0 0 10px -30px;
	padding: 10px;
}
.goingmerry {
	border: 1px solid #666;
	padding: 4px 8px;
	background: #333435;
	font-size: 12px;
}
#man .goingmerry .annotation {
	display: block;
	text-decoration: none;
	color: #899;
	border: none;
}
</style>
<link rel="stylesheet" href="css/sh_vim-dark.css" type="text/css"/>
</head>
<body>

<div id="toc">
<div id="toctitle">Node v0.3.0</div>
<noscript>JavaScript must be enabled in your browser to
display the table of contents.</noscript>
<ul>
	<li class="active"><a
		href="#synopsis-0">Synopsis</a></li>
	<li class=""><a
		href="#standard-modules-1">Standard
	Modules</a></li>
	<li class=""><a href="#"
		class="toggler">+</a><a
		href="#buffers-2">Buffers</a>
	<ul style="display: none;">
		<li><a href="#new-buffer-3">new
		Buffer</a></li>
		<li><a href="#new-buffer-4">new
		Buffer</a></li>
		<li><a href="#new-buffer-5">new
		Buffer</a></li>
		<li><a href="#buffer-write-6">buffer.write</a></li>
		<li><a href="#buffer-tostring-7">buffer.toString</a></li>
		<li><a href="#buffer[index]-8">buffer[index]</a></li>
		<li><a href="#buffer-bytelength-9">Buffer.byteLength</a></li>
		<li><a href="#buffer-length-10">buffer.length</a></li>
		<li><a href="#buffer-copy-11">buffer.copy</a></li>
		<li><a href="#buffer-slice-12">buffer.slice</a></li>
	</ul>
	</li>
	<li class=""><a href="#"
		class="toggler">+</a><a
		href="#eventemitter-13">EventEmitter</a>
	<ul style="display: none;">
		<li><a href="#event-newlistener-14">Event:
		'newListener'</a></li>
		<li><a href="#event-error-15">Event:
		'error'</a></li>
		<li><a href="#emitter-on-16">emitter.on</a></li>
		<li><a href="#emitter-once-17">emitter.once</a></li>
		<li><a
			href="#emitter-removelistener-18">emitter.removeListener</a></li>
		<li><a
			href="#emitter-removealllisteners-19">emitter.removeAllListeners</a></li>
		<li><a href="#emitter-listeners-20">emitter.listeners</a></li>
		<li><a href="#emitter-emit-21">emitter.emit</a></li>
	</ul>
	</li>
	<li><a href="#streams-22">Streams</a></li>
	<li><a href="#" class="toggler">+</a><a
		href="#readable-stream-23">Readable
	Stream</a>
	<ul style="display: none;">
		<li><a href="#event-data-24">Event:
		'data'</a></li>
		<li><a href="#event-end-25">Event:
		'end'</a></li>
		<li><a href="#event-error-26">Event:
		'error'</a></li>
		<li><a href="#event-close-27">Event:
		'close'</a></li>
		<li><a href="#event-fd-28">Event:
		'fd'</a></li>
		<li><a href="#stream-readable-29">stream.readable</a></li>
		<li><a
			href="#stream-setencoding-30">stream.setEncoding</a></li>
		<li><a href="#stream-pause-31">stream.pause</a></li>
		<li><a href="#stream-resume-32">stream.resume</a></li>
		<li><a href="#stream-destroy-33">stream.destroy</a></li>
	</ul>
	</li>
	<li><a href="#" class="toggler">+</a><a
		href="#writable-stream-34">Writable
	Stream</a>
	<ul style="display: none;">
		<li><a href="#event-drain-35">Event:
		'drain'</a></li>
		<li><a href="#event-error-36">Event:
		'error'</a></li>
		<li><a href="#event-close-37">Event:
		'close'</a></li>
		<li><a href="#stream-writeable-38">stream.writeable</a></li>
		<li><a href="#stream-write-39">stream.write</a></li>
		<li><a href="#stream-write-40">stream.write</a></li>
		<li><a href="#stream-end-41">stream.end</a></li>
		<li><a href="#stream-end-42">stream.end</a></li>
		<li><a href="#stream-end-43">stream.end</a></li>
		<li><a href="#stream-destroy-44">stream.destroy</a></li>
	</ul>
	</li>
	<li><a href="#" class="toggler">+</a><a
		href="#global-objects-45">Global
	Objects</a>
	<ul style="display: none;">
		<li><a href="#global-46">global</a></li>
		<li><a href="#process-47">process</a></li>
		<li><a href="#require-48">require</a></li>
		<li><a href="#require-resolve-49">require.resolve</a></li>
		<li><a href="#require-paths-50">require.paths</a></li>
		<li><a href="#__filename-51">__filename</a></li>
		<li><a href="#__dirname-52">__dirname</a></li>
		<li><a href="#module-53">module</a></li>
	</ul>
	</li>
	<li><a href="#" class="toggler">+</a><a
		href="#process-54">process</a>
	<ul style="display: none;">
		<li><a href="#event-exit-55">Event:
		'exit'</a></li>
		<li><a
			href="#event-uncaughtexception-56">Event:
		'uncaughtException'</a></li>
		<li><a href="#signal-events-57">Signal
		Events</a></li>
		<li><a href="#process-stdout-58">process.stdout</a></li>
		<li><a href="#process-openstdin-59">process.openStdin</a></li>
		<li><a href="#process-argv-60">process.argv</a></li>
		<li><a href="#process-execpath-61">process.execPath</a></li>
		<li><a href="#process-chdir-62">process.chdir</a></li>
		<li><a href="#process-compile-63">process.compile</a></li>
		<li><a href="#process-cwd-64">process.cwd</a></li>
		<li><a href="#process-env-65">process.env</a></li>
		<li><a href="#process-exit-66">process.exit</a></li>
		<li><a href="#process-getgid-67">process.getgid</a></li>
		<li><a href="#process-setgid-68">process.setgid</a></li>
		<li><a href="#process-getuid-69">process.getuid</a></li>
		<li><a href="#process-setuid-70">process.setuid</a></li>
		<li><a href="#process-version-71">process.version</a></li>
		<li><a
			href="#process-installprefix-72">process.installPrefix</a></li>
		<li><a href="#process-kill-73">process.kill</a></li>
		<li><a href="#process-pid-74">process.pid</a></li>
		<li><a href="#process-title-75">process.title</a></li>
		<li><a href="#process-platform-76">process.platform</a></li>
		<li><a
			href="#process-memoryusage-77">process.memoryUsage</a></li>
		<li><a href="#process-nexttick-78">process.nextTick</a></li>
		<li><a href="#process-umask-79">process.umask</a></li>
	</ul>
	</li>
	<li><a href="#" class="toggler">+</a><a
		href="#util-80">util</a>
	<ul style="display: none;">
		<li><a href="#util-print-81">util.print</a></li>
		<li><a href="#util-debug-82">util.debug</a></li>
		<li><a href="#util-log-83">util.log</a></li>
		<li><a href="#util-inspect-84">util.inspect</a></li>
		<li><a href="#util-pump-85">util.pump</a></li>
	</ul>
	</li>
	<li><a href="#" class="toggler">+</a><a
		href="#timers-86">Timers</a>
	<ul style="display: none;">
		<li><a href="#settimeout-87">setTimeout</a></li>
		<li><a href="#cleartimeout-88">clearTimeout</a></li>
		<li><a href="#setinterval-89">setInterval</a></li>
		<li><a href="#clearinterval-90">clearInterval</a></li>
	</ul>
	</li>
	<li><a href="#" class="toggler">+</a><a
		href="#child-processes-91">Child
	Processes</a>
	<ul style="display: none;">
		<li><a href="#event-exit-92">Event:
		'exit'</a></li>
		<li><a href="#child-stdin-93">child.stdin</a></li>
		<li><a href="#child-stdout-94">child.stdout</a></li>
		<li><a href="#child-stderr-95">child.stderr</a></li>
		<li><a href="#child-pid-96">child.pid</a></li>
		<li><a
			href="#child_process-spawn-97">child_process.spawn</a></li>
		<li><a
			href="#child_process-exec-98">child_process.exec</a></li>
		<li><a href="#child-kill-99">child.kill</a></li>
	</ul>
	</li>
	<li><a href="#" class="toggler">+</a><a
		href="#script-100">Script</a>
	<ul style="display: none;">
		<li><a
			href="#script-runinthiscontext-101">Script.runInThisContext</a></li>
		<li><a
			href="#script-runinnewcontext-102">Script.runInNewContext</a></li>
		<li><a href="#new-script-103">new
		Script</a></li>
		<li><a
			href="#script-runinthiscontext-104">script.runInThisContext</a></li>
		<li><a
			href="#script-runinnewcontext-105">script.runInNewContext</a></li>
	</ul>
	</li>
	<li><a href="#" class="toggler">+</a><a
		href="#file-system-106">File System</a>
	<ul style="display: none;">
		<li><a href="#fs-rename-107">fs.rename</a></li>
		<li><a href="#fs-renamesync-108">fs.renameSync</a></li>
		<li><a href="#fs-truncate-109">fs.truncate</a></li>
		<li><a href="#fs-truncatesync-110">fs.truncateSync</a></li>
		<li><a href="#fs-chmod-111">fs.chmod</a></li>
		<li><a href="#fs-chmodsync-112">fs.chmodSync</a></li>
		<li><a href="#fs-stat-113">fs.stat</a></li>
		<li><a href="#fs-lstat-114">fs.lstat</a></li>
		<li><a href="#fs-fstat-115">fs.fstat</a></li>
		<li><a href="#fs-statsync-116">fs.statSync</a></li>
		<li><a href="#fs-lstatsync-117">fs.lstatSync</a></li>
		<li><a href="#fs-fstatsync-118">fs.fstatSync</a></li>
		<li><a href="#fs-link-119">fs.link</a></li>
		<li><a href="#fs-linksync-120">fs.linkSync</a></li>
		<li><a href="#fs-symlink-121">fs.symlink</a></li>
		<li><a href="#fs-symlinksync-122">fs.symlinkSync</a></li>
		<li><a href="#fs-readlink-123">fs.readlink</a></li>
		<li><a href="#fs-readlinksync-124">fs.readlinkSync</a></li>
		<li><a href="#fs-realpath-125">fs.realpath</a></li>
		<li><a href="#fs-realpathsync-126">fs.realpathSync</a></li>
		<li><a href="#fs-unlink-127">fs.unlink</a></li>
		<li><a href="#fs-unlinksync-128">fs.unlinkSync</a></li>
		<li><a href="#fs-rmdir-129">fs.rmdir</a></li>
		<li><a href="#fs-rmdirsync-130">fs.rmdirSync</a></li>
		<li><a href="#fs-mkdir-131">fs.mkdir</a></li>
		<li><a href="#fs-mkdirsync-132">fs.mkdirSync</a></li>
		<li><a href="#fs-readdir-133">fs.readdir</a></li>
		<li><a href="#fs-readdirsync-134">fs.readdirSync</a></li>
		<li><a href="#fs-close-135">fs.close</a></li>
		<li><a href="#fs-closesync-136">fs.closeSync</a></li>
		<li><a href="#fs-open-137">fs.open</a></li>
		<li><a href="#fs-opensync-138">fs.openSync</a></li>
		<li><a href="#fs-write-139">fs.write</a></li>
		<li><a href="#fs-writesync-140">fs.writeSync</a></li>
		<li><a href="#fs-writesync-141">fs.writeSync</a></li>
		<li><a href="#fs-read-142">fs.read</a></li>
		<li><a href="#fs-readsync-143">fs.readSync</a></li>
		<li><a href="#fs-readsync-144">fs.readSync</a></li>
		<li><a href="#fs-readfile-145">fs.readFile</a></li>
		<li><a href="#fs-readfilesync-146">fs.readFileSync</a></li>
		<li><a href="#fs-writefile-147">fs.writeFile</a></li>
		<li><a href="#fs-writefilesync-148">fs.writeFileSync</a></li>
		<li><a href="#fs-watchfile-149">fs.watchFile</a></li>
		<li><a href="#fs-unwatchfile-150">fs.unwatchFile</a></li>
	</ul>
	</li>
	<li><a href="#fs-stats-151">fs.Stats</a></li>
	<li><a href="#" class="toggler">+</a><a
		href="#fs-readstream-152">fs.ReadStream</a>
	<ul style="display: none;">
		<li><a
			href="#fs-createreadstream-153">fs.createReadStream</a></li>
	</ul>
	</li>
	<li><a href="#" class="toggler">+</a><a
		href="#fs-writestream-154">fs.WriteStream</a>
	<ul style="display: none;">
		<li><a href="#event-open-155">Event:
		'open'</a></li>
		<li><a
			href="#fs-createwritestream-156">fs.createWriteStream</a></li>
	</ul>
	</li>
	<li><a href="#http-157">HTTP</a></li>
	<li><a href="#" class="toggler">+</a><a
		href="#http-server-158">http.Server</a>
	<ul style="display: none;">
		<li><a href="#event-request-159">Event:
		'request'</a></li>
		<li><a href="#event-connection-160">Event:
		'connection'</a></li>
		<li><a href="#event-close-161">Event:
		'close'</a></li>
		<li><a href="#event-request-162">Event:
		'request'</a></li>
		<li><a
			href="#event-checkcontinue-163">Event:
		'checkContinue'</a></li>
		<li><a href="#event-upgrade-164">Event:
		'upgrade'</a></li>
		<li><a
			href="#event-clienterror-165">Event:
		'clientError'</a></li>
		<li><a
			href="#http-createserver-166">http.createServer</a></li>
		<li><a href="#server-listen-167">server.listen</a></li>
		<li><a href="#server-listen-168">server.listen</a></li>
		<li><a href="#server-setsecure-169">server.setSecure</a></li>
		<li><a href="#server-close-170">server.close</a></li>
	</ul>
	</li>
	<li><a href="#" class="toggler">+</a><a
		href="#http-serverrequest-171">http.ServerRequest</a>
	<ul style="display: none;">
		<li><a href="#event-data-172">Event:
		'data'</a></li>
		<li><a href="#event-end-173">Event:
		'end'</a></li>
		<li><a href="#request-method-174">request.method</a></li>
		<li><a href="#request-url-175">request.url</a></li>
		<li><a href="#request-headers-176">request.headers</a></li>
		<li><a href="#request-trailers-177">request.trailers</a></li>
		<li><a
			href="#request-httpversion-178">request.httpVersion</a></li>
		<li><a
			href="#request-setencoding-179">request.setEncoding</a></li>
		<li><a href="#request-pause-180">request.pause</a></li>
		<li><a href="#request-resume-181">request.resume</a></li>
		<li><a
			href="#request-connection-182">request.connection</a></li>
	</ul>
	</li>
	<li><a href="#" class="toggler">+</a><a
		href="#http-serverresponse-183">http.ServerResponse</a>
	<ul style="display: none;">
		<li><a
			href="#response-writecontinue-184">response.writeContinue</a></li>
		<li><a
			href="#response-writehead-185">response.writeHead</a></li>
		<li><a href="#response-write-186">response.write</a></li>
		<li><a
			href="#response-addtrailers-187">response.addTrailers</a></li>
		<li><a href="#response-end-188">response.end</a></li>
	</ul>
	</li>
	<li><a href="#" class="toggler">+</a><a
		href="#http-client-189">http.Client</a>
	<ul style="display: none;">
		<li><a href="#event-upgrade-190">Event:
		'upgrade'</a></li>
		<li><a href="#event-continue-191">Event:
		'continue'</a></li>
		<li><a
			href="#http-createclient-192">http.createClient</a></li>
		<li><a href="#client-request-193">client.request</a></li>
		<li><a
			href="#client-verifypeer-194">client.verifyPeer</a></li>
		<li><a
			href="#client-getpeercertificate-195">client.getPeerCertificate</a></li>
	</ul>
	</li>
	<li><a href="#" class="toggler">+</a><a
		href="#http-clientrequest-196">http.ClientRequest</a>
	<ul style="display: none;">
		<li><a href="#event-response-197">Event
		'response'</a></li>
		<li><a href="#request-write-198">request.write</a></li>
		<li><a href="#request-end-199">request.end</a></li>
	</ul>
	</li>
	<li><a href="#" class="toggler">+</a><a
		href="#http-clientresponse-200">http.ClientResponse</a>
	<ul style="display: none;">
		<li><a href="#event-data-201">Event:
		'data'</a></li>
		<li><a href="#event-end-202">Event:
		'end'</a></li>
		<li><a
			href="#response-statuscode-203">response.statusCode</a></li>
		<li><a
			href="#response-httpversion-204">response.httpVersion</a></li>
		<li><a href="#response-headers-205">response.headers</a></li>
		<li><a
			href="#response-trailers-206">response.trailers</a></li>
		<li><a
			href="#response-setencoding-207">response.setEncoding</a></li>
		<li><a href="#response-pause-208">response.pause</a></li>
		<li><a href="#response-resume-209">response.resume</a></li>
		<li><a href="#response-client-210">response.client</a></li>
	</ul>
	</li>
	<li><a href="#" class="toggler">+</a><a
		href="#net-server-211">net.Server</a>
	<ul style="display: none;">
		<li><a href="#event-connection-212">Event:
		'connection'</a></li>
		<li><a href="#event-close-213">Event:
		'close'</a></li>
		<li><a href="#net-createserver-214">net.createServer</a></li>
		<li><a href="#server-listen-215">server.listen</a></li>
		<li><a href="#server-listen-216">server.listen</a></li>
		<li><a href="#server-listenfd-217">server.listenFD</a></li>
		<li><a href="#server-close-218">server.close</a></li>
		<li><a
			href="#server-maxconnections-219">server.maxConnections</a></li>
		<li><a
			href="#server-connections-220">server.connections</a></li>
	</ul>
	</li>
	<li><a href="#" class="toggler">+</a><a
		href="#net-isip-221">net.isIP</a>
	<ul style="display: none;">
		<li><a href="#net-isip-222">net.isIP</a></li>
		<li><a href="#net-isipv4-223">net.isIPv4</a></li>
		<li><a href="#net-isipv6-224">net.isIPv6</a></li>
	</ul>
	</li>
	<li><a href="#" class="toggler">+</a><a
		href="#net-stream-225">net.Stream</a>
	<ul style="display: none;">
		<li><a href="#event-connect-226">Event:
		'connect'</a></li>
		<li><a href="#event-secure-227">Event:
		'secure'</a></li>
		<li><a href="#event-data-228">Event:
		'data'</a></li>
		<li><a href="#event-end-229">Event:
		'end'</a></li>
		<li><a href="#event-timeout-230">Event:
		'timeout'</a></li>
		<li><a href="#event-drain-231">Event:
		'drain'</a></li>
		<li><a href="#event-error-232">Event:
		'error'</a></li>
		<li><a href="#event-close-233">Event:
		'close'</a></li>
		<li><a
			href="#net-createconnection-234">net.createConnection</a></li>
		<li><a href="#stream-connect-235">stream.connect</a></li>
		<li><a
			href="#stream-remoteaddress-236">stream.remoteAddress</a></li>
		<li><a
			href="#stream-readystate-237">stream.readyState</a></li>
		<li><a
			href="#stream-setencoding-238">stream.setEncoding</a></li>
		<li><a href="#stream-setsecure-239">stream.setSecure</a></li>
		<li><a
			href="#stream-verifypeer-240">stream.verifyPeer</a></li>
		<li><a
			href="#stream-getpeercertificate-241">stream.getPeerCertificate</a></li>
		<li><a href="#stream-write-242">stream.write</a></li>
		<li><a href="#stream-end-243">stream.end</a></li>
		<li><a href="#stream-destroy-244">stream.destroy</a></li>
		<li><a href="#stream-pause-245">stream.pause</a></li>
		<li><a href="#stream-resume-246">stream.resume</a></li>
		<li><a
			href="#stream-settimeout-247">stream.setTimeout</a></li>
		<li><a
			href="#stream-setnodelay-248">stream.setNoDelay</a></li>
		<li><a
			href="#stream-setkeepalive-249">stream.setKeepAlive</a></li>
	</ul>
	</li>
	<li><a href="#" class="toggler">+</a><a
		href="#crypto-250">Crypto</a>
	<ul style="display: none;">
		<li><a
			href="#crypto-createcredentials-251">crypto.createCredentials</a></li>
		<li><a
			href="#crypto-createhash-252">crypto.createHash</a></li>
		<li><a href="#hash-update-253">hash.update</a></li>
		<li><a href="#hash-digest-254">hash.digest</a></li>
		<li><a
			href="#crypto-createhmac-255">crypto.createHmac</a></li>
		<li><a href="#hmac-update-256">hmac.update</a></li>
		<li><a href="#hmac-digest-257">hmac.digest</a></li>
		<li><a
			href="#crypto-createcipher-258">crypto.createCipher</a></li>
		<li><a href="#cipher-update-259">cipher.update</a></li>
		<li><a href="#cipher-final-260">cipher.final</a></li>
		<li><a
			href="#crypto-createdecipher-261">crypto.createDecipher</a></li>
		<li><a href="#decipher-update-262">decipher.update</a></li>
		<li><a href="#decipher-final-263">decipher.final</a></li>
		<li><a
			href="#crypto-createsign-264">crypto.createSign</a></li>
		<li><a href="#signer-update-265">signer.update</a></li>
		<li><a href="#signer-sign-266">signer.sign</a></li>
		<li><a
			href="#crypto-createverify-267">crypto.createVerify</a></li>
		<li><a href="#verifier-update-268">verifier.update</a></li>
		<li><a href="#verifier-verify-269">verifier.verify</a></li>
	</ul>
	</li>
	<li><a href="#" class="toggler">+</a><a
		href="#dns-270">DNS</a>
	<ul style="display: none;">
		<li><a href="#dns-lookup-271">dns.lookup</a></li>
		<li><a href="#dns-resolve-272">dns.resolve</a></li>
		<li><a href="#dns-resolve4-273">dns.resolve4</a></li>
		<li><a href="#dns-resolve6-274">dns.resolve6</a></li>
		<li><a href="#dns-resolvemx-275">dns.resolveMx</a></li>
		<li><a href="#dns-resolvetxt-276">dns.resolveTxt</a></li>
		<li><a href="#dns-resolvesrv-277">dns.resolveSrv</a></li>
		<li><a href="#dns-reverse-278">dns.reverse</a></li>
	</ul>
	</li>
	<li><a href="#" class="toggler">+</a><a
		href="#dgram-279">dgram</a>
	<ul style="display: none;">
		<li><a href="#event-message-280">Event:
		'message'</a></li>
		<li><a href="#event-listening-281">Event:
		'listening'</a></li>
		<li><a href="#event-close-282">Event:
		'close'</a></li>
		<li><a
			href="#dgram-createsocket-283">dgram.createSocket</a></li>
		<li><a href="#dgram-send-284">dgram.send</a></li>
		<li><a href="#dgram-send-285">dgram.send</a></li>
		<li><a href="#dgram-bind-286">dgram.bind</a></li>
		<li><a href="#dgram-bind-287">dgram.bind</a></li>
		<li><a href="#dgram-close-288">dgram.close</a></li>
		<li><a href="#dgram-address-289">dgram.address</a></li>
		<li><a
			href="#dgram-setbroadcast-290">dgram.setBroadcast</a></li>
		<li><a href="#dgram-setttl-291">dgram.setTTL</a></li>
	</ul>
	</li>
	<li><a href="#" class="toggler">+</a><a
		href="#assert-292">Assert</a>
	<ul style="display: none;">
		<li><a href="#assert-fail-293">assert.fail</a></li>
		<li><a href="#assert-ok-294">assert.ok</a></li>
		<li><a href="#assert-equal-295">assert.equal</a></li>
		<li><a href="#assert-notequal-296">assert.notEqual</a></li>
		<li><a href="#assert-deepequal-297">assert.deepEqual</a></li>
		<li><a
			href="#assert-notdeepequal-298">assert.notDeepEqual</a></li>
		<li><a
			href="#assert-strictequal-299">assert.strictEqual</a></li>
		<li><a
			href="#assert-notstrictequal-300">assert.notStrictEqual</a></li>
		<li><a href="#assert-throws-301">assert.throws</a></li>
		<li><a
			href="#assert-doesnotthrow-302">assert.doesNotThrow</a></li>
		<li><a href="#assert-iferror-303">assert.ifError</a></li>
	</ul>
	</li>
	<li><a href="#" class="toggler">+</a><a
		href="#path-304">Path</a>
	<ul style="display: none;">
		<li><a href="#path-join-305">path.join</a></li>
		<li><a
			href="#path-normalizearray-306">path.normalizeArray</a></li>
		<li><a href="#path-normalize-307">path.normalize</a></li>
		<li><a href="#path-dirname-308">path.dirname</a></li>
		<li><a href="#path-basename-309">path.basename</a></li>
		<li><a href="#path-extname-310">path.extname</a></li>
		<li><a href="#path-exists-311">path.exists</a></li>
	</ul>
	</li>
	<li><a href="#" class="toggler">+</a><a
		href="#url-312">URL</a>
	<ul style="display: none;">
		<li><a href="#url-parse-313">url.parse</a></li>
		<li><a href="#url-format-314">url.format</a></li>
		<li><a href="#url-resolve-315">url.resolve</a></li>
	</ul>
	</li>
	<li><a href="#" class="toggler">+</a><a
		href="#query-string-316">Query
	String</a>
	<ul style="display: none;">
		<li><a
			href="#querystring-stringify-317">querystring.stringify</a></li>
		<li><a
			href="#querystring-parse-318">querystring.parse</a></li>
		<li><a
			href="#querystring-escape-319">querystring.escape</a></li>
		<li><a
			href="#querystring-unescape-320">querystring.unescape</a></li>
	</ul>
	</li>
	<li><a href="#" class="toggler">+</a><a
		href="#repl-321">REPL</a>
	<ul style="display: none;">
		<li><a href="#repl-start-322">repl.start</a></li>
		<li><a href="#repl-features-323">REPL
		Features</a></li>
	</ul>
	</li>
	<li><a href="#" class="toggler">+</a><a
		href="#modules-324">Modules</a>
	<ul style="display: none;">
		<li><a href="#module-resolving-325">Module
		Resolving</a></li>
	</ul>
	</li>
	<li><a href="#addons-326">Addons</a></li>
	<li><a
		href="#appendix---third-party-modules-327">Appendix
	- Third Party Modules</a></li>
</ul>
</div>
<div id="man">
<div id="man-content">
<ol class="head man">
	<li class="tl">node(1)</li>

	<li class="tc"></li>
	<li class="tr">node(1)</li>
</ol>
<h1>node(1) -- evented I/O for V8 JavaScript</h1>

<h2 id="synopsis-0">Synopsis -- 摘要</h2>

<p>An example of a web server written with Node which responds with
'Hello World':</p>
<p class="goingmerry">一个在服务器端用node写的Ｈello World例子</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_keyword"><span class="sh_keyword">var</span></span> http <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_function"><span class="sh_function">require</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'http'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

http<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">createServer</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>request<span
	class="sh_symbol"><span class="sh_symbol">,</span></span> response<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  response<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">writeHead</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_number"><span class="sh_number">200</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span><span
	class="sh_string"><span class="sh_string">'Content-Type'</span></span><span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_string"><span class="sh_string">'text/plain'</span></span><span
	class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
  response<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">end</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'Hello World</span></span><span
	class="sh_specialchar"><span class="sh_specialchar">\n</span></span><span
	class="sh_string"><span class="sh_string">'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">).</span></span><span
	class="sh_function"><span class="sh_function">listen</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_number"><span class="sh_number">8124</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'Server running at http://127.0.0.1:8124/'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<p>To run the server, put the code into a file called <code
	class="sh_sourceCode">example<span class="sh_symbol">.</span>js</code>
and execute it with the node program</p>

<p class="goingmerry">在服务器端，创建一个名为<code class="sh_sourceCode">example<span class="sh_symbol">.</span>js</code>的文件，把上述代码放到文件中，并用node命令运行它。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_symbol"><span class="sh_symbol">&gt;</span></span> node example<span
	class="sh_symbol"><span class="sh_symbol">.</span></span>js
Server running at http<span class="sh_symbol"><span
	class="sh_symbol">:</span></span><span class="sh_comment"><span
	class="sh_comment">//127.0.0.1:8124/</span></span></code></pre>

<p>All of the examples in the documentation can be run similarly.</p>
<p class="goingmerry">文档中所有的例子都可以使用类似这样的方法运行。</p>

<h2 id="standard-modules-1">Standard Modules -- 标准模型</h2>

<p>Node comes with a number of modules that are compiled in to the
process, most of which are documented below. The most common way to use
these modules is with <code class="sh_sourceCode"><span
	class="sh_function">require</span><span class="sh_symbol">(</span><span
	class="sh_string">'name'</span><span class="sh_symbol">)</span></code> and
then assigning the return value to a local variable with the same name
as the module.</p>

<p class="goingmerry">
Node 配备了许多的模块，并且被编译到进程中，其中大部分记录如下。这些模块最常见使用方法是
<code class="sh_sourceCode"><span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">'name'</span><span class="sh_symbol">)</span></code>
然后将返回值分配给一个具有相同名称的本地变量作为模块。
</p>

<p>Example:</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_keyword"><span class="sh_keyword">var</span></span> util <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_function"><span class="sh_function">require</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'util'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<p>It is possible to extend node with other modules. See <code
	class="sh_sourceCode"><span class="sh_string">'Modules'</span></code></p>
<p class="goingmerry">
它可以使node扩展其它的模块，具体请看<code class="sh_sourceCode"><span class="sh_string">'Modules'</span></code>
</p>
<h2 id="buffers-2">Buffers -- 缓存对象</h2>

<p>Pure Javascript is Unicode friendly but not nice to binary data.
When dealing with TCP streams or the file system, it's necessary to
handle octet streams. Node has several strategies for manipulating,
creating, and consuming octet streams.</p>
<p class="goingmerry">
原生的Javascript 对unicode编码支持很好，但是对于二进制编码来说就不是，在处理TCP流或是文件系统时，它必须要处理字节流。node有几个操作策略，
创建和消费字节流。
</p>

<p>Raw data is stored in instances of the <code
	class="sh_sourceCode">Buffer</code> class. A <code
	class="sh_sourceCode">Buffer</code> is similar to an array of integers
but corresponds to a raw memory allocation outside the V8 heap. A <code
	class="sh_sourceCode">Buffer</code> cannot be resized.</p>	

<p class="goingmerry">
原始数据存储在Buffer类的实例中。Buffer类似一个整数数组，不同的是它对应V8引擎堆之外分配的原始内存。一个Buffer对象不能调整大小。
</p>

<p>The <code class="sh_sourceCode">Buffer</code> object is global.</p>

<p class="goingmerry">Buffer对象是全局对象</p>

<p>Converting between Buffers and JavaScript string objects requires
an explicit encoding method. Here are the different string encodings;</p>

<p class="goingmerry">
buffer对象和JavaScript string对象之间的转换，需要的指定一个明确的编码方法。下面是不同的字符串编码;
</p>

<ul>
	<li>
	<p>
		<code class="sh_sourceCode"><span class="sh_string">'ascii'</span></code>
		- for 7 bit ASCII data only. This encoding method is very fast, and
		will strip the high bit if set.
	</p>
	<p class="goingmerry"><code class="sh_sourceCode"><span class="sh_string">'ascii'</span></code> - 只用于７位的ASCII编码数据，这种编码非常快，使用此编码方式会删除高位。</p>
	</li>
	<li>
	<p><code class="sh_sourceCode"><span class="sh_string">'utf8'</span></code>
	- Unicode characters. Many web pages and other document formats use
	UTF-8.</p>
	<p class="goingmerry">
		<code class="sh_sourceCode"><span class="sh_string">'utf8'</span></code> - Unicode字符. 许多的网页和其它文档使用UTF-8
	</p>
	</li>
	<li>
	<p><code class="sh_sourceCode"><span class="sh_string">'base64'</span></code>
	- Base64 string encoding.</p>
	<p class="goingmerry"><code class="sh_sourceCode"><span class="sh_string">'base64'</span></code> - base64字符串编码</p>
	</li>
	<li>
	<p><code class="sh_sourceCode"><span class="sh_string">'binary'</span></code>
	- A way of encoding raw binary data into strings by using only the
	first 8 bits of each character. This encoding method is depreciated and
	should be avoided in favor of <code class="sh_sourceCode">Buffer</code>
	objects where possible. This encoding will be removed in future
	versions of Node.</p>
	<p class="goingmerry">
		<code class="sh_sourceCode"><span class="sh_string">'binary'</span></code> - 
		一个只使用每个字符的前8位将原始二进制数据编码到字符串的方法，这种方式应该应该避免使用，而尽可能使用Buffer对象，此方法将会在node的未来版本中删除。
	</p>
	</li>
</ul>

<h3 id="new-buffer-3">new Buffer(size)</h3>

<p>Allocates a new buffer of <code class="sh_sourceCode">size</code>
octets.</p>
<p class="goingmerry">
创建指定大小的buffer对象
</p>
<h3 id="new-buffer-4">new Buffer(array)</h3>

<p>Allocates a new buffer using an <code class="sh_sourceCode">array</code>
of octets.</p>

<p class="goingmerry">
创建指定数组的buffer对象
</p>

<h3 id="new-buffer-5">new Buffer(str, encoding='utf8')</h3>

<p>Allocates a new buffer containing the given <code
	class="sh_sourceCode">str</code>.</p>

<p class="goingmerry">
创建指定字符串及编码的buffer对象
</p>

<h3 id="buffer-write-6">buffer.write(string, offset=0,
encoding='utf8')</h3>

<p>Writes <code class="sh_sourceCode">string</code> to the buffer at
<code class="sh_sourceCode">offset</code> using the given encoding.
Returns number of octets written. If <code class="sh_sourceCode">buffer</code>
did not contain enough space to fit the entire string it will write a
partial amount of the string. In the case of <code class="sh_sourceCode"><span
	class="sh_string">'utf8'</span></code> encoding, the method will not write
partial characters.</p>

<p class="goingmerry">
使用指定编码将string对像从指定偏移位置开始，写入buffer对象，并返回写入的大小，如果buffer没有足够的空间去容纳，那么将只写入部分字符串，这个例子使用utf8编码，这种方法不会写入不完整的字符。
</p>

<p>Example: write a utf8 string into a buffer, then print it</p>

<p class="goingmerry">
例子：把一个编码为utf8的字符串写到一个buffer中，并打印出来。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">buf <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_keyword"><span class="sh_keyword">new</span></span> <span
	class="sh_function"><span class="sh_function">Buffer</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_number"><span class="sh_number">256</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
len <span class="sh_symbol"><span class="sh_symbol">=</span></span> buf<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">write</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'</span></span><span
	class="sh_specialchar"><span class="sh_specialchar">\u</span></span><span
	class="sh_string"><span class="sh_string">00bd + </span></span><span
	class="sh_specialchar"><span class="sh_specialchar">\u</span></span><span
	class="sh_string"><span class="sh_string">00bc = </span></span><span
	class="sh_specialchar"><span class="sh_specialchar">\u</span></span><span
	class="sh_string"><span class="sh_string">00be'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_number"><span class="sh_number">0</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>len <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> <span
	class="sh_string"><span class="sh_string">" bytes: "</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> buf<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">toString</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'utf8'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_number"><span class="sh_number">0</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> len<span
	class="sh_symbol"><span class="sh_symbol">));</span></span>

<span class="sh_comment"><span class="sh_comment">// 12 bytes: ½ + ¼ = ¾</span></span></code></pre>

<h3 id="buffer-tostring-7">buffer.toString(encoding, start=0,
end=buffer.length)</h3>

<p>Decodes and returns a string from buffer data encoded with <code
	class="sh_sourceCode">encoding</code> beginning at <code
	class="sh_sourceCode">start</code> and ending at <code
	class="sh_sourceCode">end</code>.</p>

<p class="goingmerry">
把buffer中的数据按指定的编码方式，从start到end进行解码并返回字符串。
</p>

<p>See <code class="sh_sourceCode">buffer<span
	class="sh_symbol">.</span><span class="sh_function">write</span><span
	class="sh_symbol">()</span></code> example, above.</p>

<p class="goingmerry">
参考上面的buffer.write()例子。
</p>

<h3 id="buffer[index]-8">buffer[index]</h3>

<p>Get and set the octet at <code class="sh_sourceCode">index</code>.
The values refer to individual bytes, so the legal range is between <code
	class="sh_sourceCode"><span class="sh_number">0x00</span></code> and <code
	class="sh_sourceCode"><span class="sh_number">0xFF</span></code> hex or
<code class="sh_sourceCode"><span class="sh_number">0</span></code> and
<code class="sh_sourceCode"><span class="sh_number">255</span></code>.</p>

<p class="goingmerry">
获取并设置索引的字节，返回值代表一个字节，其有效范围是十六进制0x00到0xFF或0到255
</p>

<p>Example: copy an ASCII string into a buffer, one byte at a time:</p>

<p class="goingmerry">
例子：把一个ASCII编码的字符串复制到buffer中，每次复制一个字节。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">str <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_string"><span class="sh_string">"node.js"</span></span><span
	class="sh_symbol"><span class="sh_symbol">;</span></span>
buf <span class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_keyword"><span class="sh_keyword">new</span></span> <span
	class="sh_function"><span class="sh_function">Buffer</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>str<span
	class="sh_symbol"><span class="sh_symbol">.</span></span>length<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

<span class="sh_keyword"><span class="sh_keyword">for</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_keyword"><span class="sh_keyword">var</span></span> i <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_number"><span class="sh_number">0</span></span><span
	class="sh_symbol"><span class="sh_symbol">;</span></span> i <span
	class="sh_symbol"><span class="sh_symbol">&lt;</span></span> str<span
	class="sh_symbol"><span class="sh_symbol">.</span></span>length <span
	class="sh_symbol"><span class="sh_symbol">;</span></span> i<span
	class="sh_symbol"><span class="sh_symbol">++)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  buf<span class="sh_symbol"><span class="sh_symbol">[</span></span>i<span
	class="sh_symbol"><span class="sh_symbol">]</span></span> <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> str<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">charCodeAt</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>i<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span>

console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>buf<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

<span class="sh_comment"><span class="sh_comment">// node.js</span></span></code></pre>

<h3 id="buffer-bytelength-9">Buffer.byteLength(string,
encoding='utf8')</h3>

<p>Gives the actual byte length of a string. This is not the same as
<code class="sh_sourceCode"><span class="sh_predef_func">String</span><span
	class="sh_symbol">.</span><span class="sh_keyword">prototype</span><span
	class="sh_symbol">.</span>length</code> since that returns the number of <em>characters</em>
in a string.</p>

<p class="goingmerry">
返回字符串的实际字节数。此方法不同于String.prototype.length，后者返回的是字符串的字符数。
</p>

<p>Example:</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">str <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_string"><span class="sh_string">'</span></span><span
	class="sh_specialchar"><span class="sh_specialchar">\u</span></span><span
	class="sh_string"><span class="sh_string">00bd + </span></span><span
	class="sh_specialchar"><span class="sh_specialchar">\u</span></span><span
	class="sh_string"><span class="sh_string">00bc = </span></span><span
	class="sh_specialchar"><span class="sh_specialchar">\u</span></span><span
	class="sh_string"><span class="sh_string">00be'</span></span><span
	class="sh_symbol"><span class="sh_symbol">;</span></span>

console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>str <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> <span
	class="sh_string"><span class="sh_string">": "</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> str<span
	class="sh_symbol"><span class="sh_symbol">.</span></span>length <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> <span
	class="sh_string"><span class="sh_string">" characters, "</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span>
  Buffer<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">byteLength</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>str<span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">'utf8'</span></span><span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> <span
	class="sh_string"><span class="sh_string">" bytes"</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

<span class="sh_comment"><span class="sh_comment">// ½ + ¼ = ¾: 9 characters, 12 bytes</span></span></code></pre>

<h3 id="buffer-length-10">buffer.length</h3>

<p>The size of the buffer in bytes. Note that this is not
necessarily the size of the contents. <code class="sh_sourceCode">length</code>
refers to the amount of memory allocated for the buffer object. It does
not change when the contents of the buffer are changed.</p>

<p class="goingmerry">
buffer字节大小。需要注意这并不一定是内容的大小，长度是指给buffer对象分配的内存总额，它不会随buffer中的内容改变而改变。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">buf <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_keyword"><span class="sh_keyword">new</span></span> <span
	class="sh_function"><span class="sh_function">Buffer</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_number"><span class="sh_number">1234</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>buf<span
	class="sh_symbol"><span class="sh_symbol">.</span></span>length<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
buf<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">write</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">"some string"</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">"ascii"</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_number"><span class="sh_number">0</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>buf<span
	class="sh_symbol"><span class="sh_symbol">.</span></span>length<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

<span class="sh_comment"><span class="sh_comment">// 1234</span></span>
<span class="sh_comment"><span class="sh_comment">// 1234</span></span></code></pre>

<h3 id="buffer-copy-11">buffer.copy(targetBuffer, targetStart,
sourceStart, sourceEnd=buffer.length)</h3>

<p>Does a memcpy() between buffers.</p>

<p class="goingmerry">
两个buffer之间进行内存拷贝。
</p>

<p>Example: build two Buffers, then copy <code class="sh_sourceCode">buf1</code>
from byte 16 through byte 19 into <code class="sh_sourceCode">buf2</code>,
starting at the 8th byte in <code class="sh_sourceCode">buf2</code>.</p>

<p class="goingmerry">
例子：创建两个buffer对象，把buf1的16字节到19字节拷贝到buf2，buf2接收位置从８字节开始。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">buf1 <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_keyword"><span class="sh_keyword">new</span></span> <span
	class="sh_function"><span class="sh_function">Buffer</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_number"><span class="sh_number">26</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
buf2 <span class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_keyword"><span class="sh_keyword">new</span></span> <span
	class="sh_function"><span class="sh_function">Buffer</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_number"><span class="sh_number">26</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

<span class="sh_keyword"><span class="sh_keyword">for</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_keyword"><span class="sh_keyword">var</span></span> i <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_number"><span class="sh_number">0</span></span> <span
	class="sh_symbol"><span class="sh_symbol">;</span></span> i <span
	class="sh_symbol"><span class="sh_symbol">&lt;</span></span> <span
	class="sh_number"><span class="sh_number">26</span></span> <span
	class="sh_symbol"><span class="sh_symbol">;</span></span> i<span
	class="sh_symbol"><span class="sh_symbol">++)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  buf1<span class="sh_symbol"><span class="sh_symbol">[</span></span>i<span
	class="sh_symbol"><span class="sh_symbol">]</span></span> <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> i <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> <span
	class="sh_number"><span class="sh_number">97</span></span><span
	class="sh_symbol"><span class="sh_symbol">;</span></span> <span
	class="sh_comment"><span class="sh_comment">// 97 is ASCII a</span></span>
  buf2<span class="sh_symbol"><span class="sh_symbol">[</span></span>i<span
	class="sh_symbol"><span class="sh_symbol">]</span></span> <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_number"><span class="sh_number">33</span></span><span
	class="sh_symbol"><span class="sh_symbol">;</span></span> <span
	class="sh_comment"><span class="sh_comment">// ASCII !</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span>

buf1<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">copy</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>buf2<span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_number"><span class="sh_number">8</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_number"><span class="sh_number">16</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_number"><span class="sh_number">20</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>buf2<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">toString</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'ascii'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_number"><span class="sh_number">0</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_number"><span class="sh_number">25</span></span><span
	class="sh_symbol"><span class="sh_symbol">));</span></span>

<span class="sh_comment"><span class="sh_comment">// !!!!!!!!qrst!!!!!!!!!!!!!</span></span></code></pre>

<h3 id="buffer-slice-12">buffer.slice(start, end=buffer.length)</h3>

<p>Returns a new buffer which references the same memory as the old,
but offset and cropped by the <code class="sh_sourceCode">start</code>
and <code class="sh_sourceCode">end</code> indexes.</p>

<p class="goingmerry">
返回一个新的buffer对象，但引用的是原来的内存，新buffer对象由start和end决定。
</p>

<p><strong>Modifying the new buffer slice will modify
memory in the original buffer!</strong></p>

<p class="goingmerry">
修改新的buffer对象也会使原来的buffer对象发生改变。
</p>

<p>Example: build a Buffer with the ASCII alphabet, take a slice,
then modify one byte from the original Buffer.</p>

<p class="goingmerry">
例子：建立一个字母表的buffer的对象，并切割出一个新的buffer对象，然后修改原始buffer对象的一个字节。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_keyword"><span class="sh_keyword">var</span></span> buf1 <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_keyword"><span class="sh_keyword">new</span></span> <span
	class="sh_function"><span class="sh_function">Buffer</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_number"><span class="sh_number">26</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

<span class="sh_keyword"><span class="sh_keyword">for</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_keyword"><span class="sh_keyword">var</span></span> i <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_number"><span class="sh_number">0</span></span> <span
	class="sh_symbol"><span class="sh_symbol">;</span></span> i <span
	class="sh_symbol"><span class="sh_symbol">&lt;</span></span> <span
	class="sh_number"><span class="sh_number">26</span></span> <span
	class="sh_symbol"><span class="sh_symbol">;</span></span> i<span
	class="sh_symbol"><span class="sh_symbol">++)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  buf1<span class="sh_symbol"><span class="sh_symbol">[</span></span>i<span
	class="sh_symbol"><span class="sh_symbol">]</span></span> <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> i <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> <span
	class="sh_number"><span class="sh_number">97</span></span><span
	class="sh_symbol"><span class="sh_symbol">;</span></span> <span
	class="sh_comment"><span class="sh_comment">// 97 is ASCII a</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span>

<span class="sh_keyword"><span class="sh_keyword">var</span></span> buf2 <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> buf1<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">slice</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_number"><span class="sh_number">0</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_number"><span class="sh_number">3</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>buf2<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">toString</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'ascii'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_number"><span class="sh_number">0</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> buf2<span
	class="sh_symbol"><span class="sh_symbol">.</span></span>length<span
	class="sh_symbol"><span class="sh_symbol">));</span></span>
buf1<span class="sh_symbol"><span class="sh_symbol">[</span></span><span
	class="sh_number"><span class="sh_number">0</span></span><span
	class="sh_symbol"><span class="sh_symbol">]</span></span> <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_number"><span class="sh_number">33</span></span><span
	class="sh_symbol"><span class="sh_symbol">;</span></span>
console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>buf2<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">toString</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'ascii'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_number"><span class="sh_number">0</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> buf2<span
	class="sh_symbol"><span class="sh_symbol">.</span></span>length<span
	class="sh_symbol"><span class="sh_symbol">));</span></span>

<span class="sh_comment"><span class="sh_comment">// abc</span></span>
<span class="sh_comment"><span class="sh_comment">// !bc</span></span></code></pre>

<h2 id="eventemitter-13">EventEmitter -- 事件触发器</h2>

<p>Many objects in Node emit events: a TCP server emits an event
each time there is a stream, a child process emits an event when it
exits. All objects which emit events are instances of <code
	class="sh_sourceCode">events<span class="sh_symbol">.</span>EventEmitter</code>.</p>

<p class="goingmerry">
node中很多对象都会触发事件：一台TCP服务器监测到有数据流时触发事件，一个子进程在退出时触发事件，所有能够发生触发事件的对象都是events.EventEmitter的实例。
</p>

<p>Events are represented by a camel-cased string. Here are some
examples: <code class="sh_sourceCode"><span class="sh_string">'connection'</span></code>,
<code class="sh_sourceCode"><span class="sh_string">'data'</span></code>,
<code class="sh_sourceCode"><span class="sh_string">'messageBegin'</span></code>.</p>

<p class="goingmerry">
事件命名为骆驼式的命名规则，这里有一些例子：'connection', 'data', 'messageBegin'。
</p>

<p>Functions can be then be attached to objects, to be executed when
an event is emitted. These functions are called <em>listeners</em>.</p>

<p class="goingmerry">
函数可以被注册到对象上，函数在对象事件触发时调用，这些函数被称作监听器。
</p>

<p><code class="sh_sourceCode"><span class="sh_function">require</span><span
	class="sh_symbol">(</span><span class="sh_string">'events'</span><span
	class="sh_symbol">).</span>EventEmitter</code> to access the <code
	class="sh_sourceCode">EventEmitter</code> class.</p>

<p class="goingmerry">
通过require('events').EventEmitter就可以调用EventEmitter类了。
</p>

<p>All EventEmitters emit the event <code class="sh_sourceCode"><span
	class="sh_string">'newListener'</span></code> when new listeners are added.</p>

<p class="goingmerry">
当向EventEmitters对象注册新的监听器时，都会解发newListener事件。
</p>

<p>When an <code class="sh_sourceCode">EventEmitter</code>
experiences an error, the typical action is to emit an <code
	class="sh_sourceCode"><span class="sh_string">'error'</span></code>
event. Error events are special--if there is no handler for them they
will print a stack trace and exit the program.</p>

<p class="goingmerry">
当EventEmitter遇到错误，典型的措施就是发出一个'错误'事件。错误事件是特殊的。如果没有对应的处理程序，那么它将打印一个堆栈跟踪并退出程序。
</p>

<h3 id="event-newlistener-14">Event: 'newListener'</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">(</span>event<span class="sh_symbol">,</span>
listener<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
<span class="sh_cbracket">}</span></code></p>

<p>This event is emitted any time someone adds a new listener.</p>

<p class="goingmerry">
事件newListener在添加新监听器时触发。
</p>

<h3 id="event-error-15">Event: 'error'</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">(</span>exception<span class="sh_symbol">)</span>
<span class="sh_cbracket">{</span> <span class="sh_cbracket">}</span></code></p>

<p>If an error was encountered, then this event is emitted. This
event is special - when there are no listeners to receive the error Node
will terminate execution and display the exception's stack trace.</p>

<p class="goingmerry">
当遇到错误时这个事件被触发，这个事件很特殊，当这里没有监听器接收这个错误的时候，Node将会停止执行并且显示异常堆栈。
</p>

<h3 id="emitter-on-16">emitter.on(event, listener)</h3>

<p>Adds a listener to the end of the listeners array for the
specified event.</p>

<p class="goingmerry">
添加一个事件监听器到指定事件监听器数组的末端。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">server<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">on</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'connection'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>stream<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'someone connected!'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<h3 id="emitter-once-17">emitter.once(event, listener)</h3>

<p>Adds a <strong>one time</strong> listener for the event. The
listener is invoked only the first time the event is fired, after which
it is removed.</p>

<p class="goingmerry">
给事件添加一个一次性监听器，这个监听器仅在第一次事件触发时调用，之后被移除。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">server<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">once</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'connection'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>stream<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'Ah, we have our first user!'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<h3 id="emitter-removelistener-18">emitter.removeListener(event,
listener)</h3>

<p>Remove a listener from the listener array for the specified
event. <strong>Caution</strong>: changes array indices in the listener
array behind the listener.</p>

<p class="goingmerry">
从指定事件删除一个监听器。注意：删除监听器后，此方法会改变剩下的监听器的索引。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_keyword"><span class="sh_keyword">var</span></span> callback <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>stream<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'someone connected!'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">;</span></span>
server<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">on</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'connection'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> callback<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_comment"><span class="sh_comment">// ...</span></span>
server<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">removeListener</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'connection'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> callback<span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<h3 id="emitter-removealllisteners-19">emitter.removeAllListeners(event)</h3>

<p>Removes all listeners from the listener array for the specified
event.</p>

<p class="goingmerry">
删除指定事件的所有监听器。
</p>

<h3 id="emitter-listeners-20">emitter.listeners(event)</h3>

<p>Returns an array of listeners for the specified event. This array
can be manipulated, e.g. to remove listeners.</p>

<p class="goingmerry">
返回指定事件的监听器数组，这个数组是可操控的，例如删除监听器。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">server<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">on</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'connection'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>stream<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'someone connected!'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>util<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">inspect</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>server<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">listeners</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'connection'</span></span><span
	class="sh_symbol"><span class="sh_symbol">));</span></span>
<span class="sh_comment"><span class="sh_comment">// [ [Function] ]</span></span></code></pre>

<h3 id="emitter-emit-21">emitter.emit(event, [arg1], [arg2], [...])</h3>

<p>Execute each of the listeners in order with the supplied
arguments.</p>

<p class="goingmerry">
用提供的参数，按顺序触发事件监听数据组中的监听器。
</p>

<h2 id="streams-22">Streams -- 流</h2>

<p>A stream is an abstract interface implemented by various objects
in Node. For example a request to an HTTP server is a stream, as is
stdout. Streams are readable, writable, or both. All streams are
instances of <code class="sh_sourceCode">EventEmitter</code>.</p>

<p class="goingmerry">
stream是一个抽象接口，在Node中有很多对象都实现了这个接口。例如：一个请求到HTTP服务器是一个流，作为标准输出，流是可读，可写，或两者兼有，所有的流都是EventEmitter的实例。
</p>

<h2 id="readable-stream-23">Readable Stream -- 可读流</h2>

<p>A <code class="sh_sourceCode">Readable Stream</code> has the
following methods, members, and events.</p>

<p class="goingmerry">
一个可读的流具有以下方法，成员和事件。
</p>

<h3 id="event-data-24">Event: 'data'</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">(</span>data<span class="sh_symbol">)</span> <span
	class="sh_cbracket">{</span> <span class="sh_cbracket">}</span></code></p>

<p>The <code class="sh_sourceCode"><span class="sh_string">'data'</span></code>
event emits either a <code class="sh_sourceCode">Buffer</code> (by
default) or a string if <code class="sh_sourceCode"><span
	class="sh_function">setEncoding</span><span class="sh_symbol">()</span></code>
was used.</p>

<p class="goingmerry">
'data'事件的参数既可以是Buffer，也可以是string，默认情况下为Buffer，如果使用了setEncoding()方法，则参数为string。
</p>

<h3 id="event-end-25">Event: 'end'</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">()</span> <span class="sh_cbracket">{</span> <span
	class="sh_cbracket">}</span></code></p>

<p>Emitted when the stream has received an EOF (FIN in TCP
terminology). Indicates that no more <code class="sh_sourceCode"><span
	class="sh_string">'data'</span></code> events will happen. If the stream is
also writable, it may be possible to continue writing.</p>

<p class="goingmerry">
当流接到EOF的时候此事件触发，表示流不会再触发'data'事件。如果流还可写，那它还可以继续写入。
</p>

<h3 id="event-error-26">Event: 'error'</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">(</span>exception<span class="sh_symbol">)</span>
<span class="sh_cbracket">{</span> <span class="sh_cbracket">}</span></code></p>

<p>Emitted if there was an error receiving data.</p>

<p class="goingmerry">
当接收数据发生错误时触发。
</p>

<h3 id="event-close-27">Event: 'close'</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">()</span> <span class="sh_cbracket">{</span> <span
	class="sh_cbracket">}</span></code></p>

<p>Emitted when the underlying file descriptor has be closed. Not
all streams will emit this. (For example, an incoming HTTP request will
not emit <code class="sh_sourceCode"><span class="sh_string">'close'</span></code>.)</p>

<p class="goingmerry">
内部文件描述符被关闭时触发。不是所有的流都会触发出此事件。（例如：传入的HTTP请求将不会触发'close'事件）
</p>

<h3 id="event-fd-28">Event: 'fd'</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">(</span>fd<span class="sh_symbol">)</span> <span
	class="sh_cbracket">{</span> <span class="sh_cbracket">}</span></code></p>

<p>Emitted when a file descriptor is received on the stream. Only
UNIX streams support this functionality; all others will simply never
emit this event.</p>

<p class="goingmerry">
当流接收到文件描述符时触发，此事件只支持UNIX数据流，其它类型流不会触发此事件。
</p>

<h3 id="stream-readable-29">stream.readable</h3>

<p>A boolean that is <code class="sh_sourceCode"><span
	class="sh_keyword">true</span></code> by default, but turns <code
	class="sh_sourceCode"><span class="sh_keyword">false</span></code>
after an <code class="sh_sourceCode"><span class="sh_string">'error'</span></code>
occured, the stream came to an <code class="sh_sourceCode"><span
	class="sh_string">'end'</span></code>, or <code class="sh_sourceCode"><span
	class="sh_function">destroy</span><span class="sh_symbol">()</span></code> was
called.</p>

<p class="goingmerry">
一个布尔值，默认状态下为true，当遇到错误、流读到结尾（遇到end事件）或调用destroy()方法时返回false。
</p>

<h3 id="stream-setencoding-30">stream.setEncoding(encoding)</h3>

<p>Makes the data event emit a string instead of a <code
	class="sh_sourceCode">Buffer</code>. <code class="sh_sourceCode">encoding</code>
can be <code class="sh_sourceCode"><span class="sh_string">'utf8'</span></code>,
<code class="sh_sourceCode"><span class="sh_string">'ascii'</span></code>,
or <code class="sh_sourceCode"><span class="sh_string">'base64'</span></code>.</p>

<p class="goingmerry">
设置data事件返回的是字符串而不是Buffer对象，编码可选'utf8'、'ascii'或'base64'。
</p>

<h3 id="stream-pause-31">stream.pause()</h3>

<p>Pauses the incoming <code class="sh_sourceCode"><span
	class="sh_string">'data'</span></code> events.</p>

<p class="goingmerry">
暂停触发'data'事件。
</p>

<h3 id="stream-resume-32">stream.resume()</h3>

<p>Resumes the incoming <code class="sh_sourceCode"><span
	class="sh_string">'data'</span></code> events after a <code
	class="sh_sourceCode"><span class="sh_function">pause</span><span
	class="sh_symbol">()</span></code>.</p>

<p class="goingmerry">
从一个'pasuse'事件中恢复触发'data'事件。
</p>

<h3 id="stream-destroy-33">stream.destroy()</h3>

<p>Closes the underlying file descriptor. Stream will not emit any
more events.</p>

<p class="goingmerry">
关闭内部文件描述符，流将不再触发任何事件。
</p>

<h2 id="writable-stream-34">Writable Stream -- 可写流</h2>

<p>A <code class="sh_sourceCode">Writable Stream</code> has the
following methods, members, and events.</p>

<p class="goingmerry">
一个可写的流具有以下方法，成员和事件。
</p>

<h3 id="event-drain-35">Event: 'drain'</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">()</span> <span class="sh_cbracket">{</span> <span
	class="sh_cbracket">}</span></code></p>

<p>Emitted after a <code class="sh_sourceCode"><span
	class="sh_function">write</span><span class="sh_symbol">()</span></code>
method was called that returned <code class="sh_sourceCode"><span
	class="sh_keyword">false</span></code> to indicate that it is safe to write
again.</p>

<p class="goingmerry">
当write()方法被调用后返回false，以表明可以再次安全写入。
</p>

<h3 id="event-error-36">Event: 'error'</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">(</span>exception<span class="sh_symbol">)</span>
<span class="sh_cbracket">{</span> <span class="sh_cbracket">}</span></code></p>

<p>Emitted on error with the exception <code class="sh_sourceCode">exception</code>.</p>

<p class="goingmerry">
当错误发生异常时触发。
</p>

<h3 id="event-close-37">Event: 'close'</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">()</span> <span class="sh_cbracket">{</span> <span
	class="sh_cbracket">}</span></code></p>

<p>Emitted when the underlying file descriptor has been closed.</p>

<p class="goingmerry">
当内部文件标识被关闭时触发。
</p>

<h3 id="stream-writeable-38">stream.writeable</h3>

<p>A boolean that is <code class="sh_sourceCode"><span
	class="sh_keyword">true</span></code> by default, but turns <code
	class="sh_sourceCode"><span class="sh_keyword">false</span></code>
after an <code class="sh_sourceCode"><span class="sh_string">'error'</span></code>
occurred or <code class="sh_sourceCode"><span class="sh_function">end</span><span
	class="sh_symbol">()</span></code> / <code class="sh_sourceCode"><span
	class="sh_function">destroy</span><span class="sh_symbol">()</span></code> was
called.</p>

<p class="goingmerry">
一个布尔值，默认状态下为true，当遇到错误、流读到结尾（遇到end事件）或调用destroy()方法时返回false。
</p>

<h3 id="stream-write-39">stream.write(string, encoding='utf8',
[fd])</h3>

<p>Writes <code class="sh_sourceCode">string</code> with the given <code
	class="sh_sourceCode">encoding</code> to the stream. Returns <code
	class="sh_sourceCode"><span class="sh_keyword">true</span></code> if
the string has been flushed to the kernel buffer. Returns <code
	class="sh_sourceCode"><span class="sh_keyword">false</span></code> to
indicate that the kernel buffer is full, and the data will be sent out
in the future. The <code class="sh_sourceCode"><span
	class="sh_string">'drain'</span></code> event will indicate when the kernel
buffer is empty again. The <code class="sh_sourceCode">encoding</code>
defaults to <code class="sh_sourceCode"><span class="sh_string">'utf8'</span></code>.</p>

<p class="goingmerry">
用给定的编码写入到流中。如果字符串被刷新到内核缓冲区，则返回true。如果返回false，表明内核缓冲区已满，数据将会被发送出去。
在'drain'事件触发时，表明内核缓冲区是空的。此方法默认编码为'utf8'。
</p>

<p>If the optional <code class="sh_sourceCode">fd</code> parameter
is specified, it is interpreted as an integral file descriptor to be
sent over the stream. This is only supported for UNIX streams, and is
silently ignored otherwise. When writing a file descriptor in this
manner, closing the descriptor before the stream drains risks sending an
invalid (closed) FD.</p>

<p class="goingmerry">
如果指定了可选参数'fd'，它将被解释为一个可以通过该流发送的完整文件描述符。这仅支持UNIX流，否则将被忽略。
当以这种方式写一个文件描述符，在流清空之前关闭文件描述符会有发送无效FD的风险。
</p>

<h3 id="stream-write-40">stream.write(buffer)</h3>

<p>Same as the above except with a raw buffer.</p>

<p class="goingmerry">
功能与上相似，不同的是此方法没有使用原始缓冲区。
</p>

<h3 id="stream-end-41">stream.end()</h3>

<p>Terminates the stream with EOF or FIN.</p>

<p class="goingmerry">
当接收到EOF或FIN时，流被终止。
</p>

<h3 id="stream-end-42">stream.end(string, encoding)</h3>

<p>Sends <code class="sh_sourceCode">string</code> with the given <code
	class="sh_sourceCode">encoding</code> and terminates the stream with
EOF or FIN. This is useful to reduce the number of packets sent.</p>

<p class="goingmerry">
按指定的编码发送字符串并使用EOF或FIN来终止流，这种方式非常有用，可以减少数据包的发送。
</p>

<h3 id="stream-end-43">stream.end(buffer)</h3>

<p>Same as above but with a <code class="sh_sourceCode">buffer</code>.</p>

<p class="goingmerry">
和上面的方法一样，但不同的是使用了一个缓冲区。
</p>

<h3 id="stream-destroy-44">stream.destroy()</h3>

<p>Closes the underlying file descriptor. Stream will not emit any
more events.</p>

<p class="goingmerry">
关闭内部文件标识符，流不会再触发任何事件。
</p>

<h2 id="global-objects-45">Global Objects -- 全局对象</h2>

<p>These object are available in the global scope and can be
accessed from anywhere.</p>

<p class="goingmerry">
这些对象在全局范围内是有效的，可以从任何地方访问。
</p>

<h3 id="global-46">global</h3>

<p>The global namespace object.</p>

<p class="goingmerry">
全局命名空间对象。
</p>

<h3 id="process-47">process</h3>

<p>The process object. See the <code class="sh_sourceCode"><span
	class="sh_string">'process object'</span></code> section.</p>

<p class="goingmerry">
了解'process'对象更多细节，请查看'process object'章节。
</p>

<h3 id="require-48">require()</h3>

<p>To require modules. See the <code class="sh_sourceCode"><span
	class="sh_string">'Modules'</span></code> section.</p>
	
<p class="goingmerry">
用于加载模块，请查看'Modules'章节。 
</p>

<h3 id="require-resolve-49">require.resolve()</h3>

<p>Use the internal <code class="sh_sourceCode"><span
	class="sh_function">require</span><span class="sh_symbol">()</span></code>
machinery to look up the location of a module, but rather than loading
the module, just return the resolved filename.</p>

<p class="goingmerry">
使用内部require()的机制查找一个模块的位置，但不是加载模块，就返回解决文件名。
</p>

<h3 id="require-paths-50">require.paths</h3>

<p>An array of search paths for <code class="sh_sourceCode"><span
	class="sh_function">require</span><span class="sh_symbol">()</span></code>.
This array can be modified to add custom paths.</p>

<p class="goingmerry">
一个require()函数的查询路径数组，这个数组可以添加自定义路径。
</p>

<p>Example: add a new path to the beginning of the search list</p>

<p class="goingmerry">
例子：添加一个新的路径到这个查询列表的开头。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">require<span
	class="sh_symbol"><span class="sh_symbol">.</span></span>paths<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">unshift</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'/usr/local/node'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<h3 id="__filename-51">__filename</h3>

<p>The filename of the script being executed. This is the absolute
path, and not necessarily the same filename passed in as a command line
argument.</p>

<p class="goingmerry">
当前运行脚本的文件名，这是绝对路径，与作为命令行参数传递进来的文件名不一定一样。
</p>

<p>Example: running <code class="sh_sourceCode">node example<span
	class="sh_symbol">.</span>js</code> from <code class="sh_sourceCode"><span
	class="sh_regexp">/Users/m</span>jr</code></p>
	
<p class="goingmerry">
例子：从/Users/mjr运行命令：node example.js
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">console<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>__filename<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_comment"><span class="sh_comment">// /Users/mjr/example.js</span></span></code></pre>

<h3 id="__dirname-52">__dirname</h3>

<p>The dirname of the script being executed.</p>

<p class="goingmerry">
当前运行脚本的文件夹名。
</p>

<p>Example: running <code class="sh_sourceCode">node example<span
	class="sh_symbol">.</span>js</code> from <code class="sh_sourceCode"><span
	class="sh_regexp">/Users/m</span>jr</code></p>

<p class="goingmerry">
例子：从/Users/mjr运行命令：node example.js
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">console<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>__dirname<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_comment"><span class="sh_comment">// /Users/mjr</span></span></code></pre>

<h3 id="module-53">module</h3>

<p>A reference to the current module (of type <code
	class="sh_sourceCode">process<span class="sh_symbol">.</span>Module</code>).
In particular <code class="sh_sourceCode">module<span
	class="sh_symbol">.</span>exports</code> is the same as the <code
	class="sh_sourceCode">exports</code> object. See <code
	class="sh_sourceCode"><span class="sh_normal">src</span><span
	class="sh_symbol">/</span>process<span class="sh_symbol">.</span>js</code> for
more information.</p>

<p class="goingmerry">
指向当前模块的引用，特别需要注意的是，module.exports与exports对象是一样的，更多信息请查看源文件src/process.js。
</p>

<h2 id="process-54">process -- 进程</h2>

<p>The <code class="sh_sourceCode">process</code> object is a global
object and can be accessed from anywhere. It is an instance of <code
	class="sh_sourceCode">EventEmitter</code>.</p>

<p class="goingmerry">
'process'对象是全局对象，可以在任何地方访问。它是'EventEmitter'的一个实例。
</p>

<h3 id="event-exit-55">Event: 'exit'</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">()</span> <span class="sh_cbracket">{}</span></code></p>

<p>Emitted when the process is about to exit. This is a good hook to
perform constant time checks of the module's state (like for unit
tests). The main event loop will no longer be run after the 'exit'
callback finishes, so timers may not be scheduled.</p>

<p class="goingmerry">
在进程即将退出时触发。这是一个很好的勾子，可以持续检查模块状态（例如：做单元测试）。当'exit'回调结束后，主事件循环将不再运行，这样计时器可能不会生效。
</p>

<p>Example of listening for <code class="sh_sourceCode">exit</code>:</p>

<p class="goingmerry">
一个监听'exit'事件的例子。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">process<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">on</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'exit'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">()</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  process<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">nextTick</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">()</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
   console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'This will not run'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
  <span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
  console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'About to exit.'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<h3 id="event-uncaughtexception-56">Event: 'uncaughtException'</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">(</span>err<span class="sh_symbol">)</span> <span
	class="sh_cbracket">{</span> <span class="sh_cbracket">}</span></code></p>

<p>Emitted when an exception bubbles all the way back to the event
loop. If a listener is added for this exception, the default action
(which is to print a stack trace and exit) will not occur.</p>

<p class="goingmerry">
当出现未处理异常时触发。如果这个异常有监听器，那么默认行为（打印一个错误堆栈跟踪和退出程序）将不会发生。
</p>

<p>Example of listening for <code class="sh_sourceCode">uncaughtException</code>:</p>

<p class="goingmerry">
一个监听'uncaughtException'事件的例子。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">process<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">on</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'uncaughtException'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>err<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'Caught exception: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> err<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

<span class="sh_function"><span class="sh_function">setTimeout</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">()</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'This will still run.'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_number"><span class="sh_number">500</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

<span class="sh_comment"><span class="sh_comment">// Intentionally cause an exception, but don't catch it.</span></span>
<span class="sh_function"><span class="sh_function">nonexistentFunc</span></span><span
	class="sh_symbol"><span class="sh_symbol">();</span></span>
console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'This will not run.'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<p>Note that <code class="sh_sourceCode">uncaughtException</code> is
a very crude mechanism for exception handling. Using try / catch in your
program will give you more control over your program's flow. Especially
for server programs that are designed to stay running forever, <code
	class="sh_sourceCode">uncaughtException</code> can be a useful safety
mechanism.</p>

<p class="goingmerry">
注意，uncaughtException是一个很简陋的异常处理机制。在你的程序里使用try/catch语句会让你更好地控制程序流程，
尤其是对那些需要持续运行在服务器端的程序，uncaughtException可以成为一个有用的安全机制。
</p>

<h3 id="signal-events-57">Signal Events</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">()</span> <span class="sh_cbracket">{}</span></code></p>

<p>Emitted when the processes receives a signal. See sigaction(2)
for a list of standard POSIX signal names such as SIGINT, SIGUSR1, etc.</p>

<p class="goingmerry">
当进程接收到信号时触发。可以查看如SIGINT，SIGUSR1之类的标准的POSIX信号列表，更多请查看sigaction(2)。
</p>

<p>Example of listening for <code class="sh_sourceCode">SIGINT</code>:</p>

<p class="goingmerry">
一个监听'SIGINT'事件的例子。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_keyword"><span class="sh_keyword">var</span></span> stdin <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> process<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">openStdin</span></span><span
	class="sh_symbol"><span class="sh_symbol">();</span></span>

process<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">on</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'SIGINT'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">()</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'Got SIGINT.  Press Control-D to exit.'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<p>An easy way to send the <code class="sh_sourceCode">SIGINT</code>
signal is with <code class="sh_sourceCode">Control<span
	class="sh_symbol">-</span>C</code> in most terminal programs.</p>

<p class="goingmerry">
一种发送'SIGINT'信号的简单方法是Ctrl+c，这种方法大多数情况下会终止运行程序。
</p>

<h3 id="process-stdout-58">process.stdout</h3>

<p>A <code class="sh_sourceCode">Writable Stream</code> to <code
	class="sh_sourceCode">stdout</code>.</p>
	
<p class="goingmerry">
一个标准输出流对象。
</p>

<p>Example: the definition of <code class="sh_sourceCode">console<span
	class="sh_symbol">.</span>log</code></p>
	
<p class="goingmerry">
例子：console.log的定义。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">console<span
	class="sh_symbol"><span class="sh_symbol">.</span></span>log <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>d<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  process<span class="sh_symbol"><span class="sh_symbol">.</span></span>stdout<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">write</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>d <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> <span
	class="sh_string"><span class="sh_string">'</span></span><span
	class="sh_specialchar"><span class="sh_specialchar">\n</span></span><span
	class="sh_string"><span class="sh_string">'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">;</span></span></code></pre>

<h3 id="process-openstdin-59">process.openStdin()</h3>

<p>Opens the standard input stream, returns a <code
	class="sh_sourceCode">Readable Stream</code>.</p>

<p class="goingmerry">
打开一个标准的输入流，并返回一个只读流对象。
</p>

<p>Example of opening standard input and listening for both events:</p>

<p class="goingmerry">
例子：打开一个标准的输入流并监听两个事件。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_keyword"><span class="sh_keyword">var</span></span> stdin <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> process<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">openStdin</span></span><span
	class="sh_symbol"><span class="sh_symbol">();</span></span>

stdin<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">setEncoding</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'utf8'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

stdin<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">on</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'data'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>chunk<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  process<span class="sh_symbol"><span class="sh_symbol">.</span></span>stdout<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">write</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'data: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> chunk<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

stdin<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">on</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'end'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">()</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  process<span class="sh_symbol"><span class="sh_symbol">.</span></span>stdout<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">write</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'end'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<h3 id="process-argv-60">process.argv</h3>

<p>An array containing the command line arguments. The first element
will be 'node', the second element will be the name of the JavaScript
file. The next elements will be any additional command line arguments.</p>

<p class="goingmerry">
一个包含命令行参数的数组。第一个元素是'node'，第二个元素是javascript文件名，下一个元素是一些额外的命令行参数。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_comment"><span class="sh_comment">// print process.argv</span></span>
process<span class="sh_symbol"><span class="sh_symbol">.</span></span>argv<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">forEach</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>val<span
	class="sh_symbol"><span class="sh_symbol">,</span></span> index<span
	class="sh_symbol"><span class="sh_symbol">,</span></span> array<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>index <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> <span
	class="sh_string"><span class="sh_string">': '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> val<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<p>This will generate:</p>

<p class="goingmerry">
结果显示如下：
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">$ node process<span
	class="sh_number"><span class="sh_number">-2</span></span><span
	class="sh_symbol"><span class="sh_symbol">.</span></span>js one two<span
	class="sh_symbol"><span class="sh_symbol">=</span></span>three four
<span class="sh_number"><span class="sh_number">0</span></span><span
	class="sh_symbol"><span class="sh_symbol">:</span></span> node
<span class="sh_number"><span class="sh_number">1</span></span><span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_regexp"><span class="sh_regexp">/Users/m</span></span><span
	class="sh_normal"><span class="sh_normal">jr</span></span><span
	class="sh_symbol"><span class="sh_symbol">/</span></span><span
	class="sh_normal"><span class="sh_normal">work</span></span><span
	class="sh_symbol"><span class="sh_symbol">/</span></span><span
	class="sh_normal"><span class="sh_normal">node</span></span><span
	class="sh_symbol"><span class="sh_symbol">/</span></span>process<span
	class="sh_number"><span class="sh_number">-2</span></span><span
	class="sh_symbol"><span class="sh_symbol">.</span></span>js
<span class="sh_number"><span class="sh_number">2</span></span><span
	class="sh_symbol"><span class="sh_symbol">:</span></span> one
<span class="sh_number"><span class="sh_number">3</span></span><span
	class="sh_symbol"><span class="sh_symbol">:</span></span> two<span
	class="sh_symbol"><span class="sh_symbol">=</span></span>three
<span class="sh_number"><span class="sh_number">4</span></span><span
	class="sh_symbol"><span class="sh_symbol">:</span></span> four</code></pre>

<h3 id="process-execpath-61">process.execPath</h3>

<p>This is the absolute pathname of the executable that started the
process.</p>

<p class="goingmerry">
可执行程序启动时的绝对路径。
</p>

<p>Example:</p>

<p class="goingmerry">
例子：
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_regexp"><span class="sh_regexp">/usr/</span></span><span
	class="sh_normal"><span class="sh_normal">local</span></span><span
	class="sh_symbol"><span class="sh_symbol">/</span></span><span
	class="sh_normal"><span class="sh_normal">bin</span></span><span
	class="sh_symbol"><span class="sh_symbol">/</span></span>node</code></pre>

<h3 id="process-chdir-62">process.chdir(directory)</h3>

<p>Changes the current working directory of the process or throws an
exception if that fails.</p>

<p class="goingmerry">
改变进程的当前工作目录，如果失败则抛出一个异常。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">console<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'Starting directory: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> process<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">cwd</span></span><span
	class="sh_symbol"><span class="sh_symbol">());</span></span>
<span class="sh_keyword"><span class="sh_keyword">try</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  process<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">chdir</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'/tmp'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
  console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'New directory: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> process<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">cwd</span></span><span
	class="sh_symbol"><span class="sh_symbol">());</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span>
<span class="sh_keyword"><span class="sh_keyword">catch</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>err<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'chdir: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> err<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span></code></pre>

<h3 id="process-compile-63">process.compile(code, filename)</h3>

<p>Similar to <code class="sh_sourceCode"><span
	class="sh_predef_func">eval</span></code> except that you can specify a <code
	class="sh_sourceCode">filename</code> for better error reporting and
the <code class="sh_sourceCode">code</code> cannot see the local scope.
The value of <code class="sh_sourceCode">filename</code> will be used as
a filename if a stack trace is generated by the compiled code.</p>

<p class="goingmerry">
类似于'eval'方法，但是你可以指定文件名，这样可以更好的记录错误信息，并且通过code参数传递的代码无法访问本地作用域，
如果编译时输出堆栈跟踪信息，那么filename参数会被用作记录这段信息文件的文件名。
</p>

<p>Example of using <code class="sh_sourceCode">process<span
	class="sh_symbol">.</span>compile</code> and <code class="sh_sourceCode"><span
	class="sh_predef_func">eval</span></code> to run the same code:</p>
	
<p class="goingmerry">
例子：使用process.compile和eval运行同一段代码。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_keyword"><span class="sh_keyword">var</span></span> localVar <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_number"><span class="sh_number">123</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span>
    compiled<span class="sh_symbol"><span class="sh_symbol">,</span></span> evaled<span
	class="sh_symbol"><span class="sh_symbol">;</span></span>

compiled <span class="sh_symbol"><span class="sh_symbol">=</span></span> process<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">compile</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'localVar = 1;'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">'myfile.js'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'localVar: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> localVar <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> <span
	class="sh_string"><span class="sh_string">', compiled: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> compiled<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
evaled <span class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_predef_func"><span class="sh_predef_func">eval</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'localVar = 1;'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'localVar: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> localVar <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> <span
	class="sh_string"><span class="sh_string">', evaled: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> evaled<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

<span class="sh_comment"><span class="sh_comment">// localVar: 123, compiled: 1</span></span>
<span class="sh_comment"><span class="sh_comment">// localVar: 1, evaled: 1</span></span></code></pre>

<p><code class="sh_sourceCode">process<span class="sh_symbol">.</span>compile</code>
does not have access to the local scope, so <code class="sh_sourceCode">localVar</code>
is unchanged. <code class="sh_sourceCode"><span
	class="sh_predef_func">eval</span></code> does have access to the local scope,
so <code class="sh_sourceCode">localVar</code> is changed.</p>

<p class="goingmerry">
process.compile不能访问本地作用域，所以变量localVar没有发生改变，eval可以访问本地作用域，所以亦是localVar被改变了。
</p>

<p>In case of syntax error in <code class="sh_sourceCode">code</code>,
<code class="sh_sourceCode">process<span class="sh_symbol">.</span>compile</code>
exits node.</p>

<p class="goingmerry">
当代码中出现语法错误时process.compile将会退出。
</p>

<p>See also: <code class="sh_sourceCode">Script</code></p>

<p class="goingmerry">
详情请参考'Script'。
</p>

<h3 id="process-cwd-64">process.cwd()</h3>

<p>Returns the current working directory of the process.</p>

<p class="goingmerry">
返回进程的当前工作目录。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">console<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'Current directory: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> process<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">cwd</span></span><span
	class="sh_symbol"><span class="sh_symbol">());</span></span></code></pre>

<h3 id="process-env-65">process.env</h3>

<p>An object containing the user environment. See environ(7).</p>

<p class="goingmerry">
一个保存用户环境的对象。详情查看'environ(7)'。
</p>

<h3 id="process-exit-66">process.exit(code=0)</h3>

<p>Ends the process with the specified <code class="sh_sourceCode">code</code>.
If omitted, exit uses the 'success' code <code class="sh_sourceCode"><span
	class="sh_number">0</span></code>.</p>

<p class="goingmerry">
使用指定状态码退出进程，如果没有指定，那么exit方法将使用表示成功的状态码０。
</p>

<p>To exit with a 'failure' code:</p>

<p class="goingmerry">
退出进程，并返回错误状态码。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">process<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">exit</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_number"><span class="sh_number">1</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<p>The shell that executed node should see the exit code as 1.</p>

<p class="goingmerry">
在shell中用node执行上述代码则得到返回值１。
</p>

<h3 id="process-getgid-67">process.getgid()</h3>

<p>Gets the group identity of the process. (See getgid(2).) This is
the numerical group id, not the group name.</p>

<p class="goingmerry">
取得进程的组标识。（详情请查看 getgid(2)），这是数字的组标识，而不是组名。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">console<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'Current gid: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> process<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">getgid</span></span><span
	class="sh_symbol"><span class="sh_symbol">());</span></span></code></pre>

<h3 id="process-setgid-68">process.setgid(id)</h3>

<p>Sets the group identity of the process. (See setgid(2).) This
accepts either a numerical ID or a groupname string. If a groupname is
specified, this method blocks while resolving it to a numerical ID.</p>

<p class="goingmerry">
设置进程的组标识，此方法可以接受的标识可以是数字形式的，也可以是字符串形式的。如果指定组名，那么此方法在解析组名成组ID时会发生堵塞。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">console<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'Current gid: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> process<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">getgid</span></span><span
	class="sh_symbol"><span class="sh_symbol">());</span></span>
<span class="sh_keyword"><span class="sh_keyword">try</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  process<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">setgid</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_number"><span class="sh_number">501</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
  console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'New gid: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> process<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">getgid</span></span><span
	class="sh_symbol"><span class="sh_symbol">());</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span>
<span class="sh_keyword"><span class="sh_keyword">catch</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>err<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'Failed to set gid: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> err<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span></code></pre>

<h3 id="process-getuid-69">process.getuid()</h3>

<p>Gets the user identity of the process. (See getuid(2).) This is
the numerical userid, not the username.</p>

<p class="goingmerry">
取得进程的用户标识。（参考 getuid(2)），这是数字的用户标识，而不是用户名。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">console<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'Current uid: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> process<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">getuid</span></span><span
	class="sh_symbol"><span class="sh_symbol">());</span></span></code></pre>

<h3 id="process-setuid-70">process.setuid(id)</h3>

<p>Sets the user identity of the process. (See setuid(2).) This
accepts either a numerical ID or a username string. If a username is
specified, this method blocks while resolving it to a numerical ID.</p>

<p class="goingmerry">
设置进程的用户标识。（参考 setuid(2)）。此方法可以接受的标识可以是数字形式的，也可以是字符串形式的。如果指定用户名，那么此方法将用户名解析成用户ID时会发生堵塞。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">console<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'Current uid: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> process<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">getuid</span></span><span
	class="sh_symbol"><span class="sh_symbol">());</span></span>
<span class="sh_keyword"><span class="sh_keyword">try</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  process<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">setuid</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_number"><span class="sh_number">501</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
  console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'New uid: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> process<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">getuid</span></span><span
	class="sh_symbol"><span class="sh_symbol">());</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span>
<span class="sh_keyword"><span class="sh_keyword">catch</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>err<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'Failed to set uid: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> err<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span></code></pre>

<h3 id="process-version-71">process.version</h3>

<p>A compiled-in property that exposes <code class="sh_sourceCode">NODE_VERSION</code>.</p>

<p class="goingmerry">
一个编译时的属性，显示为NODE_VERSION
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">console<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'Version: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> process<span
	class="sh_symbol"><span class="sh_symbol">.</span></span>version<span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<h3 id="process-installprefix-72">process.installPrefix</h3>

<p>A compiled-in property that exposes <code class="sh_sourceCode">NODE_PREFIX</code>.</p>

<p class="goingmerry">
一个编译时的属性，显示为NODE_PREFIX。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">console<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'Prefix: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> process<span
	class="sh_symbol"><span class="sh_symbol">.</span></span>installPrefix<span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<h3 id="process-kill-73">process.kill(pid, signal='SIGINT')</h3>

<p>Send a signal to a process. <code class="sh_sourceCode">pid</code>
is the process id and <code class="sh_sourceCode">signal</code> is the
string describing the signal to send. Signal names are strings like
'SIGINT' or 'SIGUSR1'. If omitted, the signal will be 'SIGINT'. See
kill(2) for more information.</p>

<p class="goingmerry">
给一个进程传递一个信号。pid是进程的id，signal是描述发送信号的字符串，信号的名称是一些字符串，例如'SIGINT'或者'SIGUSR1'，如果名称被忽略，那么默认发送'SIGINT'。
详情参考kill(2)。
</p>

<p>Note that just because the name of this function is <code
	class="sh_sourceCode">process<span class="sh_symbol">.</span>kill</code>,
it is really just a signal sender, like the <code class="sh_sourceCode">kill</code>
system call. The signal sent may do something other than kill the target
process.</p>

<p class="goingmerry">
注意，虽然这个函数的名称叫process.kill，但它实际上只用于信号发送，像系统调用kill函数一样。发送信号除了可以杀死目标进程外，还可以做一些其它的事情。
</p>

<p>Example of sending a signal to yourself:</p>

<p class="goingmerry">
一个发送信号给自己的例子。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">process<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">on</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'SIGHUP'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">()</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'Got SIGHUP signal.'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

<span class="sh_function"><span class="sh_function">setTimeout</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">()</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'Exiting.'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
  process<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">exit</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_number"><span class="sh_number">0</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_number"><span class="sh_number">100</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

process<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">kill</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>process<span
	class="sh_symbol"><span class="sh_symbol">.</span></span>pid<span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">'SIGHUP'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<h3 id="process-pid-74">process.pid</h3>

<p>The PID of the process.</p>

<p class="goingmerry">
返回进程的PID。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">console<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'This process is pid '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> process<span
	class="sh_symbol"><span class="sh_symbol">.</span></span>pid<span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<h3 id="process-title-75">process.title</h3>

<p>Getter/setter to set what is displayed in 'ps'.</p>

<p class="goingmerry">
取得／设置ps命令中所显示的进程名称。
</p>

<h3 id="process-platform-76">process.platform</h3>

<p>What platform you're running on. <code class="sh_sourceCode"><span
	class="sh_string">'linux2'</span></code>, <code class="sh_sourceCode"><span
	class="sh_string">'darwin'</span></code>, etc.</p>
	
<p class="goingmerry">
返回用户的程序运行平台。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">console<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'This platform is '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> process<span
	class="sh_symbol"><span class="sh_symbol">.</span></span>platform<span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<h3 id="process-memoryusage-77">process.memoryUsage()</h3>

<p>Returns an object describing the memory usage of the Node
process.</p>

<p class="goingmerry">
返回一个描述node进程内存使用情况的对象。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_keyword"><span class="sh_keyword">var</span></span> util <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_function"><span class="sh_function">require</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'util'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>util<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">inspect</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>process<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">memoryUsage</span></span><span
	class="sh_symbol"><span class="sh_symbol">()));</span></span></code></pre>

<p>This will generate:</p>

<p class="goingmerry">
上述代码结果显示如下：
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span> rss<span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_number"><span class="sh_number">4935680</span></span>
<span class="sh_symbol"><span class="sh_symbol">,</span></span> vsize<span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_number"><span class="sh_number">41893888</span></span>
<span class="sh_symbol"><span class="sh_symbol">,</span></span> heapTotal<span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_number"><span class="sh_number">1826816</span></span>
<span class="sh_symbol"><span class="sh_symbol">,</span></span> heapUsed<span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_number"><span class="sh_number">650472</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span></code></pre>

<p><code class="sh_sourceCode">heapTotal</code> and <code
	class="sh_sourceCode">heapUsed</code> refer to V8's memory usage.</p>

<p class="goingmerry">
'heapTotal'和'heapUsed' 指V8使用的内存。
</p>

<h3 id="process-nexttick-78">process.nextTick(callback)</h3>

<p>On the next loop around the event loop call this callback. This
is <em>not</em> a simple alias to <code class="sh_sourceCode"><span
	class="sh_function">setTimeout</span><span class="sh_symbol">(</span>fn<span
	class="sh_symbol">,</span> <span class="sh_number">0</span><span
	class="sh_symbol">)</span></code>, it's much more efficient.</p>

<p class="goingmerry">
在事件循环的下一次循环调用这个回调函数，此方法不是和'setTimeout(fn, 0)'一样的别名方法，它的效率更高。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">process<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">nextTick</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">()</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'nextTick callback'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<h3 id="process-umask-79">process.umask([mask])</h3>

<p>Sets or reads the process's file mode creation mask. Child
processes inherit the mask from the parent process. Returns the old mask
if <code class="sh_sourceCode">mask</code> argument is given, otherwise
returns the current mask.</p>

<p class="goingmerry">
设置或读取进程的文件模式创建掩码，子进程会从父进程继承掩码，如果指定了mask参数，那么将返回旧的掩码，否则返回当前掩码。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_keyword"><span class="sh_keyword">var</span></span> oldmask<span
	class="sh_symbol"><span class="sh_symbol">,</span></span> newmask <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_number"><span class="sh_number">0644</span></span><span
	class="sh_symbol"><span class="sh_symbol">;</span></span>

oldmask <span class="sh_symbol"><span class="sh_symbol">=</span></span> process<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">umask</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>newmask<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'Changed umask from: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> oldmask<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">toString</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_number"><span class="sh_number">8</span></span><span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span>
            <span class="sh_string"><span class="sh_string">' to '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> newmask<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">toString</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_number"><span class="sh_number">8</span></span><span
	class="sh_symbol"><span class="sh_symbol">));</span></span></code></pre>

<h2 id="util-80">util -- 工具集</h2>

<p>These functions are in the module <code class="sh_sourceCode"><span
	class="sh_string">'util'</span></code>. Use <code class="sh_sourceCode"><span
	class="sh_function">require</span><span class="sh_symbol">(</span><span
	class="sh_string">'util'</span><span class="sh_symbol">)</span></code> to
access them.</p>

<p class="goingmerry">
这些函数包含在'util'模块中，使用require('util')来访问它们。
</p>

<h3 id="util-print-81">util.print(string)</h3>

<p>Like <code class="sh_sourceCode">console<span
	class="sh_symbol">.</span><span class="sh_function">log</span><span
	class="sh_symbol">()</span></code> but without the trailing newline.</p>

<p class="goingmerry">
这个方法就像'console.log'一样，但不同的是它不能换行。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_function"><span class="sh_function">require</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'util'</span></span><span
	class="sh_symbol"><span class="sh_symbol">).</span></span><span
	class="sh_function"><span class="sh_function">print</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'String with no newline'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<h3 id="util-debug-82">util.debug(string)</h3>

<p>A synchronous output function. Will block the process and output
<code class="sh_sourceCode">string</code> immediately to <code
	class="sh_sourceCode">stderr</code>.</p>
	
<p class="goingmerry">
一个同步输出函数，它将堵塞进程并将字符串打印到标准错误输出。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_function"><span class="sh_function">require</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'util'</span></span><span
	class="sh_symbol"><span class="sh_symbol">).</span></span><span
	class="sh_function"><span class="sh_function">debug</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'message on stderr'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<h3 id="util-log-83">util.log(string)</h3>

<p>Output with timestamp on <code class="sh_sourceCode">stdout</code>.</p>

<p class="goingmerry">
将字符串输出到标准输出并附加时间戳。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_function"><span class="sh_function">require</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'util'</span></span><span
	class="sh_symbol"><span class="sh_symbol">).</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'Timestmaped message.'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<h3 id="util-inspect-84">util.inspect(object, showHidden=false,
depth=2)</h3>

<p>Return a string representation of <code class="sh_sourceCode">object</code>,
which is useful for debugging.</p>

<p class="goingmerry">
把对象转化为字符串并返回，这对调试十分有帮助。
</p>

<p>If <code class="sh_sourceCode">showHidden</code> is <code
	class="sh_sourceCode"><span class="sh_keyword">true</span></code>, then
the object's non-enumerable properties will be shown too.</p>

<p class="goingmerry">
如果'showHidden'为true,那么对象非枚举属性也将被转化。
</p>

<p>If <code class="sh_sourceCode">depth</code> is provided, it tells
<code class="sh_sourceCode">inspect</code> how many times to recurse
while formatting the object. This is useful for inspecting large
complicated objects.</p>

<p class="goingmerry">
如果指定'depth'参数，那么它会告诉'inspect'格式化对象时要递归的次数，这对于解析大而复杂的对象十分有用。
</p>

<p>The default is to only recurse twice. To make it recurse
indefinitely, pass in <code class="sh_sourceCode"><span
	class="sh_keyword">null</span></code> for <code class="sh_sourceCode">depth</code>.</p>
	
<p class="goingmerry">
默认情况下只递归两次，如果要让它无限递归，那么把'depth'参数设置为null就可以了。
</p>

<p>Example of inspecting all properties of the <code
	class="sh_sourceCode">util</code> object:</p>

<p class="goingmerry">
例子：解析util对象的所有属性。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_keyword"><span class="sh_keyword">var</span></span> util <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_function"><span class="sh_function">require</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'util'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>util<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">inspect</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>util<span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">true</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">null</span></span><span
	class="sh_symbol"><span class="sh_symbol">));</span></span></code></pre>

<h3 id="util-pump-85">util.pump(readableStream, writeableStream,
[callback])</h3>

<p>Experimental</p>

<p class="goingmerry">
实验性的。
</p>

<p>Read the data from <code class="sh_sourceCode">readableStream</code>
and send it to the <code class="sh_sourceCode">writableStream</code>.
When <code class="sh_sourceCode">writeableStream<span
	class="sh_symbol">.</span><span class="sh_function">write</span><span
	class="sh_symbol">(</span>data<span class="sh_symbol">)</span></code> returns
<code class="sh_sourceCode"><span class="sh_keyword">false</span></code>
<code class="sh_sourceCode">readableStream</code> will be paused until
the <code class="sh_sourceCode">drain</code> event occurs on the <code
	class="sh_sourceCode">writableStream</code>. <code
	class="sh_sourceCode">callback</code> gets an error as its only
argument and is called when <code class="sh_sourceCode">writableStream</code>
is closed or when an error occurs.</p>

<p class="goingmerry">
从'readableStream'中读取数据，并发送到'writableStream'中，当writeableStream.write(data)调用返回false时，readableStream将会这被暂停，直到'writableStream'的'drain'事件触发。
当'writableStream'被关闭或是发生错误时，回调函数将被调用，并且接受一个错误当参数。
</p>

<h2 id="timers-86">Timers -- 定时器</h2>

<h3 id="settimeout-87">setTimeout(callback, delay, [arg], [...])</h3>

<p>To schedule execution of <code class="sh_sourceCode">callback</code>
after <code class="sh_sourceCode">delay</code> milliseconds. Returns a <code
	class="sh_sourceCode">timeoutId</code> for possible use with <code
	class="sh_sourceCode"><span class="sh_function">clearTimeout</span><span
	class="sh_symbol">()</span></code>. Optionally, you can also pass arguments to
the callback.</p>

<p class="goingmerry">
间隔'delay'毫秒后调用一次callback函数，并返回一个'timeoutId'，clearTimeout()方法可以使用'timeoutId'做为参数，清除定时器。另外，你还可以把参数传给callback函数。
</p>

<h3 id="cleartimeout-88">clearTimeout(timeoutId)</h3>

<p>Prevents a timeout from triggering.</p>

清除指定用'setTimeout()'定义的定时器调用。

<h3 id="setinterval-89">setInterval(callback, delay, [arg], [...])</h3>

<p>To schedule the repeated execution of <code class="sh_sourceCode">callback</code>
every <code class="sh_sourceCode">delay</code> milliseconds. Returns a <code
	class="sh_sourceCode">intervalId</code> for possible use with <code
	class="sh_sourceCode"><span class="sh_function">clearInterval</span><span
	class="sh_symbol">()</span></code>. Optionally, you can also pass arguments to
the callback.</p>

<p class="goingmerry">
每隔'delay'毫秒调用一次callback函数，并返回一个'timeoutId'，clearInterval()方法可以使用'timeoutId'做为参数，清除定时器。另外，你还可以把参数传给callback函数。
</p>

<h3 id="clearinterval-90">clearInterval(intervalId)</h3>

<p>Stops a interval from triggering.</p>

清除指定用'setInterval()'定义的定时器调用。

<h2 id="child-processes-91">Child Processes -- 子进程</h2>

<p>Node provides a tri-directional <code class="sh_sourceCode"><span
	class="sh_function">popen</span><span class="sh_symbol">(</span><span
	class="sh_number">3</span><span class="sh_symbol">)</span></code> facility
through the <code class="sh_sourceCode">ChildProcess</code> class.</p>

<p class="goingmerry">
Node通过'ChildProcess'类为'popen(3)'提供全方位的支持。
</p>

<p>It is possible to stream data through the child's <code
	class="sh_sourceCode">stdin</code>, <code class="sh_sourceCode">stdout</code>,
and <code class="sh_sourceCode">stderr</code> in a fully non-blocking
way.</p>

<p class="goingmerry">
流数据可以通过子进程的标准输入、标准输出和标准错误输出进行完全无阻塞式传递。
</p>

<p>To create a child process use <code class="sh_sourceCode"><span
	class="sh_function">require</span><span class="sh_symbol">(</span><span
	class="sh_string">'child_process'</span><span class="sh_symbol">).</span><span
	class="sh_function">spawn</span><span class="sh_symbol">()</span></code>.</p>
	
<p class="goingmerry">
创建一个子进程可以使用'require('child_process').spawn()'方法。
</p>

<p>Child processes always have three streams associated with them. <code
	class="sh_sourceCode">child<span class="sh_symbol">.</span>stdin</code>,
<code class="sh_sourceCode">child<span class="sh_symbol">.</span>stdout</code>,
and <code class="sh_sourceCode">child<span class="sh_symbol">.</span>stderr</code>.</p>

<p class="goingmerry">
子进程总是拥有三个流对象，'child.stdin'(子进程的标准输入)、'child.stdout'(子进程的标准输出)和'child.stderr'(子进程错误标准输出)。
</p>

<p><code class="sh_sourceCode">ChildProcess</code> is an <code
	class="sh_sourceCode">EventEmitter</code>.</p>
	
<p class="goingmerry">
'ChildProcess'类也是一个事件触发器。
</p>

<h3 id="event-exit-92">Event: 'exit'</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">(</span>code<span class="sh_symbol">,</span>
signal<span class="sh_symbol">)</span> <span class="sh_cbracket">{}</span></code></p>

<p>This event is emitted after the child process ends. If the
process terminated normally, <code class="sh_sourceCode">code</code> is
the final exit code of the process, otherwise <code
	class="sh_sourceCode"><span class="sh_keyword">null</span></code>. If
the process terminated due to receipt of a signal, <code
	class="sh_sourceCode">signal</code> is the string name of the signal,
otherwise <code class="sh_sourceCode"><span class="sh_keyword">null</span></code>.</p>

<p class="goingmerry">
这个事件在子进程结束后触发。如果这个进程正常终止，那么'code'参数值为子进程退出后的返回值，否则为空。
如果进程是因为接收到信号而终止，那么'signal'参数值就是接收到的信号的名字，否则为空。
</p>

<p>See <code class="sh_sourceCode"><span class="sh_function">waitpid</span><span
	class="sh_symbol">(</span><span class="sh_number">2</span><span
	class="sh_symbol">)</span></code>.</p>
	
<p class="goingmerry">
详情请查看 waitpid(2)
</p>

<h3 id="child-stdin-93">child.stdin</h3>

<p>A <code class="sh_sourceCode">Writable Stream</code> that
represents the child process's <code class="sh_sourceCode">stdin</code>.
Closing this stream via <code class="sh_sourceCode"><span
	class="sh_function">end</span><span class="sh_symbol">()</span></code> often
causes the child process to terminate.</p>

<p class="goingmerry">
一个可写的流表示的是子进程的标准输入，使用'end()'方法关闭此流通常会导致子进程关闭。
</p>

<h3 id="child-stdout-94">child.stdout</h3>

<p>A <code class="sh_sourceCode">Readable Stream</code> that
represents the child process's <code class="sh_sourceCode">stdout</code>.</p>

<p class="goingmerry">
一个只读流表示的是子进程的标准输出。
</p>

<h3 id="child-stderr-95">child.stderr</h3>

<p>A <code class="sh_sourceCode">Readable Stream</code> that
represents the child process's <code class="sh_sourceCode">stderr</code>.</p>

<p class="goingmerry">
一个只读流代表子进程的标准错误输出。
</p>

<h3 id="child-pid-96">child.pid</h3>

<p>The PID of the child process.</p>

<p class="goingmerry">
返回子进程的PID。
</p>

<p>Example:</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_keyword"><span class="sh_keyword">var</span></span> spawn <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_function"><span class="sh_function">require</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'child_process'</span></span><span
	class="sh_symbol"><span class="sh_symbol">).</span></span>spawn<span
	class="sh_symbol"><span class="sh_symbol">,</span></span>
    grep  <span class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_function"><span class="sh_function">spawn</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'grep'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_symbol"><span class="sh_symbol">[</span></span><span
	class="sh_string"><span class="sh_string">'ssh'</span></span><span
	class="sh_symbol"><span class="sh_symbol">]);</span></span>

console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'Spawned child pid: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> grep<span
	class="sh_symbol"><span class="sh_symbol">.</span></span>pid<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
grep<span class="sh_symbol"><span class="sh_symbol">.</span></span>stdin<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">end</span></span><span
	class="sh_symbol"><span class="sh_symbol">();</span></span></code></pre>

<h3 id="child_process-spawn-97">child_process.spawn(command,
args=[], [options])</h3>

<p>Launches a new process with the given <code class="sh_sourceCode">command</code>,
with command line arguments in <code class="sh_sourceCode">args</code>.
If omitted, <code class="sh_sourceCode">args</code> defaults to an empty
Array.</p>

<p class="goingmerry">
使用命令启动一个进程，把命令行参数传到'args'参数中，如果'args'参数被省略，那么'args'默认为空的数组。
</p>

<p>The third argument is used to specify additional options, which
defaults to:</p>

<p class="goingmerry">
第三个参数通常用来描述额外的选项，默认值如下：
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span> cwd<span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_predef_var"><span class="sh_predef_var">undefined</span></span>
<span class="sh_symbol"><span class="sh_symbol">,</span></span> env<span
	class="sh_symbol"><span class="sh_symbol">:</span></span> process<span
	class="sh_symbol"><span class="sh_symbol">.</span></span>env<span
	class="sh_symbol"><span class="sh_symbol">,</span></span>
<span class="sh_symbol"><span class="sh_symbol">,</span></span> customFds<span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_symbol"><span class="sh_symbol">[-</span></span><span
	class="sh_number"><span class="sh_number">1</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_symbol"><span class="sh_symbol">-</span></span><span
	class="sh_number"><span class="sh_number">1</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_symbol"><span class="sh_symbol">-</span></span><span
	class="sh_number"><span class="sh_number">1</span></span><span
	class="sh_symbol"><span class="sh_symbol">]</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span></code></pre>

<p><code class="sh_sourceCode">cwd</code> allows you to specify the
working directory from which the process is spawned. Use <code
	class="sh_sourceCode">env</code> to specify environment variables that
will be visible to the new process. With <code class="sh_sourceCode">customFds</code>
it is possible to hook up the new process' [stdin, stout, stderr] to
existing streams; <code class="sh_sourceCode"><span
	class="sh_symbol">-</span><span class="sh_number">1</span></code> means that a
new stream should be created.</p>

<p class="goingmerry">
'cwd'允许你为新进程指定工作目录，使用'env'为新进程指定可见的环境变量。'customFds'可以把新进程的'[stdin, stout, stderr]'属性绑定到已有的流上。
</p>

<p>Example of running <code class="sh_sourceCode">ls <span
	class="sh_symbol">-</span><span class="sh_normal">lh </span><span
	class="sh_symbol">/</span>usr</code>, capturing <code class="sh_sourceCode">stdout</code>,
<code class="sh_sourceCode">stderr</code>, and the exit code:</p>

<p class="goingmerry">
例子：运行命令'ls -lh /usr‘, 捕捉'stdout', 'stderr'以及退出代码。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_keyword"><span class="sh_keyword">var</span></span> util   <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_function"><span class="sh_function">require</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'util'</span></span><span
	class="sh_symbol"><span class="sh_symbol">),</span></span>
    spawn <span class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_function"><span class="sh_function">require</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'child_process'</span></span><span
	class="sh_symbol"><span class="sh_symbol">).</span></span>spawn<span
	class="sh_symbol"><span class="sh_symbol">,</span></span>
    ls    <span class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_function"><span class="sh_function">spawn</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'ls'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_symbol"><span class="sh_symbol">[</span></span><span
	class="sh_string"><span class="sh_string">'-lh'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">'/usr'</span></span><span
	class="sh_symbol"><span class="sh_symbol">]);</span></span>

ls<span class="sh_symbol"><span class="sh_symbol">.</span></span>stdout<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">on</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'data'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>data<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  util<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">print</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'stdout: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> data<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

ls<span class="sh_symbol"><span class="sh_symbol">.</span></span>stderr<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">on</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'data'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>data<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  util<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">print</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'stderr: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> data<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

ls<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">on</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'exit'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>code<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'child process exited with code '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> code<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<p>Example: A very elaborate way to run 'ps ax | grep ssh'</p>

<p class="goingmerry">
例子：一种十分优美的方式来运行命令'ps ax | grep ssh'。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_keyword"><span class="sh_keyword">var</span></span> util   <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_function"><span class="sh_function">require</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'util'</span></span><span
	class="sh_symbol"><span class="sh_symbol">),</span></span>
    spawn <span class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_function"><span class="sh_function">require</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'child_process'</span></span><span
	class="sh_symbol"><span class="sh_symbol">).</span></span>spawn<span
	class="sh_symbol"><span class="sh_symbol">,</span></span>
    ps    <span class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_function"><span class="sh_function">spawn</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'ps'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_symbol"><span class="sh_symbol">[</span></span><span
	class="sh_string"><span class="sh_string">'ax'</span></span><span
	class="sh_symbol"><span class="sh_symbol">]),</span></span>
    grep  <span class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_function"><span class="sh_function">spawn</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'grep'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_symbol"><span class="sh_symbol">[</span></span><span
	class="sh_string"><span class="sh_string">'ssh'</span></span><span
	class="sh_symbol"><span class="sh_symbol">]);</span></span>

ps<span class="sh_symbol"><span class="sh_symbol">.</span></span>stdout<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">on</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'data'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>data<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  grep<span class="sh_symbol"><span class="sh_symbol">.</span></span>stdin<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">write</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>data<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

ps<span class="sh_symbol"><span class="sh_symbol">.</span></span>stderr<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">on</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'data'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>data<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  util<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">print</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'ps stderr: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> data<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

ps<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">on</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'exit'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>code<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  <span class="sh_keyword"><span class="sh_keyword">if</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>code <span
	class="sh_symbol"><span class="sh_symbol">!==</span></span> <span
	class="sh_number"><span class="sh_number">0</span></span><span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
    console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'ps process exited with code '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> code<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
  <span class="sh_cbracket"><span class="sh_cbracket">}</span></span>
  grep<span class="sh_symbol"><span class="sh_symbol">.</span></span>stdin<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">end</span></span><span
	class="sh_symbol"><span class="sh_symbol">();</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

grep<span class="sh_symbol"><span class="sh_symbol">.</span></span>stdout<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">on</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'data'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>data<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  util<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">print</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>data<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

grep<span class="sh_symbol"><span class="sh_symbol">.</span></span>stderr<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">on</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'data'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>data<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  util<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">print</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'grep stderr: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> data<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

grep<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">on</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'exit'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>code<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  <span class="sh_keyword"><span class="sh_keyword">if</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>code <span
	class="sh_symbol"><span class="sh_symbol">!==</span></span> <span
	class="sh_number"><span class="sh_number">0</span></span><span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
    console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'grep process exited with code '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> code<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
  <span class="sh_cbracket"><span class="sh_cbracket">}</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<p>Example of checking for failed exec:</p>

<p class="goingmerry">
例子：检查错误退出代码。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_keyword"><span class="sh_keyword">var</span></span> spawn <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_function"><span class="sh_function">require</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'child_process'</span></span><span
	class="sh_symbol"><span class="sh_symbol">).</span></span>spawn<span
	class="sh_symbol"><span class="sh_symbol">,</span></span>
    child <span class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_function"><span class="sh_function">spawn</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'bad_command'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

child<span class="sh_symbol"><span class="sh_symbol">.</span></span>stderr<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">on</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'data'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>data<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  <span class="sh_keyword"><span class="sh_keyword">if</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_regexp"><span class="sh_regexp">/^execvp\(\)/</span></span><span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">test</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>data<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">asciiSlice</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_number"><span class="sh_number">0</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span>data<span
	class="sh_symbol"><span class="sh_symbol">.</span></span>length<span
	class="sh_symbol"><span class="sh_symbol">)))</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
    console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'Failed to start child process.'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
  <span class="sh_cbracket"><span class="sh_cbracket">}</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<p>See also: <code class="sh_sourceCode">child_process<span
	class="sh_symbol">.</span><span class="sh_function">exec</span><span
	class="sh_symbol">()</span></code></p>

<h3 id="child_process-exec-98">child_process.exec(command,
[options], callback)</h3>

<p>High-level way to execute a command as a child process, buffer
the output, and return it all in a callback.</p>

<p class="goingmerry">
高级方法，用子进程去运行一个命令，缓存输出，并把输出以回调函数的形式返回。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_keyword"><span class="sh_keyword">var</span></span> util   <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_function"><span class="sh_function">require</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'util'</span></span><span
	class="sh_symbol"><span class="sh_symbol">),</span></span>
    exec  <span class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_function"><span class="sh_function">require</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'child_process'</span></span><span
	class="sh_symbol"><span class="sh_symbol">).</span></span>exec<span
	class="sh_symbol"><span class="sh_symbol">,</span></span>
    child<span class="sh_symbol"><span class="sh_symbol">;</span></span>

child <span class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_function"><span class="sh_function">exec</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'cat *.js bad_file | wc -l'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> 
  <span class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>error<span
	class="sh_symbol"><span class="sh_symbol">,</span></span> stdout<span
	class="sh_symbol"><span class="sh_symbol">,</span></span> stderr<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
    util<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">print</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'stdout: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> stdout<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
    util<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">print</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'stderr: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> stderr<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
    <span class="sh_keyword"><span class="sh_keyword">if</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>error <span
	class="sh_symbol"><span class="sh_symbol">!==</span></span> <span
	class="sh_keyword"><span class="sh_keyword">null</span></span><span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
      console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'exec error: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> error<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
    <span class="sh_cbracket"><span class="sh_cbracket">}</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<p>The callback gets the arguments <code class="sh_sourceCode"><span
	class="sh_symbol">(</span>error<span class="sh_symbol">,</span> stdout<span
	class="sh_symbol">,</span> stderr<span class="sh_symbol">)</span></code>. On
success, <code class="sh_sourceCode">error</code> will be <code
	class="sh_sourceCode"><span class="sh_keyword">null</span></code>. On
error, <code class="sh_sourceCode">error</code> will be an instance of <code
	class="sh_sourceCode"><span class="sh_predef_func">Error</span></code>
and <code class="sh_sourceCode">err<span class="sh_symbol">.</span>code</code>
will be the exit code of the child process, and <code
	class="sh_sourceCode">err<span class="sh_symbol">.</span>signal</code>
will be set to the signal that terminated the process.</p>

<p class="goingmerry">
回调函数有几个参数（error, stdout, stderr），成功则'error'参数为null，失败时'error'将会是一个Error类的一个实例并且'err.code'为子进程退出的返回值，
'err.signal'为终止进程的信号。
</p>

<p>There is a second optional argument to specify several options.
The default options are</p>

<p class="goingmerry">
此函数的第二个任选参数的一些选项如下：
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span> encoding<span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_string"><span class="sh_string">'utf8'</span></span>
<span class="sh_symbol"><span class="sh_symbol">,</span></span> timeout<span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_number"><span class="sh_number">0</span></span>
<span class="sh_symbol"><span class="sh_symbol">,</span></span> maxBuffer<span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_number"><span class="sh_number">200</span></span><span
	class="sh_symbol"><span class="sh_symbol">*</span></span><span
	class="sh_number"><span class="sh_number">1024</span></span>
<span class="sh_symbol"><span class="sh_symbol">,</span></span> killSignal<span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_string"><span class="sh_string">'SIGTERM'</span></span>
<span class="sh_symbol"><span class="sh_symbol">,</span></span> cwd<span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_keyword"><span class="sh_keyword">null</span></span>
<span class="sh_symbol"><span class="sh_symbol">,</span></span> env<span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_keyword"><span class="sh_keyword">null</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span></code></pre>

<p>If <code class="sh_sourceCode">timeout</code> is greater than 0,
then it will kill the child process if it runs longer than <code
	class="sh_sourceCode">timeout</code> milliseconds. The child process is
killed with <code class="sh_sourceCode">killSignal</code> (default: <code
	class="sh_sourceCode"><span class="sh_string">'SIGTERM'</span></code>).
<code class="sh_sourceCode">maxBuffer</code> specifies the largest
amount of data allowed on stdout or stderr - if this value is exceeded
then the child process is killed.</p>

<p class="goingmerry">
如果参数'timeout'的值大于０，当子进程的运行时间大于'timeout'时，子进程将会被终止。子进程终止的信号设置参数为'killSignal'(默认为'SIGNTERM')。
'maxBuffer'设置'stdout'或'stderr'的最大缓存值，如果这个值被超过，那么子进程将被终止。
</p>

<h3 id="child-kill-99">child.kill(signal='SIGTERM')</h3>

<p>Send a signal to the child process. If no argument is given, the
process will be sent <code class="sh_sourceCode"><span
	class="sh_string">'SIGTERM'</span></code>. See <code class="sh_sourceCode"><span
	class="sh_function">signal</span><span class="sh_symbol">(</span><span
	class="sh_number">7</span><span class="sh_symbol">)</span></code> for a list
of available signals.</p>

<p class="goingmerry">
发送一个信号给子进程，如果参数没有指定，那么进程将会发送'SIGTERM'。所有有效信号列表请查看signal(7)。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_keyword"><span class="sh_keyword">var</span></span> spawn <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_function"><span class="sh_function">require</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'child_process'</span></span><span
	class="sh_symbol"><span class="sh_symbol">).</span></span>spawn<span
	class="sh_symbol"><span class="sh_symbol">,</span></span>
    grep  <span class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_function"><span class="sh_function">spawn</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'grep'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_symbol"><span class="sh_symbol">[</span></span><span
	class="sh_string"><span class="sh_string">'ssh'</span></span><span
	class="sh_symbol"><span class="sh_symbol">]);</span></span>

grep<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">on</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'exit'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>code<span
	class="sh_symbol"><span class="sh_symbol">,</span></span> signal<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'child process terminated due to receipt of signal '</span></span><span
	class="sh_symbol"><span class="sh_symbol">+</span></span>signal<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

<span class="sh_comment"><span class="sh_comment">// send SIGHUP to process</span></span>
grep<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">kill</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'SIGHUP'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<p>Note that while the function is called <code
	class="sh_sourceCode">kill</code>, the signal delivered to the child
process may not actually kill it. <code class="sh_sourceCode">kill</code>
really just sends a signal to a process.</p>

<p class="goingmerry">
请注意，虽然函数名字叫kill，信号传递给子进程并不一定真正地终止它，kill实际上只是发了一个信号给进程。
</p>

<p>See <code class="sh_sourceCode"><span class="sh_function">kill</span><span
	class="sh_symbol">(</span><span class="sh_number">2</span><span
	class="sh_symbol">)</span></code></p>
	
<p class="goingmerry">
详情请查看kill(2)
</p>

<h2 id="script-100">Script -- 脚本</h2>

<p><code class="sh_sourceCode">Script</code> class compiles and runs
JavaScript code. You can access this class with:</p>

<p class="goingmerry">
Script类可以编译执行Javascript代码。你可以用下面的方式访问此类：
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_keyword"><span class="sh_keyword">var</span></span> Script <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> process<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">binding</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'evals'</span></span><span
	class="sh_symbol"><span class="sh_symbol">).</span></span>Script<span
	class="sh_symbol"><span class="sh_symbol">;</span></span></code></pre>

<p>New JavaScript code can be compiled and run immediately or
compiled, saved, and run later.</p>

<p class="goingmerry">
新建的JavaScript代码可以被编译后立即执行，也可以编译，保存和延迟执行。
</p>

<h3 id="script-runinthiscontext-101">Script.runInThisContext(code,
[filename])</h3>

<p>Similar to <code class="sh_sourceCode">process<span
	class="sh_symbol">.</span>compile</code>. <code class="sh_sourceCode">Script<span
	class="sh_symbol">.</span>runInThisContext</code> compiles <code
	class="sh_sourceCode">code</code> as if it were loaded from <code
	class="sh_sourceCode">filename</code>, runs it and returns the result.
Running code does not have access to local scope. <code
	class="sh_sourceCode">filename</code> is optional.</p>
	
<p class="goingmerry">
类似于process.compile函数，Script.runInThisContext编译执行'code'参数中的代码并返回结果，就像从'filename'参数中加载文件一样，'code'中的代码不能访问本地作用域。
'filename'参数是可选的。
</p>

<p>Example of using <code class="sh_sourceCode">Script<span
	class="sh_symbol">.</span>runInThisContext</code> and <code
	class="sh_sourceCode"><span class="sh_predef_func">eval</span></code>
to run the same code:</p>

<p class="goingmerry">
例子：使用'Script'和'eval'运行下面这段相同的代码。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_keyword"><span class="sh_keyword">var</span></span> localVar <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_number"><span class="sh_number">123</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span>
    usingscript<span class="sh_symbol"><span class="sh_symbol">,</span></span> evaled<span
	class="sh_symbol"><span class="sh_symbol">,</span></span>
    Script <span class="sh_symbol"><span class="sh_symbol">=</span></span> process<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">binding</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'evals'</span></span><span
	class="sh_symbol"><span class="sh_symbol">).</span></span>Script<span
	class="sh_symbol"><span class="sh_symbol">;</span></span>

usingscript <span class="sh_symbol"><span class="sh_symbol">=</span></span> Script<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">runInThisContext</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'localVar = 1;'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span>
  <span class="sh_string"><span class="sh_string">'myfile.js'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'localVar: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> localVar <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> <span
	class="sh_string"><span class="sh_string">', usingscript: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span>
  usingscript<span class="sh_symbol"><span class="sh_symbol">);</span></span>
evaled <span class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_predef_func"><span class="sh_predef_func">eval</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'localVar = 1;'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'localVar: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> localVar <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> <span
	class="sh_string"><span class="sh_string">', evaled: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span>
  evaled<span class="sh_symbol"><span class="sh_symbol">);</span></span>

<span class="sh_comment"><span class="sh_comment">// localVar: 123, usingscript: 1</span></span>
<span class="sh_comment"><span class="sh_comment">// localVar: 1, evaled: 1</span></span></code></pre>

<p><code class="sh_sourceCode">Script<span class="sh_symbol">.</span>runInThisContext</code>
does not have access to the local scope, so <code class="sh_sourceCode">localVar</code>
is unchanged. <code class="sh_sourceCode"><span
	class="sh_predef_func">eval</span></code> does have access to the local scope,
so <code class="sh_sourceCode">localVar</code> is changed.</p>

<p class="goingmerry">
'Script.runInThisContext'不能访问本地作用域，所以'localVar'没有发生改变。
'eval'可以访问本地作用域，所以'localVar'发生了改变。
</p>

<p>In case of syntax error in <code class="sh_sourceCode">code</code>,
<code class="sh_sourceCode">Script<span class="sh_symbol">.</span>runInThisContext</code>
emits the syntax error to stderr and throws.an exception.</p>

<p class="goingmerry">
在'code'中有语法错误的情况下，'Script.runInThisContext'将会把语法错误发送到标准错误输出，并抛出一个异常。
</p>

<h3 id="script-runinnewcontext-102">Script.runInNewContext(code,
[sandbox], [filename])</h3>

<p><code class="sh_sourceCode">Script<span class="sh_symbol">.</span>runInNewContext</code>
compiles <code class="sh_sourceCode">code</code> to run in <code
	class="sh_sourceCode">sandbox</code> as if it were loaded from <code
	class="sh_sourceCode">filename</code>, then runs it and returns the
result. Running code does not have access to local scope and the object
<code class="sh_sourceCode">sandbox</code> will be used as the global
object for <code class="sh_sourceCode">code</code>. <code
	class="sh_sourceCode">sandbox</code> and <code class="sh_sourceCode">filename</code>
are optional.</p>

<p class="goingmerry">
Script.runInNewContext编译'code'参数中代码并在'sandbox'的作用域下执行代码并返回，就好像这些代码是从'filename'中加载的一样，
这些代码不能访问本地作用域，'sandbox'对象被用作代码的全局对象。'sandbox'和'filename'参数是可选的。
</p>

<p>Example: compile and execute code that increments a global
variable and sets a new one. These globals are contained in the sandbox.</p>

<p class="goingmerry">
例子：编译并执行以下代码，增加一个全局变量并添加一个新的属性。这些全局变量都包含在'sandbox'中。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_keyword"><span class="sh_keyword">var</span></span> util <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_function"><span class="sh_function">require</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'util'</span></span><span
	class="sh_symbol"><span class="sh_symbol">),</span></span>
    Script <span class="sh_symbol"><span class="sh_symbol">=</span></span> process<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">binding</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'evals'</span></span><span
	class="sh_symbol"><span class="sh_symbol">).</span></span>Script<span
	class="sh_symbol"><span class="sh_symbol">,</span></span>
    sandbox <span class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
      animal<span class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_string"><span class="sh_string">'cat'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span>
      count<span class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_number"><span class="sh_number">2</span></span>
    <span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">;</span></span>

Script<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">runInNewContext</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>
  <span class="sh_string"><span class="sh_string">'count += 1; name = "kitty"'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> sandbox<span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">'myfile.js'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>util<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">inspect</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>sandbox<span
	class="sh_symbol"><span class="sh_symbol">));</span></span>

<span class="sh_comment"><span class="sh_comment">// { animal: 'cat', count: 3, name: 'kitty' }</span></span></code></pre>

<p>Note that running untrusted code is a tricky business requiring
great care. To prevent accidental global variable leakage, <code
	class="sh_sourceCode">Script<span class="sh_symbol">.</span>runInNewContext</code>
is quite useful, but safely running untrusted code requires a separate
process.</p>

<p class="goingmerry">
请注意，运行不信任的代码是一件棘手的事情，需要非常谨慎。为了防止全局变量意外泄漏，'Script.runInNewContext'是非常有用的，但安全运行不受信任的代码需要一个单独的进程。
</p>

<p>In case of syntax error in <code class="sh_sourceCode">code</code>,
<code class="sh_sourceCode">Script<span class="sh_symbol">.</span>runInThisContext</code>
emits the syntax error to stderr and throws an exception.</p>

<p class="goingmerry">
在'code'中有语法错误的情况下，'Script.runInThisContext'将会把语法错误发送到标准错误输出，并抛出一个异常。
</p>

<h3 id="new-script-103">new Script(code, [filename])</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">new</span>
Script</code> compiles <code class="sh_sourceCode">code</code> as if it were
loaded from <code class="sh_sourceCode">filename</code>, but does not
run it. Instead, it returns a <code class="sh_sourceCode">Script</code>
object representing this compiled code. This script can be run later
many times using methods below. The returned script is not bound to any
global object. It is bound before each run, just for that run. <code
	class="sh_sourceCode">filename</code> is optional.</p>
	
<p class="goingmerry">
'new Script'编译'code'参数中的代码，就好像这些代码是从'filename'中加载的一样，但是不会运行它。
相反，它返回一个编译后的Script对象。这段脚本可以使用下面的方式运行多次。返回的脚本不会绑定到任何的全局对象。
它可以在每次运行之前进行绑定，每次绑定仅在本次运行有效。'filename'参数是可选的。
</p>

<p>In case of syntax error in <code class="sh_sourceCode">code</code>,
<code class="sh_sourceCode"><span class="sh_keyword">new</span>
Script</code> emits the syntax error to stderr and throws an exception.</p>

<p class="goingmerry">
在'code'中有语法错误的情况下，'Script.runInThisContext'将会把语法错误发送到标准错误输出，并抛出一个异常。
</p>

<h3 id="script-runinthiscontext-104">script.runInThisContext()</h3>

<p>Similar to <code class="sh_sourceCode">Script<span
	class="sh_symbol">.</span>runInThisContext</code> (note capital 'S'), but now
being a method of a precompiled Script object. <code
	class="sh_sourceCode">script<span class="sh_symbol">.</span>runInThisContext</code>
runs the code of <code class="sh_sourceCode">script</code> and returns
the result. Running code does not have access to local scope, but does
have access to the <code class="sh_sourceCode">global</code> object (v8:
in actual context).</p>

<p class="goingmerry">
类似于'Script.runInThisContext'(注意这里是大写的Ｓ)。但在这里，这是一个预编译脚本对象的方法。'script.runInThisContext'执行脚本中的代码并返回结果。
运行的这些代码不能访问本地作用域，但是它们可以访问全局对象。（v8引擎：在实际环境下）
</p>

<p>Example of using <code class="sh_sourceCode">script<span
	class="sh_symbol">.</span>runInThisContext</code> to compile code once and run
it multiple times:</p>

<p class="goingmerry">
例子：使用'script.runInThisContent'编译一次代码并执行多次。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_keyword"><span class="sh_keyword">var</span></span> Script <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> process<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">binding</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'evals'</span></span><span
	class="sh_symbol"><span class="sh_symbol">).</span></span>Script<span
	class="sh_symbol"><span class="sh_symbol">,</span></span>
    scriptObj<span class="sh_symbol"><span class="sh_symbol">,</span></span> i<span
	class="sh_symbol"><span class="sh_symbol">;</span></span>

globalVar <span class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_number"><span class="sh_number">0</span></span><span
	class="sh_symbol"><span class="sh_symbol">;</span></span>

scriptObj <span class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_keyword"><span class="sh_keyword">new</span></span> <span
	class="sh_function"><span class="sh_function">Script</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'globalVar += 1'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">'myfile.js'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

<span class="sh_keyword"><span class="sh_keyword">for</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>i <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_number"><span class="sh_number">0</span></span><span
	class="sh_symbol"><span class="sh_symbol">;</span></span> i <span
	class="sh_symbol"><span class="sh_symbol">&lt;</span></span> <span
	class="sh_number"><span class="sh_number">1000</span></span> <span
	class="sh_symbol"><span class="sh_symbol">;</span></span> i <span
	class="sh_symbol"><span class="sh_symbol">+=</span></span> <span
	class="sh_number"><span class="sh_number">1</span></span><span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  scriptObj<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">runInThisContext</span></span><span
	class="sh_symbol"><span class="sh_symbol">();</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span>

console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>globalVar<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

<span class="sh_comment"><span class="sh_comment">// 1000</span></span></code></pre>

<h3 id="script-runinnewcontext-105">script.runInNewContext([sandbox])</h3>

<p>Similar to <code class="sh_sourceCode">Script<span
	class="sh_symbol">.</span>runInNewContext</code> (note capital 'S'), but now
being a method of a precompiled Script object. <code
	class="sh_sourceCode">script<span class="sh_symbol">.</span>runInNewContext</code>
runs the code of <code class="sh_sourceCode">script</code> with <code
	class="sh_sourceCode">sandbox</code> as the global object and returns
the result. Running code does not have access to local scope. <code
	class="sh_sourceCode">sandbox</code> is optional.</p>
	
<p class="goingmerry">
类似'Script.runInNewContext'(请注意这里是大写Ｓ)，但在这里，这是一个预编译脚本对象的方法。
'script.runInNewContext'将'sandbox'参数中对象做为全局变量运行代码并返回结果，此代码不能访问本地作用域。
</p>

<p>Example: compile code that increments a global variable and sets
one, then execute this code multiple times. These globals are contained
in the sandbox.</p>

<p class="goingmerry">
例子：译并以下代码，增加一个全局变量并添加一个新的属性，并执行多次。这些全局变量都包含在'sandbox'中。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_keyword"><span class="sh_keyword">var</span></span> util <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_function"><span class="sh_function">require</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'util'</span></span><span
	class="sh_symbol"><span class="sh_symbol">),</span></span>
    Script <span class="sh_symbol"><span class="sh_symbol">=</span></span> process<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">binding</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'evals'</span></span><span
	class="sh_symbol"><span class="sh_symbol">).</span></span>Script<span
	class="sh_symbol"><span class="sh_symbol">,</span></span>
    scriptObj<span class="sh_symbol"><span class="sh_symbol">,</span></span> i<span
	class="sh_symbol"><span class="sh_symbol">,</span></span>
    sandbox <span class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
      animal<span class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_string"><span class="sh_string">'cat'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span>
      count<span class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_number"><span class="sh_number">2</span></span>
    <span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">;</span></span>

scriptObj <span class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_keyword"><span class="sh_keyword">new</span></span> <span
	class="sh_function"><span class="sh_function">Script</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>
    <span class="sh_string"><span class="sh_string">'count += 1; name = "kitty"'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">'myfile.js'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

<span class="sh_keyword"><span class="sh_keyword">for</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>i <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_number"><span class="sh_number">0</span></span><span
	class="sh_symbol"><span class="sh_symbol">;</span></span> i <span
	class="sh_symbol"><span class="sh_symbol">&lt;</span></span> <span
	class="sh_number"><span class="sh_number">10</span></span> <span
	class="sh_symbol"><span class="sh_symbol">;</span></span> i <span
	class="sh_symbol"><span class="sh_symbol">+=</span></span> <span
	class="sh_number"><span class="sh_number">1</span></span><span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  scriptObj<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">runInNewContext</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>sandbox<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span>

console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>util<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">inspect</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>sandbox<span
	class="sh_symbol"><span class="sh_symbol">));</span></span>

<span class="sh_comment"><span class="sh_comment">// { animal: 'cat', count: 12, name: 'kitty' }</span></span></code></pre>

<p>Note that running untrusted code is a tricky business requiring
great care. To prevent accidental global variable leakage, <code
	class="sh_sourceCode">script<span class="sh_symbol">.</span>runInNewContext</code>
is quite useful, but safely running untrusted code requires a separate
process.</p>

<p class="goingmerry">
请注意，运行不信任的代码是一件棘手的事情，需要非常谨慎。为了防止全局变量意外泄漏，'script.runInNewContext'是非常有用的，但安全运行不受信任的代码需要一个单独的进程。
</p>

<h2 id="file-system-106">File System -- 文件系统</h2>

<p>File I/O is provided by simple wrappers around standard POSIX
functions. To use this module do <code class="sh_sourceCode"><span
	class="sh_function">require</span><span class="sh_symbol">(</span><span
	class="sh_string">'fs'</span><span class="sh_symbol">)</span></code>. All the
methods have asynchronous and synchronous forms.</p>

<p class="goingmerry">
文件I/O是由围绕标准的POSIX函数的简单包装。要使用这个模块只需要使用require('fs')，所有的方法中包含异步和同步两种形式。
</p>

<p>The asynchronous form always take a completion callback as its
last argument. The arguments passed to the completion callback depend on
the method, but the first argument is always reserved for an exception.
If the operation was completed successfully, then the first argument
will be <code class="sh_sourceCode"><span class="sh_keyword">null</span></code>
or <code class="sh_sourceCode"><span class="sh_predef_var">undefined</span></code>.</p>

<p class="goingmerry">
异步形式最后一参数总是一个完整的回调函数，回调函数有哪些参数取决于方法本身，但保留第一个参数用于传递异常对象，如果操作成功，那么第一个参数将为'null'或是'undefined'。
</p>

<p>Here is an example of the asynchronous version:</p>

<p class="goingmerry">
这是一个异步形式的例子。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_keyword"><span class="sh_keyword">var</span></span> fs <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_function"><span class="sh_function">require</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'fs'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

fs<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">unlink</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'/tmp/hello'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>err<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  <span class="sh_keyword"><span class="sh_keyword">if</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>err<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_keyword"><span class="sh_keyword">throw</span></span> err<span
	class="sh_symbol"><span class="sh_symbol">;</span></span>
  console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'successfully deleted /tmp/hello'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<p>Here is the synchronous version:</p>

<p class="goingmerry">
这是一个同步形式的例子。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_keyword"><span class="sh_keyword">var</span></span> fs <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_function"><span class="sh_function">require</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'fs'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

fs<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">unlinkSync</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'/tmp/hello'</span></span><span
	class="sh_symbol"><span class="sh_symbol">)</span></span>
console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'successfully deleted /tmp/hello'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<p>With the asynchronous methods there is no guaranteed ordering. So
the following is prone to error:</p>

<p class="goingmerry">
异步方法不保证有顺序，所以下面的例子容易发生错误。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">fs<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">rename</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'/tmp/hello'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">'/tmp/world'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>err<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  <span class="sh_keyword"><span class="sh_keyword">if</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>err<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_keyword"><span class="sh_keyword">throw</span></span> err<span
	class="sh_symbol"><span class="sh_symbol">;</span></span>
  console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'renamed complete'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
fs<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">stat</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'/tmp/world'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>err<span
	class="sh_symbol"><span class="sh_symbol">,</span></span> stats<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  <span class="sh_keyword"><span class="sh_keyword">if</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>err<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_keyword"><span class="sh_keyword">throw</span></span> err<span
	class="sh_symbol"><span class="sh_symbol">;</span></span>
  console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'stats: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> JSON<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">stringify</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>stats<span
	class="sh_symbol"><span class="sh_symbol">));</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<p>It could be that <code class="sh_sourceCode">fs<span
	class="sh_symbol">.</span>stat</code> is executed before <code
	class="sh_sourceCode">fs<span class="sh_symbol">.</span>rename</code>.
The correct way to do this is to chain the callbacks.</p>

<p class="goingmerry">
这可能是因为，'fs.stat'在'fs.rename'之前执行。正确的方法是使用回调函数进行链式调用。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">fs<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">rename</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'/tmp/hello'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">'/tmp/world'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>err<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  <span class="sh_keyword"><span class="sh_keyword">if</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>err<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_keyword"><span class="sh_keyword">throw</span></span> err<span
	class="sh_symbol"><span class="sh_symbol">;</span></span>
  fs<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">stat</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'/tmp/world'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>err<span
	class="sh_symbol"><span class="sh_symbol">,</span></span> stats<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
    <span class="sh_keyword"><span class="sh_keyword">if</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>err<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_keyword"><span class="sh_keyword">throw</span></span> err<span
	class="sh_symbol"><span class="sh_symbol">;</span></span>
    console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'stats: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> JSON<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">stringify</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>stats<span
	class="sh_symbol"><span class="sh_symbol">));</span></span>
  <span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<p>In busy processes, the programmer is <em>strongly encouraged</em>
to use the asynchronous versions of these calls. The synchronous
versions will block the entire process until they complete--halting all
connections.</p>

<p class="goingmerry">
在操作繁多时，程序员强烈推荐使用异步方式调用。同步方式将会堵塞整个进程直到它彻底地完成，这个过程中所有与之无关的链接都会被停止。
</p>

<h3 id="fs-rename-107">fs.rename(path1, path2, [callback])</h3>

<p>Asynchronous rename(2). No arguments other than a possible
exception are given to the completion callback.</p>

<p class="goingmerry">
异步命名。回调函数中除了一个异常处理参数没有其它的参数出现。
</p>

<h3 id="fs-renamesync-108">fs.renameSync(path1, path2)</h3>

<p>Synchronous rename(2).</p>

<p class="goingmerry">
同步命名。
</p>

<h3 id="fs-truncate-109">fs.truncate(fd, len, [callback])</h3>

<p>Asynchronous ftruncate(2). No arguments other than a possible
exception are given to the completion callback.</p>

<p class="goingmerry">
异步截断。回调函数中除了一个异常处理参数没有其它的参数出现。
</p>

<h3 id="fs-truncatesync-110">fs.truncateSync(fd, len)</h3>

<p>Synchronous ftruncate(2).</p>

<p class="goingmerry">
同步截断。
</p>

<h3 id="fs-chmod-111">fs.chmod(path, mode, [callback])</h3>

<p>Asynchronous chmod(2). No arguments other than a possible
exception are given to the completion callback.</p>

<p class="goingmerry">
修改权限的异步方法。回调函数中除了一个异常处理参数没有其它的参数出现。
</p>

<h3 id="fs-chmodsync-112">fs.chmodSync(path, mode)</h3>

<p>Synchronous chmod(2).</p>

<p class="goingmerry">
修改权限的同步方法。
</p>

<h3 id="fs-stat-113">fs.stat(path, [callback])</h3>

<p>Asynchronous stat(2). The callback gets two arguments <code
	class="sh_sourceCode"><span class="sh_symbol">(</span>err<span
	class="sh_symbol">,</span> stats<span class="sh_symbol">)</span></code> where
<code class="sh_sourceCode">stats</code> is a <code
	class="sh_sourceCode">fs<span class="sh_symbol">.</span>Stats</code>
object. It looks like this:</p>

<p class="goingmerry">
异步读取属性。这个回调函数有两个参数(err, stats),其中'stats'是一个fs.Stats的对象，它看起来像下面这样：
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span> dev<span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_number"><span class="sh_number">2049</span></span>
<span class="sh_symbol"><span class="sh_symbol">,</span></span> ino<span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_number"><span class="sh_number">305352</span></span>
<span class="sh_symbol"><span class="sh_symbol">,</span></span> mode<span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_number"><span class="sh_number">16877</span></span>
<span class="sh_symbol"><span class="sh_symbol">,</span></span> nlink<span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_number"><span class="sh_number">12</span></span>
<span class="sh_symbol"><span class="sh_symbol">,</span></span> uid<span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_number"><span class="sh_number">1000</span></span>
<span class="sh_symbol"><span class="sh_symbol">,</span></span> gid<span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_number"><span class="sh_number">1000</span></span>
<span class="sh_symbol"><span class="sh_symbol">,</span></span> rdev<span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_number"><span class="sh_number">0</span></span>
<span class="sh_symbol"><span class="sh_symbol">,</span></span> size<span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_number"><span class="sh_number">4096</span></span>
<span class="sh_symbol"><span class="sh_symbol">,</span></span> blksize<span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_number"><span class="sh_number">4096</span></span>
<span class="sh_symbol"><span class="sh_symbol">,</span></span> blocks<span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_number"><span class="sh_number">8</span></span>
<span class="sh_symbol"><span class="sh_symbol">,</span></span> atime<span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_string"><span class="sh_string">'2009-06-29T11:11:55Z'</span></span>
<span class="sh_symbol"><span class="sh_symbol">,</span></span> mtime<span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_string"><span class="sh_string">'2009-06-29T11:11:40Z'</span></span>
<span class="sh_symbol"><span class="sh_symbol">,</span></span> ctime<span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_string"><span class="sh_string">'2009-06-29T11:11:40Z'</span></span> 
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span></code></pre>

<p>See the <code class="sh_sourceCode">fs<span
	class="sh_symbol">.</span>Stats</code> section below for more information.</p>
	
<p class="goingmerry">
查看'fs.Stats'章节以了解更多的信息。
</p>

<h3 id="fs-lstat-114">fs.lstat(path, [callback])</h3>

<p>Asynchronous lstat(2). The callback gets two arguments <code
	class="sh_sourceCode"><span class="sh_symbol">(</span>err<span
	class="sh_symbol">,</span> stats<span class="sh_symbol">)</span></code> where
<code class="sh_sourceCode">stats</code> is a <code
	class="sh_sourceCode">fs<span class="sh_symbol">.</span>Stats</code>
object.</p>

<p class="goingmerry">
通过路径异步读取属性。这个回调函数有两个参数(err, stats),其中'stats'是一个fs.Stats的对象。
</p>

<h3 id="fs-fstat-115">fs.fstat(fd, [callback])</h3>

<p>Asynchronous fstat(2). The callback gets two arguments <code
	class="sh_sourceCode"><span class="sh_symbol">(</span>err<span
	class="sh_symbol">,</span> stats<span class="sh_symbol">)</span></code> where
<code class="sh_sourceCode">stats</code> is a <code
	class="sh_sourceCode">fs<span class="sh_symbol">.</span>Stats</code>
object.</p>

<p class="goingmerry">
能过指定的文件标识符异步读取属性。这个回调函数有两个参数(err, stats)，'stats'是fs.Stats的一个对象。
</p>

<h3 id="fs-statsync-116">fs.statSync(path)</h3>

<p>Synchronous stat(2). Returns an instance of <code
	class="sh_sourceCode">fs<span class="sh_symbol">.</span>Stats</code>.</p>

<p class="goingmerry">
通过路径同步读取属性，并返回一个fs.Stats的实例。
</p>

<h3 id="fs-lstatsync-117">fs.lstatSync(path)</h3>

<p>Synchronous lstat(2). Returns an instance of <code
	class="sh_sourceCode">fs<span class="sh_symbol">.</span>Stats</code>.</p>

<<p class="goingmerry">
通过路径同步读取属性，并返回一个fs.Stats的实例。
</p>

<h3 id="fs-fstatsync-118">fs.fstatSync(fd)</h3>

<p>Synchronous fstat(2). Returns an instance of <code
	class="sh_sourceCode">fs<span class="sh_symbol">.</span>Stats</code>.</p>

<p class="goingmerry">
通过文件标识符读取属性，并返回一个fs.Stats的实例。
</p>

<h3 id="fs-link-119">fs.link(srcpath, dstpath, [callback])</h3>

<p>Asynchronous link(2). No arguments other than a possible
exception are given to the completion callback.</p>

<p class="goingmerry">
异步建立连接。只有一个异常传给回调函数。
</p>

<h3 id="fs-linksync-120">fs.linkSync(dstpath, srcpath)</h3>

<p>Synchronous link(2).</p>

<p class="goingmerry">
同步建立连接。
</p>

<h3 id="fs-symlink-121">fs.symlink(linkdata, path, [callback])</h3>

<p>Asynchronous symlink(2). No arguments other than a possible
exception are given to the completion callback.</p>

<p class="goingmerry">
异步建立符号连接。只有一个异常传给回调函数。
</p>

<h3 id="fs-symlinksync-122">fs.symlinkSync(linkdata, path)</h3>

<p>Synchronous symlink(2).</p>

<p class="goingmerry">
同步建立符号连接。
</p>

<h3 id="fs-readlink-123">fs.readlink(path, [callback])</h3>

<p>Asynchronous readlink(2). The callback gets two arguments <code
	class="sh_sourceCode"><span class="sh_symbol">(</span>err<span
	class="sh_symbol">,</span> resolvedPath<span class="sh_symbol">)</span></code>.
</p>

<p class="goingmerry">
异步读取链接。这个回调函数有两个参数(err, resolvePath);
</p>

<h3 id="fs-readlinksync-124">fs.readlinkSync(path)</h3>

<p>Synchronous readlink(2). Returns the resolved path.</p>

<p class="goingmerry">
同步读取连接。返回已解析的文件路径。
</p>

<h3 id="fs-realpath-125">fs.realpath(path, [callback])</h3>

<p>Asynchronous realpath(2). The callback gets two arguments <code
	class="sh_sourceCode"><span class="sh_symbol">(</span>err<span
	class="sh_symbol">,</span> resolvedPath<span class="sh_symbol">)</span></code>.</p>

<p class="goingmerry">
异步读取绝对路径名，这个回调函数有两个参数(err, resolvedPath)。第二个参数是已解析的文件路径。
</p>

<h3 id="fs-realpathsync-126">fs.realpathSync(path)</h3>

<p>Synchronous realpath(2). Returns the resolved path.</p>

<p class="goingmerry">
同步读取絶对路径。返回已解析的文件路径。
</p>

<h3 id="fs-unlink-127">fs.unlink(path, [callback])</h3>

<p>Asynchronous unlink(2). No arguments other than a possible
exception are given to the completion callback.</p>

<p class="goingmerry">
异步删除连接。只有一个异常传给回调函数。
</p>

<h3 id="fs-unlinksync-128">fs.unlinkSync(path)</h3>

<p>Synchronous unlink(2).</p>

<p class="goingmerry">
同步删除连接。
</p>

<h3 id="fs-rmdir-129">fs.rmdir(path, [callback])</h3>

<p>Asynchronous rmdir(2). No arguments other than a possible
exception are given to the completion callback.</p>

<p class="goingmerry">
异步删除文件夹。只有一个异常传给回调函数。
</p>

<h3 id="fs-rmdirsync-130">fs.rmdirSync(path)</h3>

<p>Synchronous rmdir(2).</p>

<p class="goingmerry">
同步删除目录。
</p>

<h3 id="fs-mkdir-131">fs.mkdir(path, mode, [callback])</h3>

<p>Asynchronous mkdir(2). No arguments other than a possible
exception are given to the completion callback.</p>

<p class="goingmerry">
异步建立目录。只有一个异常传给回调函数。
</p>

<h3 id="fs-mkdirsync-132">fs.mkdirSync(path, mode)</h3>

<p>Synchronous mkdir(2).</p>

<p class="goingmerry">
同步删除目录。
</p>

<h3 id="fs-readdir-133">fs.readdir(path, [callback])</h3>

<p>Asynchronous readdir(3). Reads the contents of a directory. The
callback gets two arguments <code class="sh_sourceCode"><span
	class="sh_symbol">(</span>err<span class="sh_symbol">,</span> files<span
	class="sh_symbol">)</span></code> where <code class="sh_sourceCode">files</code>
is an array of the names of the files in the directory excluding <code
	class="sh_sourceCode"><span class="sh_string">'.'</span></code> and <code
	class="sh_sourceCode"><span class="sh_string">'..'</span></code>.</p>
	
<p class="goingmerry">
异步读取目录内容。返回一个文件名数组，且文件名中不包含'.'和'..'。
</p>

<h3 id="fs-readdirsync-134">fs.readdirSync(path)</h3>

<p>Synchronous readdir(3). Returns an array of filenames excluding <code
	class="sh_sourceCode"><span class="sh_string">'.'</span></code> and <code
	class="sh_sourceCode"><span class="sh_string">'..'</span></code>.</p>
	
<p class="goingmerry">
同步读取目录内容。返回一个文件名数组，且文件名中不包含'.'和'..'。
</p>

<h3 id="fs-close-135">fs.close(fd, [callback])</h3>

<p>Asynchronous close(2). No arguments other than a possible
exception are given to the completion callback.</p>

<p class="goingmerry">
异步结束。只有一个异常传给回调函数。
</p>

<h3 id="fs-closesync-136">fs.closeSync(fd)</h3>

<p>Synchronous close(2).</p>

<p class="goingmerry">
同步结束。
</p>

<h3 id="fs-open-137">fs.open(path, flags, mode=0666, [callback])</h3>

<p>Asynchronous file open. See open(2). Flags can be 'r', 'r+', 'w',
'w+', 'a', or 'a+'. The callback gets two arguments <code
	class="sh_sourceCode"><span class="sh_symbol">(</span>err<span
	class="sh_symbol">,</span> fd<span class="sh_symbol">)</span></code>.</p>
	
<p class="goingmerry">
异步打开文件。详情请查看open(2)。'flags'参数可以是'r', 'r+', 'w', 'w+', 'a', 或'a+'。这个回调函数有两个参数(err, fd)
</p>

<h3 id="fs-opensync-138">fs.openSync(path, flags, mode=0666)</h3>

<p>Synchronous open(2).</p>

<p class="goingmerry">
同步打开文件。
</p>

<h3 id="fs-write-139">fs.write(fd, buffer, offset, length,
position, [callback])</h3>

<p>Write <code class="sh_sourceCode">buffer</code> to the file
specified by <code class="sh_sourceCode">fd</code>.</p>

<p class="goingmerry">
通过指定文件标识符把缓冲写入到文件中。
</p>

<p><code class="sh_sourceCode">offset</code> and <code
	class="sh_sourceCode">length</code> determine the part of the buffer to
be written.</p>

<p class="goingmerry">
'offset'和'length'参数决定被写入的缓冲区域。
</p>

<p><code class="sh_sourceCode">position</code> refers to the offset
from the beginning of the file where this data should be written. If <code
	class="sh_sourceCode">position</code> is <code class="sh_sourceCode"><span
	class="sh_keyword">null</span></code>, the data will be written at the current
position. See pwrite(2).</p>

<p class="goingmerry">
'position'参数决定数据写入到文件的位置。如果参数为null，那么数据将被写入到当前位置。详情请查看pwrite(2)。
</p>

<p>The callback will be given two arguments <code
	class="sh_sourceCode"><span class="sh_symbol">(</span>err<span
	class="sh_symbol">,</span> written<span class="sh_symbol">)</span></code>
where <code class="sh_sourceCode">written</code> specifies how many <em>bytes</em>
were written.</p>

<p class="goingmerry">
这个回调函数有两个参数(err, written), 'written'参数可以用来指定写入的数据大小（单位byte）。
</p>

<h3 id="fs-writesync-140">fs.writeSync(fd, buffer, offset, length,
position)</h3>

<p>Synchronous version of buffer-based <code class="sh_sourceCode">fs<span
	class="sh_symbol">.</span><span class="sh_function">write</span><span
	class="sh_symbol">()</span></code>. Returns the number of bytes written.</p>

<p class="goingmerry">
'fs.write()'的同步形式。返回写入的数据大小。
</p>

<h3 id="fs-writesync-141">fs.writeSync(fd, str, position,
encoding='utf8')</h3>

<p>Synchronous version of string-based <code class="sh_sourceCode">fs<span
	class="sh_symbol">.</span><span class="sh_function">write</span><span
	class="sh_symbol">()</span></code>. Returns the number of bytes written.</p>
	
<p class="goingmerry">
'fs.write()'的同步字符串写入方式，返回写入的数据大小。
</p>

<h3 id="fs-read-142">fs.read(fd, buffer, offset, length, position,
[callback])</h3>

<p>Read data from the file specified by <code class="sh_sourceCode">fd</code>.</p>

<p class="goingmerry">
通过指定的文件标识从文件读取数据。
</p>

<p><code class="sh_sourceCode">buffer</code> is the buffer that the
data will be written to.</p>

<p class="goingmerry">
'buffer'参数是指准备写入文件数据的缓冲区。
</p>

<p><code class="sh_sourceCode">offset</code> is offset within the
buffer where writing will start.</p>

<p class="goingmerry">
'offset'参数指定写入缓冲区的开始位置。
</p>

<p><code class="sh_sourceCode">length</code> is an integer
specifying the number of bytes to read.</p>

<p class="goingmerry">
'length'参数指定需要从文件中以整数读取的数据大小。
</p>

<p><code class="sh_sourceCode">position</code> is an integer
specifying where to begin reading from in the file. If <code
	class="sh_sourceCode">position</code> is <code class="sh_sourceCode"><span
	class="sh_keyword">null</span></code>, data will be read from the current file
position.</p>

<p class="goingmerry">
'position'参数指定从文件读数据的开始位置，如果'position'为null，那么将从当前位置开始读取数据，即从文件的开始读数据。
</p>

<p>The callback is given the two arguments, <code
	class="sh_sourceCode"><span class="sh_symbol">(</span>err<span
	class="sh_symbol">,</span> bytesRead<span class="sh_symbol">)</span></code>.</p>

<p class="goingmerry">
这个回调函数有两个参数(err, bytesRead),其中'bytesRead'是指读取的数据大小。
</p>

<h3 id="fs-readsync-143">fs.readSync(fd, buffer, offset, length,
position)</h3>

<p>Synchronous version of buffer-based <code class="sh_sourceCode">fs<span
	class="sh_symbol">.</span>read</code>. Returns the number of <code
	class="sh_sourceCode">bytesRead</code>.</p>
	
<p class="goingmerry">
'fs.read()'的同步形式，返回读取的数据大小。
</p>

<h3 id="fs-readsync-144">fs.readSync(fd, length, position,
encoding)</h3>

<p>Synchronous version of string-based <code class="sh_sourceCode">fs<span
	class="sh_symbol">.</span>read</code>. Returns the number of <code
	class="sh_sourceCode">bytesRead</code>.</p>
	
<p class="goingmerry">
'fs.read()'的字符串同步形式，返回读取的数据大小。
</p>

<h3 id="fs-readfile-145">fs.readFile(filename, [encoding],
[callback])</h3>

<p>Asynchronously reads the entire contents of a file. Example:</p>

<p class="goingmerry">
异步读取文件的全部内容。例子如下：
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">fs<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">readFile</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'/etc/passwd'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>err<span
	class="sh_symbol"><span class="sh_symbol">,</span></span> data<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  <span class="sh_keyword"><span class="sh_keyword">if</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>err<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_keyword"><span class="sh_keyword">throw</span></span> err<span
	class="sh_symbol"><span class="sh_symbol">;</span></span>
  console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>data<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<p>The callback is passed two arguments <code class="sh_sourceCode"><span
	class="sh_symbol">(</span>err<span class="sh_symbol">,</span> data<span
	class="sh_symbol">)</span></code>, where <code class="sh_sourceCode">data</code>
is the contents of the file.</p>

<p class="goingmerry">
这个回调函数有两个参数（err, data），其中'data'参数包含了文件的全部内容。
</p>

<p>If no encoding is specified, then the raw buffer is returned.</p>

<p class="goingmerry">
如果没有指定编码，那么将返加原始缓冲区数据。
</p>

<h3 id="fs-readfilesync-146">fs.readFileSync(filename, [encoding])</h3>

<p>Synchronous version of <code class="sh_sourceCode">fs<span
	class="sh_symbol">.</span>readFile</code>. Returns the contents of the <code
	class="sh_sourceCode">filename</code>.</p>
	
<p class="goingmerry">
'fs.readFile()'的同步形式。返回'filename'参数所指向的文件的全部内容。
</p>

<p>If <code class="sh_sourceCode">encoding</code> is specified then
this function returns a string. Otherwise it returns a buffer.</p>

<p class="goingmerry">
如果指定了'encoding'，则此函数返回一个字符串，否则它将返回一个缓冲区。
</p>

<h3 id="fs-writefile-147">fs.writeFile(filename, data,
encoding='utf8', [callback])</h3>

<p>Asynchronously writes data to a file. <code class="sh_sourceCode">data</code>
can be a string or a buffer.</p>

<p class="goingmerry">
异步将数据写入到文件中。'data'参数可以是字符串或是缓冲区。
</p>

<p>Example:</p>

<p class="goingmerry">
例子：
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">fs<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">writeFile</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'message.txt'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">'Hello Node'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>err<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  <span class="sh_keyword"><span class="sh_keyword">if</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>err<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_keyword"><span class="sh_keyword">throw</span></span> err<span
	class="sh_symbol"><span class="sh_symbol">;</span></span>
  console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'It</span></span><span
	class="sh_specialchar"><span class="sh_specialchar">\'</span></span><span
	class="sh_string"><span class="sh_string">s saved!'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<h3 id="fs-writefilesync-148">fs.writeFileSync(filename, data,
encoding='utf8')</h3>

<p>The synchronous version of <code class="sh_sourceCode">fs<span
	class="sh_symbol">.</span>writeFile</code>.</p>
	
<p class="goingmerry">
'fs.writeFile()'的同步形式。
</p>

<h3 id="fs-watchfile-149">fs.watchFile(filename, [options],
listener)</h3>

<p>Watch for changes on <code class="sh_sourceCode">filename</code>.
The callback <code class="sh_sourceCode">listener</code> will be called
each time the file changes.</p>

<p class="goingmerry">
监视'filename'参数所指的文件是否发生改变，每一次文件发生改变，都会触发'listener'回调函数。
</p>

<p>The second argument is optional. The <code class="sh_sourceCode">options</code>
if provided should be an object containing two members a boolean, <code
	class="sh_sourceCode">persistent</code>, and <code
	class="sh_sourceCode">interval</code>, a polling value in milliseconds.
The default is <code class="sh_sourceCode"><span
	class="sh_cbracket">{</span>persistent<span class="sh_symbol">:</span>
<span class="sh_keyword">true</span><span class="sh_symbol">,</span>
interval<span class="sh_symbol">:</span> <span class="sh_number">0</span><span
	class="sh_cbracket">}</span></code>.</p>
	
<p class="goingmerry">
第二个参数是可选的。如果提供的是包含两个成员的对象，一个布尔类型'persistent'参数和一个以毫秒为单位的'interval'参数，默认情况下是{ persistent: true, interval: 0 }。
</p>

<p>The <code class="sh_sourceCode">listener</code> gets two
arguments the current stat object and the previous stat object:</p>

<p class="goingmerry">
传递给'listener'函数的两个参数分别是当前状态对象和上一次的状态对象。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">fs<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">watchFile</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>f<span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>curr<span
	class="sh_symbol"><span class="sh_symbol">,</span></span> prev<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'the current mtime is: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> curr<span
	class="sh_symbol"><span class="sh_symbol">.</span></span>mtime<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
  console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'the previous mtime was: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> prev<span
	class="sh_symbol"><span class="sh_symbol">.</span></span>mtime<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<p>These stat objects are instances of <code class="sh_sourceCode">fs<span
	class="sh_symbol">.</span>Stat</code>.</p>
	
<p class="goingmerry">
当前状态对象是'fs.Stat'的一个实例。
</p>

<h3 id="fs-unwatchfile-150">fs.unwatchFile(filename)</h3>

<p>Stop watching for changes on <code class="sh_sourceCode">filename</code>.</p>

<p class="goingmerry">
停止监控'filename'参数所指的文件变化状态。
</p>

<h2 id="fs-stats-151">fs.Stats -- 文件信息</h2>

<p>Objects returned from <code class="sh_sourceCode">fs<span
	class="sh_symbol">.</span><span class="sh_function">stat</span><span
	class="sh_symbol">()</span></code> and <code class="sh_sourceCode">fs<span
	class="sh_symbol">.</span><span class="sh_function">lstat</span><span
	class="sh_symbol">()</span></code> are of this type.</p>

<p class="goingmerry">
'fs.stat()'和'fs.lstat()'返回如下类型对象。
</p>

<ul>
	<li><code class="sh_sourceCode">stats<span
		class="sh_symbol">.</span><span class="sh_function">isFile</span><span
		class="sh_symbol">()</span></code>
	<p class="goingmerry">
		判断是否为文件，是返回true，否则返回false。
	</p>	
	</li>
	<li><code class="sh_sourceCode">stats<span
		class="sh_symbol">.</span><span class="sh_function">isDirectory</span><span
		class="sh_symbol">()</span></code>
	<p class="goingmerry">
		判断是否为文件夹，是返回true，否则返回false。
	</p>
	</li>
	<li><code class="sh_sourceCode">stats<span
		class="sh_symbol">.</span><span class="sh_function">isBlockDevice</span><span
		class="sh_symbol">()</span></code>
	<p class="goingmerry">
		是否为块设备。是则返回true，否则返回false。
	</p>	
	</li>
	<li><code class="sh_sourceCode">stats<span
		class="sh_symbol">.</span><span class="sh_function">isCharacterDevice</span><span
		class="sh_symbol">()</span></code>
	<p class="goingmerry">
	是否为字符设备，如果是则返回true，否则返回false。
	</p>	
	</li>
	<li><code class="sh_sourceCode">stats<span
		class="sh_symbol">.</span><span class="sh_function">isSymbolicLink</span><span
		class="sh_symbol">()</span></code> (only valid with <code
		class="sh_sourceCode">fs<span class="sh_symbol">.</span><span
		class="sh_function">lstat</span><span class="sh_symbol">()</span></code>)
	<<p class="goingmerry">
		是否为符号链接，是则返回true，否则返回false。（仅对调用fs.lstat()方法有效）
	</p>	
	</li>
	<li><code class="sh_sourceCode">stats<span
		class="sh_symbol">.</span><span class="sh_function">isFIFO</span><span
		class="sh_symbol">()</span></code>
	<p class="goingmerry">
		是否为先入先出队列，是则返回true，否则返回false。
	</p>	
	</li>
	<li><code class="sh_sourceCode">stats<span
		class="sh_symbol">.</span><span class="sh_function">isSocket</span><span
		class="sh_symbol">()</span></code>
	<p class="goingmerry">
		是否为套接字，是则返回true，否则返回false。
	</p>	
	</li>
</ul>

<h2 id="fs-readstream-152">fs.ReadStream -- 读取流</h2>

<p><code class="sh_sourceCode">ReadStream</code> is a <code
	class="sh_sourceCode">Readable Stream</code>.</p>

<p class="goingmerry">
'ReadStream'是一个只读流。
</p>

<h3 id="fs-createreadstream-153">fs.createReadStream(path,
[options])</h3>

<p>Returns a new ReadStream object (See <code class="sh_sourceCode">Readable
Stream</code>).</p>

<p class="goingmerry">
此方法返回一个新的只读流对象（详情请查看'Readable Stream'）。
</p>

<p><code class="sh_sourceCode">options</code> is an object with the
following defaults:</p>

<p class="goingmerry">
'options'参数是一个对象，以下就是其默认值：
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span> <span
	class="sh_string"><span class="sh_string">'flags'</span></span><span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_string"><span class="sh_string">'r'</span></span>
<span class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">'encoding'</span></span><span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_keyword"><span class="sh_keyword">null</span></span>
<span class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">'mode'</span></span><span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_number"><span class="sh_number">0666</span></span>
<span class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">'bufferSize'</span></span><span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_number"><span class="sh_number">4</span></span> <span
	class="sh_symbol"><span class="sh_symbol">*</span></span> <span
	class="sh_number"><span class="sh_number">1024</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span></code></pre>

<p><code class="sh_sourceCode">options</code> can include <code
	class="sh_sourceCode">start</code> and <code class="sh_sourceCode">end</code>
values to read a range of bytes from the file instead of the entire
file. Both <code class="sh_sourceCode">start</code> and <code
	class="sh_sourceCode">end</code> are inclusive and start at 0. When
used, both the limits must be specified always.</p>

<p class="goingmerry">
'options'对象包含'start'和'end'两个属性，它们用于设置文件的读取范围，而不是整个文件。如果想开始和结束都从０开始，那么必须同时指定这两个参数。
</p>

<p>An example to read the last 10 bytes of a file which is 100 bytes
long:</p>

<p class="goingmerry">
例子：读取一个长100字节的文件的最后10字节数据。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">fs<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">createReadStream</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'sample.txt'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>start<span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_number"><span class="sh_number">90</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> end<span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_number"><span class="sh_number">99</span></span><span
	class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<h2 id="fs-writestream-154">fs.WriteStream -- 可写流</h2>

<p><code class="sh_sourceCode">WriteStream</code> is a <code
	class="sh_sourceCode">Writable Stream</code>.</p>

<p class="goingmerry">
'WriteStream' 是一个可写流。
</p>

<h3 id="event-open-155">Event: 'open'</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">(</span>fd<span class="sh_symbol">)</span> <span
	class="sh_cbracket">{</span> <span class="sh_cbracket">}</span></code></p>

<p><code class="sh_sourceCode">fd</code> is the file descriptor used
by the WriteStream.</p>

<p class="goingmerry">
'fd'是可写流的文件标识符。
</p>

<h3 id="fs-createwritestream-156">fs.createWriteStream(path,
[options])</h3>

<p>Returns a new WriteStream object (See <code class="sh_sourceCode">Writable
Stream</code>).</p>

<p class="goingmerry">
此方法返回一个新的可写流对象。（详情请查看'Writable Stream')
</p>

<p><code class="sh_sourceCode">options</code> is an object with the
following defaults:</p>

<p class="goingmerry">
'options'是一个对象，它的默认值如下：
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span> <span
	class="sh_string"><span class="sh_string">'flags'</span></span><span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_string"><span class="sh_string">'w'</span></span>
<span class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">'encoding'</span></span><span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_keyword"><span class="sh_keyword">null</span></span>
<span class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">'mode'</span></span><span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_number"><span class="sh_number">0666</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span></code></pre>

<h2 id="http-157">HTTP -- HTTP模块</h2>

<p>To use the HTTP server and client one must <code
	class="sh_sourceCode"><span class="sh_function">require</span><span
	class="sh_symbol">(</span><span class="sh_string">'http'</span><span
	class="sh_symbol">)</span></code>.</p>
	
<p class="goingmerry">
如果要使用HTTP服务和client模块，必须先使用require('http')加载http模块。
</p>

<p>The HTTP interfaces in Node are designed to support many features
of the protocol which have been traditionally difficult to use. In
particular, large, possibly chunk-encoded, messages. The interface is
careful to never buffer entire requests or responses--the user is able
to stream data.</p>

<p class="goingmerry">
在Node中HTTP接口被设计成可支持HTTP协议多种特性，这些特性已经很难把握，特别是大型的，块状编码，信息。这些接口不会缓存整个请求或响应结果，使用户可以操作流数据。
</p>

<p>HTTP message headers are represented by an object like this:</p>

<p class="goingmerry">
HTTP的头信息就像下面这个对象描述的一样：
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span> <span
	class="sh_string"><span class="sh_string">'content-length'</span></span><span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_string"><span class="sh_string">'123'</span></span>
<span class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">'content-type'</span></span><span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_string"><span class="sh_string">'text/plain'</span></span>
<span class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">'connection'</span></span><span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_string"><span class="sh_string">'keep-alive'</span></span>
<span class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">'accept'</span></span><span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_string"><span class="sh_string">'*/*'</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span></code></pre>

<p>Keys are lowercased. Values are not modified.</p>

<p class="goingmerry">
所有的键都是小写的，values的值不能被修改。
</p>

<p>In order to support the full spectrum of possible HTTP
applications, Node's HTTP API is very low-level. It deals with stream
handling and message parsing only. It parses a message into headers and
body but it does not parse the actual headers or the body.</p>

<p class="goingmerry">
为了能够支持更多的HTTP应用，Node的HTTP API做了底层的实现，它只对流的作用以及信息的解析进行处理，它把信息解析到信息头和信息体中，但是不解析它们的实际内容。
</p>

<p>HTTPS is supported if OpenSSL is available on the underlying
platform.</p>

<p class="goingmerry">
如果OpenSSL在基础平台上是有效的，那么HTTPS将得到支持。
</p>

<h2 id="http-server-158">http.Server　-- http.Server模块</h2>

<p>This is an <code class="sh_sourceCode">EventEmitter</code> with
the following events:</p>

<p class="goingmerry">
这是一个事件触发器，它可以触发如下事件：
</p>

<h3 id="event-request-159">Event: 'request'</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">(</span>request<span class="sh_symbol">,</span>
response<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
<span class="sh_cbracket">}</span></code></p>

<p><code class="sh_sourceCode">request</code> is an instance of <code
	class="sh_sourceCode">http<span class="sh_symbol">.</span>ServerRequest</code>
and <code class="sh_sourceCode">response</code> is an instance of <code
	class="sh_sourceCode">http<span class="sh_symbol">.</span>ServerResponse</code></p>
	
<p class="goingmerry">
'request'是'http.ServerRequest'的一个实例，'response'是'http.ServerResponse'的一个实例。
</p>

<h3 id="event-connection-160">Event: 'connection'</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">(</span>stream<span class="sh_symbol">)</span> <span
	class="sh_cbracket">{</span> <span class="sh_cbracket">}</span></code></p>
	
<p>When a new TCP stream is established. <code class="sh_sourceCode">stream</code>
is an object of type <code class="sh_sourceCode">net<span
	class="sh_symbol">.</span>Stream</code>. Usually users will not want to access
this event. The <code class="sh_sourceCode">stream</code> can also be
accessed at <code class="sh_sourceCode">request<span
	class="sh_symbol">.</span>connection</code>.</p>
	
<p class="goingmerry">
当一个新的TCP流建立，那么'stream'参数是一个'net.stream'类型的对象。用户通常不会去访问这个事件。'Stream'参数也可以在'request.connection'中被访问。
</p>

<h3 id="event-close-161">Event: 'close'</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">(</span>errno<span class="sh_symbol">)</span> <span
	class="sh_cbracket">{</span> <span class="sh_cbracket">}</span></code></p>

<p>Emitted when the server closes.</p>

<p class="goingmerry">
服务被关闭时触发事件。
</p>

<h3 id="event-request-162">Event: 'request'</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">(</span>request<span class="sh_symbol">,</span>
response<span class="sh_symbol">)</span> <span class="sh_cbracket">{}</span></code></p>

<p>Emitted each time there is request. Note that there may be
multiple requests per connection (in the case of keep-alive
connections).</p>

<p class="goingmerry">
每一次请求都会触发此事件。需要注意的是，一个连接可能会有多个请求（例如长连接）。
</p>

<h3 id="event-checkcontinue-163">Event: 'checkContinue'</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">(</span>request<span class="sh_symbol">,</span>
response<span class="sh_symbol">)</span> <span class="sh_cbracket">{}</span></code></p>

<p>Emitted each time a request with an http Expect: 100-continue is
received. If this event isn't listened for, the server will
automatically respond with a 100 Continue as appropriate.</p>

<p class="goingmerry">
每次接收到请求中有'http Expect: 100-continue'信息时都会触发事件，如果这一事件没有被监听到，那么服务器会在适当的时候自动响应。
</p>

<p>Handling this event involves calling <code class="sh_sourceCode">response<span
	class="sh_symbol">.</span>writeContinue</code> if the client should continue
to send the request body, or generating an appropriate HTTP response
(e.g., 400 Bad Request) if the client should not continue to send the
request body.</p>

<p class="goingmerry">
如果客户端继续发送请求体，那么处理此事件还涉及到调用'response.writeContinue'。如果客户端没有再继续发送请求体，那么会产生一个适当的HTTP响应（例如：400错误请求）
</p>

<p>Note that when this event is emitted and handled, the <code
	class="sh_sourceCode">request</code> event will not be emitted.</p>

<p class="goingmerry">
需要注意的是，当这个事件被触发和处理，那么'request'事件将不会被触发。
</p>

<h3 id="event-upgrade-164">Event: 'upgrade'</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">(</span>request<span class="sh_symbol">,</span>
socket<span class="sh_symbol">,</span> head<span class="sh_symbol">)</span></code></p>

<p>Emitted each time a client requests a http upgrade. If this event
isn't listened for, then clients requesting an upgrade will have their
connections closed.</p>

<p class="goingmerry">
当客户端发起一个'http upgrade'请求时触发事件。如果这个事件没有监听，那么客户端的upgrade请求连接将被关闭。
</p>

<ul>
	<li><code class="sh_sourceCode">request</code> is the arguments
	for the http request, as it is in the request event.
	<p class="goingmerry">
	'request'参数表示一个http请求，也可以说是一个请求事件。
	</p>
	</li>
	<li><code class="sh_sourceCode">socket</code> is the network
	socket between the server and client.
	<p class="goingmerry">
	'socket'参数是服务器与客户端之间的网络套接字。
	</p>
	</li>
	<li><code class="sh_sourceCode">head</code> is an instance of
	Buffer, the first packet of the upgraded stream, this may be empty.
	<p class="goingmerry">
	'head'参数是Buffer的一个实例，这是upgraded流的发出的第一个数据包，这个参数可以为空。
	</p>
	</li>
</ul>

<p>After this event is emitted, the request's socket will not have a
<code class="sh_sourceCode">data</code> event listener, meaning you will
need to bind to it in order to handle data sent to the server on that
socket.</p>

<p class="goingmerry">
在这个事件触发后，请求的socket中不会有数据事件监听器，这意味着需要你自己绑定数据事件监听器，这样才能把数据通过socket把数据发送给服务器。
</p>

<h3 id="event-clienterror-165">Event: 'clientError'</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">(</span>exception<span class="sh_symbol">)</span>
<span class="sh_cbracket">{}</span></code></p>

<p>If a client connection emits an 'error' event - it will forwarded
here.</p>

<p class="goingmerry">
如果一个客户端连接触发一个'error'事件，那么会触发这个方法。
</p>

<h3 id="http-createserver-166">http.createServer(requestListener)</h3>

<p>Returns a new web server object.</p>

<p class="goingmerry">
返回一个新的web服务器对象。
</p>

<p>The <code class="sh_sourceCode">requestListener</code> is a
function which is automatically added to the <code class="sh_sourceCode"><span
	class="sh_string">'request'</span></code> event.</p>
	
<p class="goingmerry">
'requestListener'函数会自动地添加到'request'事件中。
</p>

<h3 id="server-listen-167">server.listen(port, [hostname],
[callback])</h3>

<p>Begin accepting connections on the specified port and hostname.
If the hostname is omitted, the server will accept connections directed
to any IPv4 address (<code class="sh_sourceCode">INADDR_ANY</code>).</p>

<p class="goingmerry">
通过指定的端口和主机名接受连接。如果主机名被省略，那么服务器将接受定向到任何IPv4地址（INADDR_ANY的）的连接。
</p>

<p>To listen to a unix socket, supply a filename instead of port and
hostname.</p>

<p class="goingmerry">
监听一个unix套接字，需要提供一个文件名替代端口和主机名。
</p>

<p>This function is asynchronous. The last parameter <code
	class="sh_sourceCode">callback</code> will be called when the server
has been bound to the port.</p>

<p class="goingmerry">
这个函数是异步的。最后一个参数'callback'将会在服务器绑定端口后调用。
</p>

<h3 id="server-listen-168">server.listen(path, [callback])</h3>

<p>Start a UNIX socket server listening for connections on the given
<code class="sh_sourceCode">path</code>.</p>

<p class="goingmerry">
开启一个UNIX socket服务器并指定的路径进行监听。
</p>

<p>This function is asynchronous. The last parameter <code
	class="sh_sourceCode">callback</code> will be called when the server
has been bound.</p>

<p class="goingmerry">
这个函数是异步的。最后一个参数'callback'将会在服务器绑定端口后调用。
</p>

<h3 id="server-setsecure-169">server.setSecure(credentials)</h3>

<p>Enables HTTPS support for the server, with the crypto module
credentials specifying the private key and certificate of the server,
and optionally the CA certificates for use in client authentication.</p>

<p class="goingmerry">
使服务器能够支持HTTPS，必须要使用加密模块，指定私钥证书和服务器证书，并可以选择在客户端使用CA认证证书。
</p>

<p>If the credentials hold one or more CA certificates, then the
server will request for the client to submit a client certificate as
part of the HTTPS connection handshake. The validity and content of this
can be accessed via verifyPeer() and getPeerCertificate() from the
server's request.connection.</p>

<p class="goingmerry">
如果凭证持有一个或多个CA证书，那么服务器会要求客户端提交客户端安全证书，此证书做为HTTPS连接握手的一部分。
检验有效性和获取内容可通过服务器的'request.connection'中的'verifyPeer()'和'getPeerCertificate()'这两个方法实现。
</p>

<h3 id="server-close-170">server.close()</h3>

<p>Stops the server from accepting new connections.</p>

<p class="goingmerry">
让服务器停止接受新的连接。
</p>

<h2 id="http-serverrequest-171">http.ServerRequest -- http.ServerRequest对象</h2>

<p>This object is created internally by a HTTP server--not by the
user--and passed as the first argument to a <code class="sh_sourceCode"><span
	class="sh_string">'request'</span></code> listener.</p>


<p class="goingmerry">
这个对象是HTTP服务器内部创建的，不是由用户创建的。把这个对象传给'request'监听器的第一个参数。
</p>

<p>This is an <code class="sh_sourceCode">EventEmitter</code> with
the following events:</p>

<p class="goingmerry">
这是一个'EventEmitter'并拥有如下事件：
</p>

<h3 id="event-data-172">Event: 'data'</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">(</span>chunk<span class="sh_symbol">)</span> <span
	class="sh_cbracket">{</span> <span class="sh_cbracket">}</span></code></p>

<p>Emitted when a piece of the message body is received.</p>

<p class="goingmerry">
当接收到消息体的一部分时触发。
</p>

<p>Example: A chunk of the body is given as the single argument. The
transfer-encoding has been decoded. The body chunk is a string. The body
encoding is set with <code class="sh_sourceCode">request<span
	class="sh_symbol">.</span><span class="sh_function">setBodyEncoding</span><span
	class="sh_symbol">()</span></code>.</p>
	
<p class="goingmerry">
XXX 这里的'the transfer-encoding has been decoded翻译不通，有待改进。'
例子：把消息体的数据块作为参数传入函数。传输编码已被解码，消息体数据块本身就是一个字符串。消息体编码可以使用'request.setBodyEncoding()'方法来设置。
</p>

<h3 id="event-end-173">Event: 'end'</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">()</span> <span class="sh_cbracket">{</span> <span
	class="sh_cbracket">}</span></code></p>

<p>Emitted exactly once for each message. No arguments. After
emitted no other events will be emitted on the request.</p>

<p class="goingmerry">
每次完全接收完消息后触发。没有参数，在这次请求里触发'end'事件后再也没有其它事件发生。
</p>

<h3 id="request-method-174">request.method</h3>

<p>The request method as a string. Read only. Example: <code
	class="sh_sourceCode"><span class="sh_string">'GET'</span></code>, <code
	class="sh_sourceCode"><span class="sh_string">'DELETE'</span></code>.</p>

<p class="goingmerry">
做为一个只读的字符串请求方法。例如：'GET', 'DELETE'。
</p>

<h3 id="request-url-175">request.url</h3>

<p>Request URL string. This contains only the URL that is present in
the actual HTTP request. If the request is:</p>

<p class="goingmerry">
请求一个URL字符串。这个字符串仅包含当前真正的HTTP请求中的URL。如果这个请求像下面这样：
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_normal"><span class="sh_normal">GET </span></span><span
	class="sh_symbol"><span class="sh_symbol">/</span></span>status<span
	class="sh_symbol"><span class="sh_symbol">?</span></span>name<span
	class="sh_symbol"><span class="sh_symbol">=</span></span>ryan <span
	class="sh_normal"><span class="sh_normal">HTTP</span></span><span
	class="sh_symbol"><span class="sh_symbol">/</span></span><span
	class="sh_number"><span class="sh_number">1.1</span></span><span
	class="sh_symbol"><span class="sh_symbol">\</span></span>r<span
	class="sh_symbol"><span class="sh_symbol">\</span></span>n
Accept<span class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_normal"><span class="sh_normal">text</span></span><span
	class="sh_symbol"><span class="sh_symbol">/</span></span>plain<span
	class="sh_symbol"><span class="sh_symbol">\</span></span>r<span
	class="sh_symbol"><span class="sh_symbol">\</span></span>n
<span class="sh_symbol"><span class="sh_symbol">\</span></span>r<span
	class="sh_symbol"><span class="sh_symbol">\</span></span>n</code></pre>

<p>Then <code class="sh_sourceCode">request<span
	class="sh_symbol">.</span>url</code> will be:</p>
	
<p class="goingmerry">
则'request.url'得到：
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_string"><span class="sh_string">'/status?name=ryan'</span></span></code></pre>

<p>If you would like to parse the URL into its parts, you can use <code
	class="sh_sourceCode"><span class="sh_function">require</span><span
	class="sh_symbol">(</span><span class="sh_string">'url'</span><span
	class="sh_symbol">).</span><span class="sh_function">parse</span><span
	class="sh_symbol">(</span>request<span class="sh_symbol">.</span>url<span
	class="sh_symbol">)</span></code>. Example:</p>

<p class="goingmerry">
如果你尝试解析URL的各个部分，你可以使用'require('url').parse(request.url)'。例如：
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">node<span
	class="sh_symbol"><span class="sh_symbol">&gt;</span></span> <span
	class="sh_function"><span class="sh_function">require</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'url'</span></span><span
	class="sh_symbol"><span class="sh_symbol">).</span></span><span
	class="sh_function"><span class="sh_function">parse</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'/status?name=ryan'</span></span><span
	class="sh_symbol"><span class="sh_symbol">)</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">{</span></span> href<span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_string"><span class="sh_string">'/status?name=ryan'</span></span>
<span class="sh_symbol"><span class="sh_symbol">,</span></span> search<span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_string"><span class="sh_string">'?name=ryan'</span></span>
<span class="sh_symbol"><span class="sh_symbol">,</span></span> query<span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_string"><span class="sh_string">'name=ryan'</span></span>
<span class="sh_symbol"><span class="sh_symbol">,</span></span> pathname<span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_string"><span class="sh_string">'/status'</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span></code></pre>

<p>If you would like to extract the params from the query string,
you can use the <code class="sh_sourceCode"><span
	class="sh_function">require</span><span class="sh_symbol">(</span><span
	class="sh_string">'querystring'</span><span class="sh_symbol">).</span>parse</code>
function, or pass <code class="sh_sourceCode"><span
	class="sh_keyword">true</span></code> as the second argument to <code
	class="sh_sourceCode"><span class="sh_function">require</span><span
	class="sh_symbol">(</span><span class="sh_string">'url'</span><span
	class="sh_symbol">).</span>parse</code>. Example:</p>
	
<p class="goingmerry">
如果你想从查询字符串(query属性)中提取参数，你可以使用'require('querystring').parse'函数，或是把'true'当做第二个参数传给'require('url').parse',例如：
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">node<span
	class="sh_symbol"><span class="sh_symbol">&gt;</span></span> <span
	class="sh_function"><span class="sh_function">require</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'url'</span></span><span
	class="sh_symbol"><span class="sh_symbol">).</span></span><span
	class="sh_function"><span class="sh_function">parse</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'/status?name=ryan'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">true</span></span><span
	class="sh_symbol"><span class="sh_symbol">)</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">{</span></span> href<span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_string"><span class="sh_string">'/status?name=ryan'</span></span>
<span class="sh_symbol"><span class="sh_symbol">,</span></span> search<span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_string"><span class="sh_string">'?name=ryan'</span></span>
<span class="sh_symbol"><span class="sh_symbol">,</span></span> query<span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span> name<span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_string"><span class="sh_string">'ryan'</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">}</span></span>
<span class="sh_symbol"><span class="sh_symbol">,</span></span> pathname<span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_string"><span class="sh_string">'/status'</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span></code></pre>

<h3 id="request-headers-176">request.headers</h3>

<p>Read only.</p>

<p class="goingmerry">
只读。
</p>

<h3 id="request-trailers-177">request.trailers</h3>

<p>Read only; HTTP trailers (if present). Only populated after the
'end' event.</p>

<p class="goingmerry">
只读；HTTP结尾（如果存在）。仅在'end'事件触发后被填入。
</p>

<h3 id="request-httpversion-178">request.httpVersion</h3>

<p>The HTTP protocol version as a string. Read only. Examples: <code
	class="sh_sourceCode"><span class="sh_string">'1.1'</span></code>, <code
	class="sh_sourceCode"><span class="sh_string">'1.0'</span></code>. Also
<code class="sh_sourceCode">request<span class="sh_symbol">.</span>httpVersionMajor</code>
is the first integer and <code class="sh_sourceCode">request<span
	class="sh_symbol">.</span>httpVersionMinor</code> is the second.</p>
	
<p class="goingmerry">
HTTP协议的字符串形式。只读。例如：'1.1,'1.0'。'request.httpVersionMajor'第一个数字，'request.httpVersionMinor'第二个是数字。
</p>

<h3 id="request-setencoding-179">request.setEncoding(encoding=null)</h3>

<p>Set the encoding for the request body. Either <code
	class="sh_sourceCode"><span class="sh_string">'utf8'</span></code> or <code
	class="sh_sourceCode"><span class="sh_string">'binary'</span></code>.
Defaults to <code class="sh_sourceCode"><span class="sh_keyword">null</span></code>,
which means that the <code class="sh_sourceCode"><span
	class="sh_string">'data'</span></code> event will emit a <code
	class="sh_sourceCode">Buffer</code> object..</p>

<p class="goingmerry">
为请求信息体设置编码。可以是'utf8'或'binary'。默认情况下为null。这意味着'data'事件将触发一个'Buffer'对象（即'data'对象参数为一个'Buffer'对象）。
</p>

<h3 id="request-pause-180">request.pause()</h3>

<p>Pauses request from emitting events. Useful to throttle back an
upload.</p>

<p class="goingmerry">
暂停正在触发的request事件。对控制上传很有用。
</p>

<h3 id="request-resume-181">request.resume()</h3>

<p>Resumes a paused request.</p>

<p class="goingmerry">
重新开始一个暂停的请求。
</p>

<h3 id="request-connection-182">request.connection</h3>

<p>The <code class="sh_sourceCode">net<span class="sh_symbol">.</span>Stream</code>
object associated with the connection.</p>

<p class="goingmerry">
'net.Stream'对象与当前连接相关联。
</p>

<p>With HTTPS support, use request.connection.verifyPeer() and
request.connection.getPeerCertificate() to obtain the client's
authentication details.</p>

<p class="goingmerry">
支持HTTPS协议的话，就可以使用'request.connection.verifyPeer()'和'request.connection.getPeerCertificate()'去获取客户端的认证详情。
</p>

<h2 id="http-serverresponse-183">http.ServerResponse -- http模块的ServerResponse对象</h2>

<p>This object is created internally by a HTTP server--not by the
user. It is passed as the second parameter to the <code
	class="sh_sourceCode"><span class="sh_string">'request'</span></code>
event. It is a <code class="sh_sourceCode">Writable Stream</code>.</p>

<p class="goingmerry">
这个对象由HTTP服务器创建而不是由用户创建。这个对象被当'request'事件的第二参数传入，这是一个可写流。
</p>

<h3 id="response-writecontinue-184">response.writeContinue()</h3>

<p>Sends a HTTP/1.1 100 Continue message to the client, indicating
that the request body should be sent. See the the <code
	class="sh_sourceCode">checkContinue</code> event on <code
	class="sh_sourceCode">Server</code>.</p>
	
<p class="goingmerry">
发送一条'HTTP/1.1 10 Continue'信息到客户端，这表明请求消息体应该被发送。详细查看'checkContinue'事件在'Server'章节。
</p>

<h3 id="response-writehead-185">response.writeHead(statusCode,
[reasonPhrase], [headers])</h3>

<p>Sends a response header to the request. The status code is a
3-digit HTTP status code, like <code class="sh_sourceCode"><span
	class="sh_number">404</span></code>. The last argument, <code
	class="sh_sourceCode">headers</code>, are the response headers.
Optionally one can give a human-readable <code class="sh_sourceCode">reasonPhrase</code>
as the second argument.</p>

<p class="goingmerry">
发送一个响应报头给本次请求。状态码由3位HTTP状态码组成，比如'404'。最后一个参数，'headers'是指响应头。也可以选一个更直观的'reasonPhrase'做为第二参数。
</p>

<p>Example:</p>

<p class="goingmerry">
例子：
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_keyword"><span class="sh_keyword">var</span></span> body <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_string"><span class="sh_string">'hello world'</span></span><span
	class="sh_symbol"><span class="sh_symbol">;</span></span>
response<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">writeHead</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_number"><span class="sh_number">200</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  <span class="sh_string"><span class="sh_string">'Content-Length'</span></span><span
	class="sh_symbol"><span class="sh_symbol">:</span></span> body<span
	class="sh_symbol"><span class="sh_symbol">.</span></span>length<span
	class="sh_symbol"><span class="sh_symbol">,</span></span>
  <span class="sh_string"><span class="sh_string">'Content-Type'</span></span><span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_string"><span class="sh_string">'text/plain'</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<p>This method must only be called once on a message and it must be
called before <code class="sh_sourceCode">response<span
	class="sh_symbol">.</span><span class="sh_function">end</span><span
	class="sh_symbol">()</span></code> is called.</p>
	
<p class="goingmerry">
一次信息交互中此方法只能被调用一次，并且是在调用'response.end()'之前被调用。
</p>

<h3 id="response-write-186">response.write(chunk, encoding='utf8')</h3>

<p>This method must be called after <code class="sh_sourceCode">writeHead</code>
was called. It sends a chunk of the response body. This method may be
called multiple times to provide successive parts of the body.</p>

<p class="goingmerry">
此方法必须在'writeHead'方法之后调用。它会发送一个响应体的部分数据。这个方法可以连续被调用使得可以得到连接的消息体。
</p>

<p><code class="sh_sourceCode">chunk</code> can be a string or a
buffer. If <code class="sh_sourceCode">chunk</code> is a string, the
second parameter specifies how to encode it into a byte stream. By
default the <code class="sh_sourceCode">encoding</code> is <code
	class="sh_sourceCode"><span class="sh_string">'utf8'</span></code>.</p>
	
<p class="goingmerry">
'chunk'可以是一个字符串也可以是一个缓冲区，如果'chunk'是一个字符串，那么第二个参数指明使用怎样的字符编码将字符串编译成字节流。默认情况下'encoding'为'utf8'。
</p>

<p><strong>Note</strong>: This is the raw HTTP body and has nothing
to do with higher-level multi-part body encodings that may be used.</p>

<p class="goingmerry">
请注意：这是一个原始的HTTP消息体，与高级多段消息体编码无关，可用于编码。
</p>

<p>The first time <code class="sh_sourceCode">response<span
	class="sh_symbol">.</span><span class="sh_function">write</span><span
	class="sh_symbol">()</span></code> is called, it will send the buffered header
information and the first body to the client. The second time <code
	class="sh_sourceCode">response<span class="sh_symbol">.</span><span
	class="sh_function">write</span><span class="sh_symbol">()</span></code> is
called, Node assumes you're going to be streaming data, and sends that
separately. That is, the response is buffered up to the first chunk of
body.</p>

<p class="goingmerry">
第一次调用'response.write()'方法的时候，它会发送一个缓冲头文件信息和第一个消息体到客户端。第二次'response.write()'被调用时，Node假设你要将数据流分开发送，也就是说
响应缓冲到第一块消息体
</p>

<h3 id="response-addtrailers-187">response.addTrailers(headers)</h3>

<p>This method adds HTTP trailing headers (a header but at the end
of the message) to the response.</p>

<p class="goingmerry">
这个方法会添加一个HTTP尾部头信息（一个在报文尾部的头信息）给响应内容。
</p>

<p>Trailers will <strong>only</strong> be emitted if chunked
encoding is used for the response; if it is not (e.g., if the request
was HTTP/1.0), they will be silently discarded.</p>

<p class="goingmerry">
Trailers事件（request.trailers）只有在响应体使用Chunked编码的时才会触发，如果不是（例如：如果请求是HTTP/1.0），那么它们将会被丢弃。
</p>

<p>Note that HTTP requires the <code class="sh_sourceCode">Trailer</code>
header to be sent if you intend to emit trailers, with a list of the
header fields in its value. E.g.,</p>

<p class="goingmerry">
需要注意的是，如果你打算把头信息字段列表添加尾部头信息，你可以使用HTTP的<code>Trailer</code>事件。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">response<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">writeHead</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_number"><span class="sh_number">200</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span> <span
	class="sh_string"><span class="sh_string">'Content-Type'</span></span><span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_string"><span class="sh_string">'text/plain'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span>
                          <span class="sh_string"><span
	class="sh_string">'Trailer'</span></span><span class="sh_symbol"><span
	class="sh_symbol">:</span></span> <span class="sh_string"><span
	class="sh_string">'TraceInfo'</span></span> <span class="sh_cbracket"><span
	class="sh_cbracket">}</span></span><span class="sh_symbol"><span
	class="sh_symbol">);</span></span>
response<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">write</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>fileData<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
response<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">addTrailers</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span><span
	class="sh_string"><span class="sh_string">'Content-MD5'</span></span><span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_string"><span class="sh_string">"7895bf4b8828b55ceaf47747b4bca667"</span></span><span
	class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
response<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">end</span></span><span
	class="sh_symbol"><span class="sh_symbol">();</span></span></code></pre>

<h3 id="response-end-188">response.end([data], [encoding])</h3>

<p>This method signals to the server that all of the response
headers and body has been sent; that server should consider this message
complete. The method, <code class="sh_sourceCode">response<span
	class="sh_symbol">.</span><span class="sh_function">end</span><span
	class="sh_symbol">()</span></code>, MUST be called on each response.</p>
	
<p class="goingmerry">
此方法信号传到服务器端时，服务器认为所有的信息头和信息体都已经发送完。'response.end()'方法必须在每个响应中调用。
</p>

<p>If <code class="sh_sourceCode">data</code> is specified, it is
equivalent to calling <code class="sh_sourceCode">response<span
	class="sh_symbol">.</span><span class="sh_function">write</span><span
	class="sh_symbol">(</span>data<span class="sh_symbol">,</span> encoding<span
	class="sh_symbol">)</span></code> followed by <code class="sh_sourceCode">response<span
	class="sh_symbol">.</span><span class="sh_function">end</span><span
	class="sh_symbol">()</span></code>.</p>

<p class="goingmerry">
如果指定了'data'参数，那么等价为调用'response.write(data, encoding)'方法之后再调用'response.end()'方法。
</p>

<h2 id="http-client-189">http.Client -- HTTP客户端</h2>

<p>An HTTP client is constructed with a server address as its
argument, the returned handle is then used to issue one or more
requests. Depending on the server connected to, the client might
pipeline the requests or reestablish the stream after each stream. <em>Currently
the implementation does not pipeline requests.</em></p>

<p class="goingmerry">
使用服务器地址做为一个参数来构造一个HTTP客户端，返回的句柄可用来发出一个或多个请求。
客户端是采用管道处理请求还是重新构造流，这个取决于连接到的服务器。当前实现方式没有使用管道机制处理请求。
</p>

<p>Example of connecting to <code class="sh_sourceCode">google<span
	class="sh_symbol">.</span>com</code>:</p>
	
<p class="goingmerry">
一个连接到'google.com'的例子。
</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_keyword"><span class="sh_keyword">var</span></span> http <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_function"><span class="sh_function">require</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'http'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_keyword"><span class="sh_keyword">var</span></span> google <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> http<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">createClient</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_number"><span class="sh_number">80</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">'www.google.com'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_keyword"><span class="sh_keyword">var</span></span> request <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> google<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">request</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'GET'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">'/'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span>
  <span class="sh_cbracket"><span class="sh_cbracket">{</span></span><span
	class="sh_string"><span class="sh_string">'host'</span></span><span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_string"><span class="sh_string">'www.google.com'</span></span><span
	class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
request<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">end</span></span><span
	class="sh_symbol"><span class="sh_symbol">();</span></span>
request<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">on</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'response'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>response<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'STATUS: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> response<span
	class="sh_symbol"><span class="sh_symbol">.</span></span>statusCode<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
  console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'HEADERS: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> JSON<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">stringify</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>response<span
	class="sh_symbol"><span class="sh_symbol">.</span></span>headers<span
	class="sh_symbol"><span class="sh_symbol">));</span></span>
  response<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">setEncoding</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'utf8'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
  response<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">on</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'data'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>chunk<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
    console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'BODY: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> chunk<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
  <span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<p>There are a few special headers that should be noted.</p>

<p class="goingmerry">
这里有一些特别的头信息是需要注意的。
</p>

<ul>
	<li>
	<p>The 'Host' header is not added by Node, and is usually required
	by website.</p>
	<p class="goingmerry">
	'host'头信息不是由Node添加的，但它是一个网站必须的。
	</p>
	</li>
	<li>
	<p>Sending a 'Connection: keep-alive' will notify Node that the
	connection to the server should be persisted until the next request.</p>
	<p class="goingmerry">
	发送一个'Connection: keep-alive'将告诉Node,和服务器间的这个连接应该保持连接，直到下一次请求的时候才会断开。
	</p>
	</li>
	<li>
	<p>Sending a 'Content-length' header will disable the default
	chunked encoding.</p>
	<p class="goingmerry">
	发送一个'Content-length'头信息将会使默认的Chunked编码失效。
	</p>
	</li>
	<li>
	<p>Sending an 'Expect' header will immediately send the request
	headers. Usually, when sending 'Expect: 100-continue', you should both
	set a timeout and listen for the <code class="sh_sourceCode"><span
		class="sh_keyword">continue</span></code> event. See RFC2616 Section 8.2.3
	for more information.</p>
	
	<p class="goingmerry">
	如果请求头中包含'Expect',就会立即向服务器发送这个请求头。
	通常当发送'Expect: 100-continue'的时候，你需对'continue'事件设定一个超时和一个监听器。参见RFC2616第8.2.3节获取更多信息。
	</p>
	</li>
</ul>

<h3 id="event-upgrade-190">Event: 'upgrade'</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">(</span>request<span class="sh_symbol">,</span>
socket<span class="sh_symbol">,</span> head<span class="sh_symbol">)</span></code></p>

<p>Emitted each time a server responds to a request with an upgrade.
If this event isn't being listened for, clients receiving an upgrade
header will have their connections closed.</p>

<p class="goingmerry">
当服务器响应一个'upgrade'请求时触发。如果这个事件没有被监听，那么客户端接收到一个'upgrade'头信息的时会导致连接关闭。
</p>

<p>See the description of the <code class="sh_sourceCode">upgrade</code>
event for <code class="sh_sourceCode">http<span class="sh_symbol">.</span>Server</code>
for further details.</p>

<p class="goingmerry">
想要了解'upgrade'事件更多的细节，请参考'http.Server'章节。
</p>

<h3 id="event-continue-191">Event: 'continue'</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">()</span></code></p>

<p>Emitted when the server sends a '100 Continue' HTTP response,
usually because the request contained 'Expect: 100-continue'. This is an
instruction that the client should send the request body.</p>

<p class="goingmerry">
如果请求中包含'Expect: 100-continue'，那么在服务器发送带有'100 Continue'响应时会触此事件，客户端收到响应后会发送消息体。
</p>

<h3 id="http-createclient-192">http.createClient(port,
host='localhost', secure=false, [credentials])</h3>

<p>Constructs a new HTTP client. <code class="sh_sourceCode">port</code>
and <code class="sh_sourceCode">host</code> refer to the server to be
connected to. A stream is not established until a request is issued.</p>

<p class="goingmerry">
创建一个新的HTTP客户端。'port'和'host'指定了要连接的服务器。当请求发起时就会产生流。
</p>

<p><code class="sh_sourceCode">secure</code> is an optional boolean
flag to enable https support and <code class="sh_sourceCode">credentials</code>
is an optional credentials object from the crypto module, which may hold
the client's private key, certificate, and a list of trusted CA
certificates.</p>

<p class="goingmerry">
'secure'是一个可选的参数，它是一个boolean类型的，它可以决定是否支持https协议。'creadentials'也是一个可选的认证对象，这个对象可以从加密模块（crypto module）中找到，
这个对象持有客户端的私钥以及一个可信任的CA证书列表。
</p>

<p>If the connection is secure, but no explicit CA certificates are
passed in the credentials, then node.js will default to the publicly
trusted list of CA certificates, as given in
http://mxr.mozilla.org/mozilla/source/security/nss/lib/ckfw/builtins/certdata.txt</p>

<p class="goingmerry">
如果使用的是安全连接，但是没有把CA安全证书传给'creadentials'参数，这时node.js就会默认使用公开的可信任的CA证书列表，下面是给出的CA证书列表：
http://mxr.mozilla.org/mozilla/source/security/nss/lib/ckfw/builtins/certdata.txt
</p>

<h3 id="client-request-193">client.request(method='GET', path,
[request_headers])</h3>

<p>Issues a request; if necessary establishes stream. Returns a <code
	class="sh_sourceCode">http<span class="sh_symbol">.</span>ClientRequest</code>
instance.</p>

<p class="goingmerry">
发起一个请求，如果需要，那么会创建一个流。此方法返回一个'http.ClientRequest'的一个实例。
</p>

<p><code class="sh_sourceCode">method</code> is optional and
defaults to 'GET' if omitted.</p>

<p class="goingmerry">
'method'是一个可选的参数，默认为'GET'。
</p>

<p><code class="sh_sourceCode">request_headers</code> is optional.
Additional request headers might be added internally by Node. Returns a
<code class="sh_sourceCode">ClientRequest</code> object.</p>

<p class="goingmerry">
'request_headers'是一个可选参数。接收除头信息以外，由node添加的信息，此方法返回一个'ClientRequest'对象。
</p>

<p>Do remember to include the <code class="sh_sourceCode">Content<span
	class="sh_symbol">-</span>Length</code> header if you plan on sending a body.
If you plan on streaming the body, perhaps set <code
	class="sh_sourceCode">Transfer<span class="sh_symbol">-</span>Encoding<span
	class="sh_symbol">:</span> chunked</code>.</p>
	
<p class="goingmerry">
如果你要发送一个消息体，要记得把'Content-Length'放到消息头中，如果你想让消息体以流的形式发送，需要设置'Transfer-Encoding'为'chunked'。
</p>

<p><em>NOTE</em>: the request is not complete. This method only
sends the header of the request. One needs to call <code
	class="sh_sourceCode">request<span class="sh_symbol">.</span><span
	class="sh_function">end</span><span class="sh_symbol">()</span></code> to
finalize the request and retrieve the response. (This sounds convoluted
but it provides a chance for the user to stream a body to the server
with <code class="sh_sourceCode">request<span class="sh_symbol">.</span><span
	class="sh_function">write</span><span class="sh_symbol">()</span></code>.)</p>

<p class="goingmerry">
请注意：这并不是一个完整的请求，这个方法只是发送请求的消息头。还需要调用'request.end()'来完成这个请求并开始接收响应。
（这样听起来很费解，但是这样给用户提供了一个使用'request.write()'方法把消息体以流方式发送给服务器的机会。）
</p>

<h3 id="client-verifypeer-194">client.verifyPeer()</h3>

<p>Returns true or false depending on the validity of the server's
certificate in the context of the defined or default list of trusted CA
certificates.</p>

<p class="goingmerry">
如果服务器安全证书在上下文或默认CA证书列表中能过验证，那么返加true,否则返回false。
</p>

<h3 id="client-getpeercertificate-195">client.getPeerCertificate()</h3>

<p>Returns a JSON structure detailing the server's certificate,
containing a dictionary with keys for the certificate 'subject',
'issuer', 'valid_from' and 'valid_to'</p>

<p class="goingmerry">
返回一个JOSN结构的数据对象，用于描述服务器证书，包含了主题（subject），发行者（issuer），有效来源（valid_from）和有效目标（valid_to）。
</p>

<h2 id="http-clientrequest-196">http.ClientRequest -- http客户端请求</h2>

<p>This object is created internally and returned from the <code
	class="sh_sourceCode"><span class="sh_function">request</span><span
	class="sh_symbol">()</span></code> method of a <code class="sh_sourceCode">http<span
	class="sh_symbol">.</span>Client</code>. It represents an <em>in-progress</em>
request whose header has already been sent.</p>

<p class="goingmerry">

</p>

<p>To get the response, add a listener for <code
	class="sh_sourceCode"><span class="sh_string">'response'</span></code>
to the request object. <code class="sh_sourceCode"><span
	class="sh_string">'response'</span></code> will be emitted from the request
object when the response headers have been received. The <code
	class="sh_sourceCode"><span class="sh_string">'response'</span></code>
event is executed with one argument which is an instance of <code
	class="sh_sourceCode">http<span class="sh_symbol">.</span>ClientResponse</code>.</p>

<p>During the <code class="sh_sourceCode"><span
	class="sh_string">'response'</span></code> event, one can add listeners to the
response object; particularly to listen for the <code
	class="sh_sourceCode"><span class="sh_string">'data'</span></code>
event. Note that the <code class="sh_sourceCode"><span
	class="sh_string">'response'</span></code> event is called before any part of
the response body is received, so there is no need to worry about racing
to catch the first part of the body. As long as a listener for <code
	class="sh_sourceCode"><span class="sh_string">'data'</span></code> is
added during the <code class="sh_sourceCode"><span
	class="sh_string">'response'</span></code> event, the entire body will be
caught.</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_comment"><span class="sh_comment">// Good</span></span>
request<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">on</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'response'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>response<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  response<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">on</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'data'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>chunk<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
    console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'BODY: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> chunk<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
  <span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

<span class="sh_comment"><span class="sh_comment">// Bad - misses all or part of the body</span></span>
request<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">on</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'response'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>response<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  <span class="sh_function"><span class="sh_function">setTimeout</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">()</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
    response<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">on</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'data'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>chunk<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
      console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'BODY: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> chunk<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
    <span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
  <span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_number"><span class="sh_number">10</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<p>This is a <code class="sh_sourceCode">Writable Stream</code>.</p>

<p>This is an <code class="sh_sourceCode">EventEmitter</code> with
the following events:</p>

<h3 id="event-response-197">Event 'response'</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">(</span>response<span class="sh_symbol">)</span>
<span class="sh_cbracket">{</span> <span class="sh_cbracket">}</span></code></p>

<p>Emitted when a response is received to this request. This event
is emitted only once. The <code class="sh_sourceCode">response</code>
argument will be an instance of <code class="sh_sourceCode">http<span
	class="sh_symbol">.</span>ClientResponse</code>.</p>

<h3 id="request-write-198">request.write(chunk, encoding='utf8')</h3>

<p>Sends a chunk of the body. By calling this method many times, the
user can stream a request body to a server--in that case it is suggested
to use the <code class="sh_sourceCode"><span class="sh_symbol">[</span><span
	class="sh_string">'Transfer-Encoding'</span><span class="sh_symbol">,</span>
<span class="sh_string">'chunked'</span><span class="sh_symbol">]</span></code>
header line when creating the request.</p>

<p>The <code class="sh_sourceCode">chunk</code> argument should be
an array of integers or a string.</p>

<p>The <code class="sh_sourceCode">encoding</code> argument is
optional and only applies when <code class="sh_sourceCode">chunk</code>
is a string.</p>

<h3 id="request-end-199">request.end([data], [encoding])</h3>

<p>Finishes sending the request. If any parts of the body are
unsent, it will flush them to the stream. If the request is chunked,
this will send the terminating <code class="sh_sourceCode"><span
	class="sh_string">'0</span><span class="sh_specialchar">\r\n\r\n</span><span
	class="sh_string">'</span></code>.</p>

<p>If <code class="sh_sourceCode">data</code> is specified, it is
equivalent to calling <code class="sh_sourceCode">request<span
	class="sh_symbol">.</span><span class="sh_function">write</span><span
	class="sh_symbol">(</span>data<span class="sh_symbol">,</span> encoding<span
	class="sh_symbol">)</span></code> followed by <code class="sh_sourceCode">request<span
	class="sh_symbol">.</span><span class="sh_function">end</span><span
	class="sh_symbol">()</span></code>.</p>

<h2 id="http-clientresponse-200">http.ClientResponse</h2>

<p>This object is created when making a request with <code
	class="sh_sourceCode">http<span class="sh_symbol">.</span>Client</code>.
It is passed to the <code class="sh_sourceCode"><span
	class="sh_string">'response'</span></code> event of the request object.</p>

<p>The response implements the <code class="sh_sourceCode">Readable
Stream</code> interface.</p>

<h3 id="event-data-201">Event: 'data'</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">(</span>chunk<span class="sh_symbol">)</span> <span
	class="sh_cbracket">{}</span></code></p>

<p>Emitted when a piece of the message body is received.</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">Example<span
	class="sh_symbol"><span class="sh_symbol">:</span></span> A chunk of the body is given as the single
argument<span class="sh_symbol"><span class="sh_symbol">.</span></span> The transfer<span
	class="sh_symbol"><span class="sh_symbol">-</span></span>encoding has been decoded<span
	class="sh_symbol"><span class="sh_symbol">.</span></span>  The
body chunk a <span class="sh_predef_func"><span
	class="sh_predef_func">String</span></span><span class="sh_symbol"><span
	class="sh_symbol">.</span></span>  The body encoding is set <span
	class="sh_keyword"><span class="sh_keyword">with</span></span>
`response<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">setBodyEncoding</span></span><span
	class="sh_symbol"><span class="sh_symbol">()</span></span>`<span
	class="sh_symbol"><span class="sh_symbol">.</span></span></code></pre>

<h3 id="event-end-202">Event: 'end'</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">()</span> <span class="sh_cbracket">{}</span></code></p>

<p>Emitted exactly once for each message. No arguments. After
emitted no other events will be emitted on the response.</p>

<h3 id="response-statuscode-203">response.statusCode</h3>

<p>The 3-digit HTTP response status code. E.G. <code
	class="sh_sourceCode"><span class="sh_number">404</span></code>.</p>

<h3 id="response-httpversion-204">response.httpVersion</h3>

<p>The HTTP version of the connected-to server. Probably either <code
	class="sh_sourceCode"><span class="sh_string">'1.1'</span></code> or <code
	class="sh_sourceCode"><span class="sh_string">'1.0'</span></code>. Also
<code class="sh_sourceCode">response<span class="sh_symbol">.</span>httpVersionMajor</code>
is the first integer and <code class="sh_sourceCode">response<span
	class="sh_symbol">.</span>httpVersionMinor</code> is the second.</p>

<h3 id="response-headers-205">response.headers</h3>

<p>The response headers object.</p>

<h3 id="response-trailers-206">response.trailers</h3>

<p>The response trailers object. Only populated after the 'end'
event.</p>

<h3 id="response-setencoding-207">response.setEncoding(encoding=null)</h3>

<p>Set the encoding for the response body. Either <code
	class="sh_sourceCode"><span class="sh_string">'utf8'</span></code>, <code
	class="sh_sourceCode"><span class="sh_string">'ascii'</span></code>, or
<code class="sh_sourceCode"><span class="sh_string">'base64'</span></code>.
Defaults to <code class="sh_sourceCode"><span class="sh_keyword">null</span></code>,
which means that the <code class="sh_sourceCode"><span
	class="sh_string">'data'</span></code> event will emit a <code
	class="sh_sourceCode">Buffer</code> object..</p>

<h3 id="response-pause-208">response.pause()</h3>

<p>Pauses response from emitting events. Useful to throttle back a
download.</p>

<h3 id="response-resume-209">response.resume()</h3>

<p>Resumes a paused response.</p>

<h3 id="response-client-210">response.client</h3>

<p>A reference to the <code class="sh_sourceCode">http<span
	class="sh_symbol">.</span>Client</code> that this response belongs to.</p>

<h2 id="net-server-211">net.Server</h2>

<p>This class is used to create a TCP or UNIX server.</p>

<p>Here is an example of a echo server which listens for connections
on port 8124:</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_keyword"><span class="sh_keyword">var</span></span> net <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_function"><span class="sh_function">require</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'net'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_keyword"><span class="sh_keyword">var</span></span> server <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> net<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">createServer</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>stream<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  stream<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">setEncoding</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'utf8'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
  stream<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">on</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'connect'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">()</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
    stream<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">write</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'hello</span></span><span
	class="sh_specialchar"><span class="sh_specialchar">\r\n</span></span><span
	class="sh_string"><span class="sh_string">'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
  <span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
  stream<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">on</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'data'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>data<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
    stream<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">write</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>data<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
  <span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
  stream<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">on</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'end'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">()</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
    stream<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">write</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'goodbye</span></span><span
	class="sh_specialchar"><span class="sh_specialchar">\r\n</span></span><span
	class="sh_string"><span class="sh_string">'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
    stream<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">end</span></span><span
	class="sh_symbol"><span class="sh_symbol">();</span></span>
  <span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
server<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">listen</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_number"><span class="sh_number">8124</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">'localhost'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<p>To listen on the socket <code class="sh_sourceCode"><span
	class="sh_string">'/tmp/echo.sock'</span></code>, the last line would just be
changed to</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">server<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">listen</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'/tmp/echo.sock'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<p>This is an <code class="sh_sourceCode">EventEmitter</code> with
the following events:</p>

<h3 id="event-connection-212">Event: 'connection'</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">(</span>stream<span class="sh_symbol">)</span> <span
	class="sh_cbracket">{}</span></code></p>

<p>Emitted when a new connection is made. <code
	class="sh_sourceCode">stream</code> is an instance of <code
	class="sh_sourceCode">net<span class="sh_symbol">.</span>Stream</code>.</p>

<h3 id="event-close-213">Event: 'close'</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">()</span> <span class="sh_cbracket">{}</span></code></p>

<p>Emitted when the server closes.</p>

<h3 id="net-createserver-214">net.createServer(connectionListener)</h3>

<p>Creates a new TCP server. The <code class="sh_sourceCode">connectionListener</code>
argument is automatically set as a listener for the <code
	class="sh_sourceCode"><span class="sh_string">'connection'</span></code>
event.</p>

<h3 id="server-listen-215">server.listen(port, [host], [callback])</h3>

<p>Begin accepting connections on the specified <code
	class="sh_sourceCode">port</code> and <code class="sh_sourceCode">host</code>.
If the <code class="sh_sourceCode">host</code> is omitted, the server
will accept connections directed to any IPv4 address (<code
	class="sh_sourceCode">INADDR_ANY</code>).</p>

<p>This function is asynchronous. The last parameter <code
	class="sh_sourceCode">callback</code> will be called when the server
has been bound.</p>

<h3 id="server-listen-216">server.listen(path, [callback])</h3>

<p>Start a UNIX socket server listening for connections on the given
<code class="sh_sourceCode">path</code>.</p>

<p>This function is asynchronous. The last parameter <code
	class="sh_sourceCode">callback</code> will be called when the server
has been bound.</p>

<h3 id="server-listenfd-217">server.listenFD(fd)</h3>

<p>Start a server listening for connections on the given file
descriptor.</p>

<p>This file descriptor must have already had the <code
	class="sh_sourceCode"><span class="sh_function">bind</span><span
	class="sh_symbol">(</span><span class="sh_number">2</span><span
	class="sh_symbol">)</span></code> and <code class="sh_sourceCode"><span
	class="sh_function">listen</span><span class="sh_symbol">(</span><span
	class="sh_number">2</span><span class="sh_symbol">)</span></code> system calls
invoked on it.</p>

<h3 id="server-close-218">server.close()</h3>

<p>Stops the server from accepting new connections. This function is
asynchronous, the server is finally closed when the server emits a <code
	class="sh_sourceCode"><span class="sh_string">'close'</span></code>
event.</p>

<h3 id="server-maxconnections-219">server.maxConnections</h3>

<p>Set this property to reject connections when the server's
connection count gets high.</p>

<h3 id="server-connections-220">server.connections</h3>

<p>The number of concurrent connections on the server.</p>

<h2 id="net-isip-221">net.isIP</h2>

<h3 id="net-isip-222">net.isIP(input)</h3>

<p>Tests if input is an IP address. Returns 0 for invalid strings,
returns 4 for IP version 4 addresses, and returns 6 for IP version 6
addresses.</p>

<h3 id="net-isipv4-223">net.isIPv4(input)</h3>

<p>Returns true if input is a version 4 IP address, otherwise
returns false.</p>

<h3 id="net-isipv6-224">net.isIPv6(input)</h3>

<p>Returns true if input is a version 6 IP address, otherwise
returns false.</p>

<h2 id="net-stream-225">net.Stream</h2>

<p>This object is an abstraction of of a TCP or UNIX socket. <code
	class="sh_sourceCode">net<span class="sh_symbol">.</span>Stream</code>
instance implement a duplex stream interface. They can be created by the
user and used as a client (with <code class="sh_sourceCode"><span
	class="sh_function">connect</span><span class="sh_symbol">()</span></code>) or
they can be created by Node and passed to the user through the <code
	class="sh_sourceCode"><span class="sh_string">'connection'</span></code>
event of a server.</p>

<p><code class="sh_sourceCode">net<span class="sh_symbol">.</span>Stream</code>
instances are EventEmitters with the following events:</p>

<h3 id="event-connect-226">Event: 'connect'</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">()</span> <span class="sh_cbracket">{</span> <span
	class="sh_cbracket">}</span></code></p>

<p>Emitted when a stream connection successfully is established. See
<code class="sh_sourceCode"><span class="sh_function">connect</span><span
	class="sh_symbol">()</span></code>.</p>

<h3 id="event-secure-227">Event: 'secure'</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">()</span> <span class="sh_cbracket">{</span> <span
	class="sh_cbracket">}</span></code></p>

<p>Emitted when a stream connection successfully establishes an SSL
handshake with its peer.</p>

<h3 id="event-data-228">Event: 'data'</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">(</span>data<span class="sh_symbol">)</span> <span
	class="sh_cbracket">{</span> <span class="sh_cbracket">}</span></code></p>

<p>Emitted when data is received. The argument <code
	class="sh_sourceCode">data</code> will be a <code class="sh_sourceCode">Buffer</code>
or <code class="sh_sourceCode"><span class="sh_predef_func">String</span></code>.
Encoding of data is set by <code class="sh_sourceCode">stream<span
	class="sh_symbol">.</span><span class="sh_function">setEncoding</span><span
	class="sh_symbol">()</span></code>. (See the section on <code
	class="sh_sourceCode">Readable Stream</code> for more information.)</p>

<h3 id="event-end-229">Event: 'end'</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">()</span> <span class="sh_cbracket">{</span> <span
	class="sh_cbracket">}</span></code></p>

<p>Emitted when the other end of the stream sends a FIN packet.
After this is emitted the <code class="sh_sourceCode">readyState</code>
will be <code class="sh_sourceCode"><span class="sh_string">'writeOnly'</span></code>.
One should probably just call <code class="sh_sourceCode">stream<span
	class="sh_symbol">.</span><span class="sh_function">end</span><span
	class="sh_symbol">()</span></code> when this event is emitted.</p>

<h3 id="event-timeout-230">Event: 'timeout'</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">()</span> <span class="sh_cbracket">{</span> <span
	class="sh_cbracket">}</span></code></p>

<p>Emitted if the stream times out from inactivity. This is only to
notify that the stream has been idle. The user must manually close the
connection.</p>

<p>See also: <code class="sh_sourceCode">stream<span
	class="sh_symbol">.</span><span class="sh_function">setTimeout</span><span
	class="sh_symbol">()</span></code></p>

<h3 id="event-drain-231">Event: 'drain'</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">()</span> <span class="sh_cbracket">{</span> <span
	class="sh_cbracket">}</span></code></p>

<p>Emitted when the write buffer becomes empty. Can be used to
throttle uploads.</p>

<h3 id="event-error-232">Event: 'error'</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">(</span>exception<span class="sh_symbol">)</span>
<span class="sh_cbracket">{</span> <span class="sh_cbracket">}</span></code></p>

<p>Emitted when an error occurs. The <code class="sh_sourceCode"><span
	class="sh_string">'close'</span></code> event will be called directly
following this event.</p>

<h3 id="event-close-233">Event: 'close'</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">(</span>had_error<span class="sh_symbol">)</span>
<span class="sh_cbracket">{</span> <span class="sh_cbracket">}</span></code></p>

<p>Emitted once the stream is fully closed. The argument <code
	class="sh_sourceCode">had_error</code> is a boolean which says if the
stream was closed due to a transmission error.</p>

<h3 id="net-createconnection-234">net.createConnection(port,
host='127.0.0.1')</h3>

<p>Construct a new stream object and opens a stream to the specified
<code class="sh_sourceCode">port</code> and <code class="sh_sourceCode">host</code>.
If the second parameter is omitted, localhost is assumed.</p>

<p>When the stream is established the <code class="sh_sourceCode"><span
	class="sh_string">'connect'</span></code> event will be emitted.</p>

<h3 id="stream-connect-235">stream.connect(port, host='127.0.0.1')</h3>

<p>Opens a stream to the specified <code class="sh_sourceCode">port</code>
and <code class="sh_sourceCode">host</code>. <code class="sh_sourceCode"><span
	class="sh_function">createConnection</span><span class="sh_symbol">()</span></code>
also opens a stream; normally this method is not needed. Use this only
if a stream is closed and you want to reuse the object to connect to
another server.</p>

<p>This function is asynchronous. When the <code
	class="sh_sourceCode"><span class="sh_string">'connect'</span></code>
event is emitted the stream is established. If there is a problem
connecting, the <code class="sh_sourceCode"><span
	class="sh_string">'connect'</span></code> event will not be emitted, the <code
	class="sh_sourceCode"><span class="sh_string">'error'</span></code>
event will be emitted with the exception.</p>

<h3 id="stream-remoteaddress-236">stream.remoteAddress</h3>

<p>The string representation of the remote IP address. For example,
<code class="sh_sourceCode"><span class="sh_string">'74.125.127.100'</span></code>
or <code class="sh_sourceCode"><span class="sh_string">'2001:4860:a005::68'</span></code>.</p>

<p>This member is only present in server-side connections.</p>

<h3 id="stream-readystate-237">stream.readyState</h3>

<p>Either <code class="sh_sourceCode"><span class="sh_string">'closed'</span></code>,
<code class="sh_sourceCode"><span class="sh_string">'open'</span></code>,
<code class="sh_sourceCode"><span class="sh_string">'opening'</span></code>,
<code class="sh_sourceCode"><span class="sh_string">'readOnly'</span></code>,
or <code class="sh_sourceCode"><span class="sh_string">'writeOnly'</span></code>.</p>

<h3 id="stream-setencoding-238">stream.setEncoding(encoding=null)</h3>

<p>Sets the encoding (either <code class="sh_sourceCode"><span
	class="sh_string">'ascii'</span></code>, <code class="sh_sourceCode"><span
	class="sh_string">'utf8'</span></code>, or <code class="sh_sourceCode"><span
	class="sh_string">'base64'</span></code>) for data that is received.</p>

<h3 id="stream-setsecure-239">stream.setSecure([credentials])</h3>

<p>Enables SSL support for the stream, with the crypto module
credentials specifying the private key and certificate of the stream,
and optionally the CA certificates for use in peer authentication.</p>

<p>If the credentials hold one ore more CA certificates, then the
stream will request for the peer to submit a client certificate as part
of the SSL connection handshake. The validity and content of this can be
accessed via verifyPeer() and getPeerCertificate().</p>

<h3 id="stream-verifypeer-240">stream.verifyPeer()</h3>

<p>Returns true or false depending on the validity of the peers's
certificate in the context of the defined or default list of trusted CA
certificates.</p>

<h3 id="stream-getpeercertificate-241">stream.getPeerCertificate()</h3>

<p>Returns a JSON structure detailing the peer's certificate,
containing a dictionary with keys for the certificate 'subject',
'issuer', 'valid_from' and 'valid_to'</p>

<h3 id="stream-write-242">stream.write(data, encoding='ascii')</h3>

<p>Sends data on the stream. The second parameter specifies the
encoding in the case of a string--it defaults to ASCII because encoding
to UTF8 is rather slow.</p>

<p>Returns <code class="sh_sourceCode"><span
	class="sh_keyword">true</span></code> if the entire data was flushed
successfully to the kernel buffer. Returns <code class="sh_sourceCode"><span
	class="sh_keyword">false</span></code> if all or part of the data was queued
in user memory. <code class="sh_sourceCode"><span
	class="sh_string">'drain'</span></code> will be emitted when the buffer is
again free.</p>

<h3 id="stream-end-243">stream.end([data], [encoding])</h3>

<p>Half-closes the stream. I.E., it sends a FIN packet. It is
possible the server will still send some data. After calling this <code
	class="sh_sourceCode">readyState</code> will be <code
	class="sh_sourceCode"><span class="sh_string">'readOnly'</span></code>.</p>

<p>If <code class="sh_sourceCode">data</code> is specified, it is
equivalent to calling <code class="sh_sourceCode">stream<span
	class="sh_symbol">.</span><span class="sh_function">write</span><span
	class="sh_symbol">(</span>data<span class="sh_symbol">,</span> encoding<span
	class="sh_symbol">)</span></code> followed by <code class="sh_sourceCode">stream<span
	class="sh_symbol">.</span><span class="sh_function">end</span><span
	class="sh_symbol">()</span></code>.</p>

<h3 id="stream-destroy-244">stream.destroy()</h3>

<p>Ensures that no more I/O activity happens on this stream. Only
necessary in case of errors (parse error or so).</p>

<h3 id="stream-pause-245">stream.pause()</h3>

<p>Pauses the reading of data. That is, <code class="sh_sourceCode"><span
	class="sh_string">'data'</span></code> events will not be emitted. Useful to
throttle back an upload.</p>

<h3 id="stream-resume-246">stream.resume()</h3>

<p>Resumes reading after a call to <code class="sh_sourceCode"><span
	class="sh_function">pause</span><span class="sh_symbol">()</span></code>.</p>

<h3 id="stream-settimeout-247">stream.setTimeout(timeout)</h3>

<p>Sets the stream to timeout after <code class="sh_sourceCode">timeout</code>
milliseconds of inactivity on the stream. By default <code
	class="sh_sourceCode">net<span class="sh_symbol">.</span>Stream</code>
do not have a timeout.</p>

<p>When an idle timeout is triggered the stream will receive a <code
	class="sh_sourceCode"><span class="sh_string">'timeout'</span></code>
event but the connection will not be severed. The user must manually <code
	class="sh_sourceCode"><span class="sh_function">end</span><span
	class="sh_symbol">()</span></code> or <code class="sh_sourceCode"><span
	class="sh_function">destroy</span><span class="sh_symbol">()</span></code> the
stream.</p>

<p>If <code class="sh_sourceCode">timeout</code> is 0, then the
existing idle timeout is disabled.</p>

<h3 id="stream-setnodelay-248">stream.setNoDelay(noDelay=true)</h3>

<p>Disables the Nagle algorithm. By default TCP connections use the
Nagle algorithm, they buffer data before sending it off. Setting <code
	class="sh_sourceCode">noDelay</code> will immediately fire off data
each time <code class="sh_sourceCode">stream<span
	class="sh_symbol">.</span><span class="sh_function">write</span><span
	class="sh_symbol">()</span></code> is called.</p>

<h3 id="stream-setkeepalive-249">stream.setKeepAlive(enable=false,
[initialDelay])</h3>

<p>Enable/disable keep-alive functionality, and optionally set the
initial delay before the first keepalive probe is sent on an idle
stream. Set <code class="sh_sourceCode">initialDelay</code> (in
milliseconds) to set the delay between the last data packet received and
the first keepalive probe. Setting 0 for initialDelay will leave the
value unchanged from the default (or previous) setting.</p>

<h2 id="crypto-250">Crypto</h2>

<p>Use <code class="sh_sourceCode"><span class="sh_function">require</span><span
	class="sh_symbol">(</span><span class="sh_string">'crypto'</span><span
	class="sh_symbol">)</span></code> to access this module.</p>

<p>The crypto module requires OpenSSL to be available on the
underlying platform. It offers a way of encapsulating secure credentials
to be used as part of a secure HTTPS net or http connection.</p>

<p>It also offers a set of wrappers for OpenSSL's hash, hmac,
cipher, decipher, sign and verify methods.</p>

<h3 id="crypto-createcredentials-251">crypto.createCredentials(details)</h3>

<p>Creates a credentials object, with the optional details being a
dictionary with keys:</p>

<p><code class="sh_sourceCode">key</code> : a string holding the PEM
encoded private key</p>

<p><code class="sh_sourceCode">cert</code> : a string holding the
PEM encoded certificate</p>

<p><code class="sh_sourceCode">ca</code> : either a string or list
of strings of PEM encoded CA certificates to trust.</p>

<p>If no 'ca' details are given, then node.js will use the default
publicly trusted list of CAs as given in
http://mxr.mozilla.org/mozilla/source/security/nss/lib/ckfw/builtins/certdata.txt</p>

<h3 id="crypto-createhash-252">crypto.createHash(algorithm)</h3>

<p>Creates and returns a hash object, a cryptographic hash with the
given algorithm which can be used to generate hash digests.</p>

<p><code class="sh_sourceCode">algorithm</code> is dependent on the
available algorithms supported by the version of OpenSSL on the
platform. Examples are sha1, md5, sha256, sha512, etc. On recent
releases, <code class="sh_sourceCode">openssl list<span
	class="sh_symbol">-</span>message<span class="sh_symbol">-</span>digest<span
	class="sh_symbol">-</span>algorithms</code> will display the available digest
algorithms.</p>

<h3 id="hash-update-253">hash.update(data)</h3>

<p>Updates the hash content with the given <code
	class="sh_sourceCode">data</code>. This can be called many times with
new data as it is streamed.</p>

<h3 id="hash-digest-254">hash.digest(encoding='binary')</h3>

<p>Calculates the digest of all of the passed data to be hashed. The
<code class="sh_sourceCode">encoding</code> can be 'hex', 'binary' or
'base64'.</p>

<h3 id="crypto-createhmac-255">crypto.createHmac(algorithm, key)</h3>

<p>Creates and returns a hmac object, a cryptographic hmac with the
given algorithm and key.</p>

<p><code class="sh_sourceCode">algorithm</code> is dependent on the
available algorithms supported by OpenSSL - see createHash above. <code
	class="sh_sourceCode">key</code> is the hmac key to be used.</p>

<h3 id="hmac-update-256">hmac.update(data)</h3>

<p>Update the hmac content with the given <code
	class="sh_sourceCode">data</code>. This can be called many times with
new data as it is streamed.</p>

<h3 id="hmac-digest-257">hmac.digest(encoding='binary')</h3>

<p>Calculates the digest of all of the passed data to the hmac. The
<code class="sh_sourceCode">encoding</code> can be 'hex', 'binary' or
'base64'.</p>

<h3 id="crypto-createcipher-258">crypto.createCipher(algorithm,
key)</h3>

<p>Creates and returns a cipher object, with the given algorithm and
key.</p>

<p><code class="sh_sourceCode">algorithm</code> is dependent on
OpenSSL, examples are aes192, etc. On recent releases, <code
	class="sh_sourceCode">openssl list<span class="sh_symbol">-</span>cipher<span
	class="sh_symbol">-</span>algorithms</code> will display the available cipher
algorithms.</p>

<h3 id="cipher-update-259">cipher.update(data,
input_encoding='binary', output_encoding='binary')</h3>

<p>Updates the cipher with <code class="sh_sourceCode">data</code>,
the encoding of which is given in <code class="sh_sourceCode">input_encoding</code>
and can be 'utf8', 'ascii' or 'binary'. The <code class="sh_sourceCode">output_encoding</code>
specifies the output format of the enciphered data, and can be 'binary',
'base64' or 'hex'.</p>

<p>Returns the enciphered contents, and can be called many times
with new data as it is streamed.</p>

<h3 id="cipher-final-260">cipher.final(output_encoding='binary')</h3>

<p>Returns any remaining enciphered contents, with <code
	class="sh_sourceCode">output_encoding</code> being one of: 'binary',
'ascii' or 'utf8'.</p>

<h3 id="crypto-createdecipher-261">crypto.createDecipher(algorithm,
key)</h3>

<p>Creates and returns a decipher object, with the given algorithm
and key. This is the mirror of the cipher object above.</p>

<h3 id="decipher-update-262">decipher.update(data,
input_encoding='binary', output_encoding='binary')</h3>

<p>Updates the decipher with <code class="sh_sourceCode">data</code>,
which is encoded in 'binary', 'base64' or 'hex'. The <code
	class="sh_sourceCode">output_decoding</code> specifies in what format
to return the deciphered plaintext - either 'binary', 'ascii' or 'utf8'.</p>

<h3 id="decipher-final-263">decipher.final(output_encoding='binary')</h3>

<p>Returns any remaining plaintext which is deciphered, with
`output_encoding' being one of: 'binary', 'ascii' or 'utf8'.</p>

<h3 id="crypto-createsign-264">crypto.createSign(algorithm)</h3>

<p>Creates and returns a signing object, with the given algorithm.
On recent OpenSSL releases, <code class="sh_sourceCode">openssl
list<span class="sh_symbol">-</span><span class="sh_keyword">public</span><span
	class="sh_symbol">-</span>key<span class="sh_symbol">-</span>algorithms</code>
will display the available signing algorithms. Examples are
'RSA-SHA256'.</p>

<h3 id="signer-update-265">signer.update(data)</h3>

<p>Updates the signer object with data. This can be called many
times with new data as it is streamed.</p>

<h3 id="signer-sign-266">signer.sign(private_key,
output_format='binary')</h3>

<p>Calculates the signature on all the updated data passed through
the signer. <code class="sh_sourceCode">private_key</code> is a string
containing the PEM encoded private key for signing.</p>

<p>Returns the signature in <code class="sh_sourceCode">output_format</code>
which can be 'binary', 'hex' or 'base64'</p>

<h3 id="crypto-createverify-267">crypto.createVerify(algorithm)</h3>

<p>Creates and returns a verification object, with the given
algorithm. This is the mirror of the signing object above.</p>

<h3 id="verifier-update-268">verifier.update(data)</h3>

<p>Updates the verifyer object with data. This can be called many
times with new data as it is streamed.</p>

<h3 id="verifier-verify-269">verifier.verify(public_key, signature,
signature_format='binary')</h3>

<p>Verifies the signed data by using the <code class="sh_sourceCode">public_key</code>
which is a string containing the PEM encoded public key, and <code
	class="sh_sourceCode">signature</code>, which is the previously
calculates signature for the data, in the <code class="sh_sourceCode">signature_format</code>
which can be 'binary', 'hex' or 'base64'.</p>

<p>Returns true or false depending on the validity of the signature
for the data and public key.</p>

<h2 id="dns-270">DNS</h2>

<p>Use <code class="sh_sourceCode"><span class="sh_function">require</span><span
	class="sh_symbol">(</span><span class="sh_string">'dns'</span><span
	class="sh_symbol">)</span></code> to access this module.</p>

<p>Here is an example which resolves <code class="sh_sourceCode"><span
	class="sh_string">'www.google.com'</span></code> then reverse resolves the IP
addresses which are returned.</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_keyword"><span class="sh_keyword">var</span></span> dns <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_function"><span class="sh_function">require</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'dns'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

dns<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">resolve4</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'www.google.com'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>err<span
	class="sh_symbol"><span class="sh_symbol">,</span></span> addresses<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  <span class="sh_keyword"><span class="sh_keyword">if</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>err<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_keyword"><span class="sh_keyword">throw</span></span> err<span
	class="sh_symbol"><span class="sh_symbol">;</span></span>

  console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'addresses: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> JSON<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">stringify</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>addresses<span
	class="sh_symbol"><span class="sh_symbol">));</span></span>

  addresses<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">forEach</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>a<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
    dns<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">reverse</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>a<span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>err<span
	class="sh_symbol"><span class="sh_symbol">,</span></span> domains<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
      <span class="sh_keyword"><span class="sh_keyword">if</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>err<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
        console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'reverse for '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> a <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> <span
	class="sh_string"><span class="sh_string">' failed: '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span>
          err<span class="sh_symbol"><span class="sh_symbol">.</span></span>message<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
      <span class="sh_cbracket"><span class="sh_cbracket">}</span></span> <span
	class="sh_keyword"><span class="sh_keyword">else</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
        console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'reverse for '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> a <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> <span
	class="sh_string"><span class="sh_string">': '</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span>
          JSON<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">stringify</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>domains<span
	class="sh_symbol"><span class="sh_symbol">));</span></span>
      <span class="sh_cbracket"><span class="sh_cbracket">}</span></span>
    <span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
  <span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<h3 id="dns-lookup-271">dns.lookup(domain, family=null, callback)</h3>

<p>Resolves a domain (e.g. <code class="sh_sourceCode"><span
	class="sh_string">'google.com'</span></code>) into the first found A (IPv4) or
AAAA (IPv6) record.</p>

<p>The callback has arguments <code class="sh_sourceCode"><span
	class="sh_symbol">(</span>err<span class="sh_symbol">,</span> address<span
	class="sh_symbol">,</span> family<span class="sh_symbol">)</span></code>. The
<code class="sh_sourceCode">address</code> argument is a string
representation of a IP v4 or v6 address. The <code class="sh_sourceCode">family</code>
argument is either the integer 4 or 6 and denotes the family of <code
	class="sh_sourceCode">address</code> (not neccessarily the value
initially passed to <code class="sh_sourceCode">lookup</code>).</p>

<h3 id="dns-resolve-272">dns.resolve(domain, rrtype='A', callback)</h3>

<p>Resolves a domain (e.g. <code class="sh_sourceCode"><span
	class="sh_string">'google.com'</span></code>) into an array of the record
types specified by rrtype. Valid rrtypes are <code class="sh_sourceCode">A</code>
(IPV4 addresses), <code class="sh_sourceCode">AAAA</code> (IPV6
addresses), <code class="sh_sourceCode">MX</code> (mail exchange
records), <code class="sh_sourceCode">TXT</code> (text records), <code
	class="sh_sourceCode">SRV</code> (SRV records), and <code
	class="sh_sourceCode">PTR</code> (used for reverse IP lookups).</p>

<p>The callback has arguments <code class="sh_sourceCode"><span
	class="sh_symbol">(</span>err<span class="sh_symbol">,</span> addresses<span
	class="sh_symbol">)</span></code>. The type of each item in <code
	class="sh_sourceCode">addresses</code> is determined by the record
type, and described in the documentation for the corresponding lookup
methods below.</p>

<p>On error, <code class="sh_sourceCode">err</code> would be an
instanceof <code class="sh_sourceCode"><span
	class="sh_predef_func">Error</span></code> object, where <code
	class="sh_sourceCode">err<span class="sh_symbol">.</span>errno</code>
is one of the error codes listed below and <code class="sh_sourceCode">err<span
	class="sh_symbol">.</span>message</code> is a string describing the error in
English.</p>

<h3 id="dns-resolve4-273">dns.resolve4(domain, callback)</h3>

<p>The same as <code class="sh_sourceCode">dns<span
	class="sh_symbol">.</span><span class="sh_function">resolve</span><span
	class="sh_symbol">()</span></code>, but only for IPv4 queries (<code
	class="sh_sourceCode">A</code> records). <code class="sh_sourceCode">addresses</code>
is an array of IPv4 addresses (e.g.<br>
<code class="sh_sourceCode"><span class="sh_symbol">[</span><span
	class="sh_string">'74.125.79.104'</span><span class="sh_symbol">,</span>
<span class="sh_string">'74.125.79.105'</span><span class="sh_symbol">,</span>
<span class="sh_string">'74.125.79.106'</span><span class="sh_symbol">]</span></code>).</p>

<h3 id="dns-resolve6-274">dns.resolve6(domain, callback)</h3>

<p>The same as <code class="sh_sourceCode">dns<span
	class="sh_symbol">.</span><span class="sh_function">resolve4</span><span
	class="sh_symbol">()</span></code> except for IPv6 queries (an <code
	class="sh_sourceCode">AAAA</code> query).</p>

<h3 id="dns-resolvemx-275">dns.resolveMx(domain, callback)</h3>

<p>The same as <code class="sh_sourceCode">dns<span
	class="sh_symbol">.</span><span class="sh_function">resolve</span><span
	class="sh_symbol">()</span></code>, but only for mail exchange queries (<code
	class="sh_sourceCode">MX</code> records).</p>

<p><code class="sh_sourceCode">addresses</code> is an array of MX
records, each with a priority and an exchange attribute (e.g. <code
	class="sh_sourceCode"><span class="sh_symbol">[</span><span
	class="sh_cbracket">{</span><span class="sh_string">'priority'</span><span
	class="sh_symbol">:</span> <span class="sh_number">10</span><span
	class="sh_symbol">,</span> <span class="sh_string">'exchange'</span><span
	class="sh_symbol">:</span> <span class="sh_string">'mx.example.com'</span><span
	class="sh_cbracket">}</span><span class="sh_symbol">,...]</span></code>).</p>

<h3 id="dns-resolvetxt-276">dns.resolveTxt(domain, callback)</h3>

<p>The same as <code class="sh_sourceCode">dns<span
	class="sh_symbol">.</span><span class="sh_function">resolve</span><span
	class="sh_symbol">()</span></code>, but only for text queries (<code
	class="sh_sourceCode">TXT</code> records). <code class="sh_sourceCode">addresses</code>
is an array of the text records available for <code
	class="sh_sourceCode">domain</code> (e.g., <code class="sh_sourceCode"><span
	class="sh_symbol">[</span><span class="sh_string">'v=spf1
ip4:0.0.0.0 ~all'</span><span class="sh_symbol">]</span></code>).</p>

<h3 id="dns-resolvesrv-277">dns.resolveSrv(domain, callback)</h3>

<p>The same as <code class="sh_sourceCode">dns<span
	class="sh_symbol">.</span><span class="sh_function">resolve</span><span
	class="sh_symbol">()</span></code>, but only for service records (<code
	class="sh_sourceCode">SRV</code> records). <code class="sh_sourceCode">addresses</code>
is an array of the SRV records available for <code class="sh_sourceCode">domain</code>.
Properties of SRV records are priority, weight, port, and name (e.g., <code
	class="sh_sourceCode"><span class="sh_symbol">[</span><span
	class="sh_cbracket">{</span><span class="sh_string">'priority'</span><span
	class="sh_symbol">:</span> <span class="sh_number">10</span><span
	class="sh_symbol">,</span> <span class="sh_cbracket">{</span><span
	class="sh_string">'weight'</span><span class="sh_symbol">:</span> <span
	class="sh_number">5</span><span class="sh_symbol">,</span> <span
	class="sh_string">'port'</span><span class="sh_symbol">:</span> <span
	class="sh_number">21223</span><span class="sh_symbol">,</span> <span
	class="sh_string">'name'</span><span class="sh_symbol">:</span> <span
	class="sh_string">'service.example.com'</span><span class="sh_cbracket">}</span><span
	class="sh_symbol">,</span> <span class="sh_symbol">...]</span></code>).</p>

<h3 id="dns-reverse-278">dns.reverse(ip, callback)</h3>

<p>Reverse resolves an ip address to an array of domain names.</p>

<p>The callback has arguments <code class="sh_sourceCode"><span
	class="sh_symbol">(</span>err<span class="sh_symbol">,</span> domains<span
	class="sh_symbol">)</span></code>.</p>

<p>If there an an error, <code class="sh_sourceCode">err</code> will
be non-null and an instanceof the Error object.</p>

<p>Each DNS query can return an error code.</p>

<ul>
	<li><code class="sh_sourceCode">dns<span class="sh_symbol">.</span>TEMPFAIL</code>:
	timeout, SERVFAIL or similar.</li>
	<li><code class="sh_sourceCode">dns<span class="sh_symbol">.</span>PROTOCOL</code>:
	got garbled reply.</li>
	<li><code class="sh_sourceCode">dns<span class="sh_symbol">.</span>NXDOMAIN</code>:
	domain does not exists.</li>
	<li><code class="sh_sourceCode">dns<span class="sh_symbol">.</span>NODATA</code>:
	domain exists but no data of reqd type.</li>
	<li><code class="sh_sourceCode">dns<span class="sh_symbol">.</span>NOMEM</code>:
	out of memory while processing.</li>
	<li><code class="sh_sourceCode">dns<span class="sh_symbol">.</span>BADQUERY</code>:
	the query is malformed.</li>
</ul>

<h2 id="dgram-279">dgram</h2>

<p>Datagram sockets are available through <code
	class="sh_sourceCode"><span class="sh_function">require</span><span
	class="sh_symbol">(</span><span class="sh_string">'dgram'</span><span
	class="sh_symbol">)</span></code>. Datagrams are most commonly handled as
IP/UDP messages, but they can also be used over Unix domain sockets.</p>

<h3 id="event-message-280">Event: 'message'</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">(</span>msg<span class="sh_symbol">,</span>
rinfo<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
<span class="sh_cbracket">}</span></code></p>

<p>Emitted when a new datagram is available on a socket. <code
	class="sh_sourceCode">msg</code> is a <code class="sh_sourceCode">Buffer</code>
and <code class="sh_sourceCode">rinfo</code> is an object with the
sender's address information and the number of bytes in the datagram.</p>

<h3 id="event-listening-281">Event: 'listening'</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">()</span> <span class="sh_cbracket">{</span> <span
	class="sh_cbracket">}</span></code></p>

<p>Emitted when a socket starts listening for datagrams. This
happens as soon as UDP sockets are created. Unix domain sockets do not
start listening until calling <code class="sh_sourceCode"><span
	class="sh_function">bind</span><span class="sh_symbol">()</span></code> on
them.</p>

<h3 id="event-close-282">Event: 'close'</h3>

<p><code class="sh_sourceCode"><span class="sh_keyword">function</span>
<span class="sh_symbol">()</span> <span class="sh_cbracket">{</span> <span
	class="sh_cbracket">}</span></code></p>

<p>Emitted when a socket is closed with <code class="sh_sourceCode"><span
	class="sh_function">close</span><span class="sh_symbol">()</span></code>. No
new <code class="sh_sourceCode">message</code> events will be emitted on
this socket.</p>

<h3 id="dgram-createsocket-283">dgram.createSocket(type,
[callback])</h3>

<p>Creates a datagram socket of the specified types. Valid types
are: <code class="sh_sourceCode">udp4</code>, <code
	class="sh_sourceCode">udp6</code>, and <code class="sh_sourceCode">unix_dgram</code>.
</p>

<p>Takes an optional callback which is added as a listener for <code
	class="sh_sourceCode">message</code> events.</p>

<h3 id="dgram-send-284">dgram.send(buf, offset, length, path,
[callback])</h3>

<p>For Unix domain datagram sockets, the destination address is a
pathname in the filesystem. An optional callback may be supplied that is
invoked after the <code class="sh_sourceCode">sendto</code> call is
completed by the OS. It is not safe to re-use <code
	class="sh_sourceCode">buf</code> until the callback is invoked. Note
that unless the socket is bound to a pathname with <code
	class="sh_sourceCode"><span class="sh_function">bind</span><span
	class="sh_symbol">()</span></code> there is no way to receive messages on this
socket.</p>

<p>Example of sending a message to syslogd on OSX via Unix domain
socket <code class="sh_sourceCode"><span class="sh_regexp">/var/</span><span
	class="sh_normal">run</span><span class="sh_symbol">/</span>syslog</code>:</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_keyword"><span class="sh_keyword">var</span></span> dgram <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_function"><span class="sh_function">require</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'dgram'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_keyword"><span class="sh_keyword">var</span></span> message <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_keyword"><span class="sh_keyword">new</span></span> <span
	class="sh_function"><span class="sh_function">Buffer</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">"A message to log."</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_keyword"><span class="sh_keyword">var</span></span> client <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> dgram<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">createSocket</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">"unix_dgram"</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
client<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">send</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>message<span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_number"><span class="sh_number">0</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> message<span
	class="sh_symbol"><span class="sh_symbol">.</span></span>length<span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">"/var/run/syslog"</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span>
  <span class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>err<span
	class="sh_symbol"><span class="sh_symbol">,</span></span> bytes<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
    <span class="sh_keyword"><span class="sh_keyword">if</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>err<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
      <span class="sh_keyword"><span class="sh_keyword">throw</span></span> err<span
	class="sh_symbol"><span class="sh_symbol">;</span></span>
    <span class="sh_cbracket"><span class="sh_cbracket">}</span></span>
    console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">"Wrote "</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> bytes <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> <span
	class="sh_string"><span class="sh_string">" bytes to socket."</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<h3 id="dgram-send-285">dgram.send(buf, offset, length, port,
address, [callback])</h3>

<p>For UDP sockets, the destination port and IP address must be
specified. A string may be supplied for the <code class="sh_sourceCode">address</code>
parameter, and it will be resolved with DNS. An optional callback may be
specified to detect any DNS errors and when <code class="sh_sourceCode">buf</code>
may be re-used. Note that DNS lookups will delay the time that a send
takes place, at least until the next tick. The only way to know for sure
that a send has taken place is to use the callback.</p>

<p>Example of sending a UDP packet to a random port on <code
	class="sh_sourceCode">localhost</code>;</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_keyword"><span class="sh_keyword">var</span></span> dgram <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_function"><span class="sh_function">require</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'dgram'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_keyword"><span class="sh_keyword">var</span></span> message <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_keyword"><span class="sh_keyword">new</span></span> <span
	class="sh_function"><span class="sh_function">Buffer</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">"Some bytes"</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_keyword"><span class="sh_keyword">var</span></span> client <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> dgram<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">createSocket</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">"udp4"</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
client<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">send</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>message<span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_number"><span class="sh_number">0</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> message<span
	class="sh_symbol"><span class="sh_symbol">.</span></span>length<span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_number"><span class="sh_number">41234</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">"localhost"</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
client<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">close</span></span><span
	class="sh_symbol"><span class="sh_symbol">();</span></span></code></pre>

<h3 id="dgram-bind-286">dgram.bind(path)</h3>

<p>For Unix domain datagram sockets, start listening for incoming
datagrams on a socket specified by <code class="sh_sourceCode">path</code>.
Note that clients may <code class="sh_sourceCode"><span
	class="sh_function">send</span><span class="sh_symbol">()</span></code>
without <code class="sh_sourceCode"><span class="sh_function">bind</span><span
	class="sh_symbol">()</span></code>, but no datagrams will be received without
a <code class="sh_sourceCode"><span class="sh_function">bind</span><span
	class="sh_symbol">()</span></code>.</p>

<p>Example of a Unix domain datagram server that echoes back all
messages it receives:</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_keyword"><span class="sh_keyword">var</span></span> dgram <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_function"><span class="sh_function">require</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">"dgram"</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_keyword"><span class="sh_keyword">var</span></span> serverPath <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_string"><span class="sh_string">"/tmp/dgram_server_sock"</span></span><span
	class="sh_symbol"><span class="sh_symbol">;</span></span>
<span class="sh_keyword"><span class="sh_keyword">var</span></span> server <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> dgram<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">createSocket</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">"unix_dgram"</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

server<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">on</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">"message"</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>msg<span
	class="sh_symbol"><span class="sh_symbol">,</span></span> rinfo<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">"got: "</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> msg <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> <span
	class="sh_string"><span class="sh_string">" from "</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> rinfo<span
	class="sh_symbol"><span class="sh_symbol">.</span></span>address<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
  server<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">send</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>msg<span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_number"><span class="sh_number">0</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> msg<span
	class="sh_symbol"><span class="sh_symbol">.</span></span>length<span
	class="sh_symbol"><span class="sh_symbol">,</span></span> rinfo<span
	class="sh_symbol"><span class="sh_symbol">.</span></span>address<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

server<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">on</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">"listening"</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">()</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">"server listening "</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> server<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">address</span></span><span
	class="sh_symbol"><span class="sh_symbol">().</span></span>address<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">)</span></span>

server<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">bind</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>serverPath<span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<p>Example of a Unix domain datagram client that talks to this
server:</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_keyword"><span class="sh_keyword">var</span></span> dgram <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_function"><span class="sh_function">require</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">"dgram"</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_keyword"><span class="sh_keyword">var</span></span> serverPath <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_string"><span class="sh_string">"/tmp/dgram_server_sock"</span></span><span
	class="sh_symbol"><span class="sh_symbol">;</span></span>
<span class="sh_keyword"><span class="sh_keyword">var</span></span> clientPath <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_string"><span class="sh_string">"/tmp/dgram_client_sock"</span></span><span
	class="sh_symbol"><span class="sh_symbol">;</span></span>

<span class="sh_keyword"><span class="sh_keyword">var</span></span> message <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_keyword"><span class="sh_keyword">new</span></span> <span
	class="sh_function"><span class="sh_function">Buffer</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">"A message at "</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_keyword"><span class="sh_keyword">new</span></span> <span
	class="sh_predef_func"><span class="sh_predef_func">Date</span></span><span
	class="sh_symbol"><span class="sh_symbol">()));</span></span>

<span class="sh_keyword"><span class="sh_keyword">var</span></span> client <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> dgram<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">createSocket</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">"unix_dgram"</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

client<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">on</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">"message"</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>msg<span
	class="sh_symbol"><span class="sh_symbol">,</span></span> rinfo<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">"got: "</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> msg <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> <span
	class="sh_string"><span class="sh_string">" from "</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> rinfo<span
	class="sh_symbol"><span class="sh_symbol">.</span></span>address<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

client<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">on</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">"listening"</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">()</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">"client listening "</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> client<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">address</span></span><span
	class="sh_symbol"><span class="sh_symbol">().</span></span>address<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
  client<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">send</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>message<span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_number"><span class="sh_number">0</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> message<span
	class="sh_symbol"><span class="sh_symbol">.</span></span>length<span
	class="sh_symbol"><span class="sh_symbol">,</span></span> serverPath<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

client<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">bind</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>clientPath<span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<h3 id="dgram-bind-287">dgram.bind(port, [address])</h3>

<p>For UDP sockets, listen for datagrams on a named <code
	class="sh_sourceCode">port</code> and optional <code
	class="sh_sourceCode">address</code>. If <code class="sh_sourceCode">address</code>
is not specified, the OS will try to listen on all addresses.</p>

<p>Example of a UDP server listening on port 41234:</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_keyword"><span class="sh_keyword">var</span></span> dgram <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_function"><span class="sh_function">require</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">"dgram"</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

<span class="sh_keyword"><span class="sh_keyword">var</span></span> server <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> dgram<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">createSocket</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">"udp4"</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_keyword"><span class="sh_keyword">var</span></span> messageToSend <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_keyword"><span class="sh_keyword">new</span></span> <span
	class="sh_function"><span class="sh_function">Buffer</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">"A message to send"</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

server<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">on</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">"message"</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>msg<span
	class="sh_symbol"><span class="sh_symbol">,</span></span> rinfo<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">"server got: "</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> msg <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> <span
	class="sh_string"><span class="sh_string">" from "</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span>
    rinfo<span class="sh_symbol"><span class="sh_symbol">.</span></span>address <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> <span
	class="sh_string"><span class="sh_string">":"</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> rinfo<span
	class="sh_symbol"><span class="sh_symbol">.</span></span>port<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

server<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">on</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">"listening"</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">()</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  <span class="sh_keyword"><span class="sh_keyword">var</span></span> address <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> server<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">address</span></span><span
	class="sh_symbol"><span class="sh_symbol">();</span></span>
  console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">"server listening "</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span>
      address<span class="sh_symbol"><span class="sh_symbol">.</span></span>address <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> <span
	class="sh_string"><span class="sh_string">":"</span></span> <span
	class="sh_symbol"><span class="sh_symbol">+</span></span> address<span
	class="sh_symbol"><span class="sh_symbol">.</span></span>port<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

server<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">bind</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_number"><span class="sh_number">41234</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_comment"><span class="sh_comment">// server listening 0.0.0.0:41234</span></span></code></pre>

<h3 id="dgram-close-288">dgram.close()</h3>

<p>Close the underlying socket and stop listening for data on it.
UDP sockets automatically listen for messages, even if they did not call
<code class="sh_sourceCode"><span class="sh_function">bind</span><span
	class="sh_symbol">()</span></code>.</p>

<h3 id="dgram-address-289">dgram.address()</h3>

<p>Returns an object containing the address information for a
socket. For UDP sockets, this object will contain <code
	class="sh_sourceCode">address</code> and <code class="sh_sourceCode">port</code>.
For Unix domain sockets, it will contain only <code
	class="sh_sourceCode">address</code>.</p>

<h3 id="dgram-setbroadcast-290">dgram.setBroadcast(flag)</h3>

<p>Sets or clears the <code class="sh_sourceCode">SO_BROADCAST</code>
socket option. When this option is set, UDP packets may be sent to a
local interface's broadcast address.</p>

<h3 id="dgram-setttl-291">dgram.setTTL(ttl)</h3>

<p>Sets the <code class="sh_sourceCode">IP_TTL</code> socket option.
TTL stands for "Time to Live," but in this context it specifies the
number of IP hops that a packet is allowed to go through. Each router or
gateway that forwards a packet decrements the TTL. If the TTL is
decremented to 0 by a router, it will not be forwarded. Changing TTL
values is typically done for network probes or when multicasting.</p>

<p>The argument to <code class="sh_sourceCode"><span
	class="sh_function">setTTL</span><span class="sh_symbol">()</span></code> is a
number of hops between 1 and 255. The default on most systems is 64.</p>

<h2 id="assert-292">Assert</h2>

<p>This module is used for writing unit tests for your applications,
you can access it with <code class="sh_sourceCode"><span
	class="sh_function">require</span><span class="sh_symbol">(</span><span
	class="sh_string">'assert'</span><span class="sh_symbol">)</span></code>.</p>

<p class="goingmerry">此模块用于编写单元测试, 通过 <code class="sh_sourceCode"><span
	class="sh_function">require</span><span class="sh_symbol">(</span><span
	class="sh_string">'assert'</span><span class="sh_symbol">)</span></code> 来使用.</p>

<h3 id="assert-fail-293">assert.fail(actual, expected, message,
operator)</h3>

<p>Tests if <code class="sh_sourceCode">actual</code> is equal to <code
	class="sh_sourceCode">expected</code> using the operator provided.</p>

<p class="goingmerry">抛出一个 <code class="sh_sourceCode">actual</code> 与 <code
	class="sh_sourceCode">expected</code> 不匹配的断言错误(AssertionError), 
	其中匹配运算符由 <code class="sh_sourceCode">operator</code> 指定.
	<em class="annotation">* 喵的, 这里英文说明有问题, 见v0.2.4版源码lib/assert.js第79行fail函数 --译者注</em>
	</p>

<h3 id="assert-ok-294">assert.ok(value, [message])</h3>

<p>Tests if value is a <code class="sh_sourceCode"><span
	class="sh_keyword">true</span></code> value, it is equivalent to <code
	class="sh_sourceCode">assert<span class="sh_symbol">.</span><span
	class="sh_function">equal</span><span class="sh_symbol">(</span><span
	class="sh_keyword">true</span><span class="sh_symbol">,</span> value<span
	class="sh_symbol">,</span> message<span class="sh_symbol">);</span></code></p>

<p class="goingmerry">测试 <code class="sh_sourceCode"><span
	class="sh_keyword">value</span></code> 是否为 <code class="sh_sourceCode"><span
	class="sh_keyword">true</span></code> , 它与调用 <code
	class="sh_sourceCode">assert<span class="sh_symbol">.</span><span
	class="sh_function">equal</span><span class="sh_symbol">(</span><span
	class="sh_keyword">true</span><span class="sh_symbol">,</span> value<span
	class="sh_symbol">,</span> message<span class="sh_symbol">);</span></code> 效果相同.</p>

<h3 id="assert-equal-295">assert.equal(actual, expected, [message])</h3>

<p>Tests shallow, coercive equality with the equal comparison
operator ( <code class="sh_sourceCode"><span class="sh_symbol">==</span></code>
).</p>

<p class="goingmerry">浅度相等测试, 直接使用等于运算符进行比较
 ( <code class="sh_sourceCode"><span class="sh_symbol">==</span></code>
).</p>

<h3 id="assert-notequal-296">assert.notEqual(actual, expected,
[message])</h3>

<p>Tests shallow, coercive non-equality with the not equal
comparison operator ( <code class="sh_sourceCode"><span
	class="sh_symbol">!=</span></code> ).</p>

<p class="goingmerry">浅度不相等测试, 直接使用不等于运算符进行比较
 ( <code class="sh_sourceCode"><span
	class="sh_symbol">!=</span></code> ).</p>

<h3 id="assert-deepequal-297">assert.deepEqual(actual, expected,
[message])</h3>

<p>Tests for deep equality.</p>

<p class="goingmerry">深度相等测试.</p>

<h3 id="assert-notdeepequal-298">assert.notDeepEqual(actual,
expected, [message])</h3>

<p>Tests for any deep inequality.</p>

<p class="goingmerry">深度不相等测试.</p>

<h3 id="assert-strictequal-299">assert.strictEqual(actual,
expected, [message])</h3>

<p>Tests strict equality, as determined by the strict equality
operator ( <code class="sh_sourceCode"><span class="sh_symbol">===</span></code>
)</p>

<p class="goingmerry">严格相等测试, 使用严格等于运算符进行比较
 ( <code class="sh_sourceCode"><span class="sh_symbol">===</span></code>
)</p>

<h3 id="assert-notstrictequal-300">assert.notStrictEqual(actual,
expected, [message])</h3>

<p>Tests strict non-equality, as determined by the strict not equal
operator ( <code class="sh_sourceCode"><span class="sh_symbol">!==</span></code>
)</p>

<p class="goingmerry">严格不相等测试, 使用严格不等于运算符进行比较
 ( <code class="sh_sourceCode"><span class="sh_symbol">!==</span></code>
)</p>

<h3 id="assert-throws-301">assert.throws(block, [error], [message])</h3>

<p>Expects <code class="sh_sourceCode">block</code> to throw an
error.</p>

<p class="goingmerry">期望 <code class="sh_sourceCode">block</code> 函数被执行时将抛出指定(或任意)异常.</p>

<h3 id="assert-doesnotthrow-302">assert.doesNotThrow(block,
[error], [message])</h3>

<p>Expects <code class="sh_sourceCode">block</code> not to throw an
error.</p>

<p class="goingmerry">期望 <code class="sh_sourceCode">block</code> 函数被执行时将不会抛出指定(或任意)异常.</p>

<h3 id="assert-iferror-303">assert.ifError(value)</h3>

<p>Tests if value is not a false value, throws if it is a true
value. Useful when testing the first argument, <code
	class="sh_sourceCode">error</code> in callbacks.</p>

<p class="goingmerry">测试value是否为真, 如果value为真值则将value作为异常抛出. 
常用于测试第一个参数, 回调函数中的 <code
	class="sh_sourceCode">error</code>.
	<em class="annotation">* 喵的, 这段说明英文太龌龊了, 没看懂得童鞋请阅读以下代码
	assert.ifError = function (err) { if (err) {throw err;}};
	 --译者注</em>
	</p>

<h2 id="path-304">Path</h2>

<p>This module contains utilities for dealing with file paths. Use <code
	class="sh_sourceCode"><span class="sh_function">require</span><span
	class="sh_symbol">(</span><span class="sh_string">'path'</span><span
	class="sh_symbol">)</span></code> to use it. It provides the following
methods:</p>

<p class="goingmerry">此模块提供文件路径处理相关的工具方法. 通过 <code
	class="sh_sourceCode"><span class="sh_function">require</span><span
	class="sh_symbol">(</span><span class="sh_string">'path'</span><span
	class="sh_symbol">)</span></code> 来使用. 此模块提供以下方法:</p>

<h3 id="path-join-305">path.join([path1], [path2], [...])</h3>

<p>Join all arguments together and resolve the resulting path.</p>

<p class="goingmerry">将所有参数拼接并返回融合完成后的路径.</p>

<p>Example:</p>

<p class="goingmerry">例如:</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">node<span
	class="sh_symbol"><span class="sh_symbol">&gt;</span></span> <span
	class="sh_function"><span class="sh_function">require</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'path'</span></span><span
	class="sh_symbol"><span class="sh_symbol">).</span></span><span
	class="sh_function"><span class="sh_function">join</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>
<span class="sh_symbol"><span class="sh_symbol">...</span></span>   <span
	class="sh_string"><span class="sh_string">'/foo'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">'bar'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">'baz/asdf'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">'quux'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">'..'</span></span><span
	class="sh_symbol"><span class="sh_symbol">)</span></span>
<span class="sh_string"><span class="sh_string">'/foo/bar/baz/asdf'</span></span></code></pre>

<h3 id="path-normalizearray-306">path.normalizeArray(arr)</h3>

<p>Normalize an array of path parts, taking care of <code
	class="sh_sourceCode"><span class="sh_string">'..'</span></code> and <code
	class="sh_sourceCode"><span class="sh_string">'.'</span></code> parts.</p>

<p class="goingmerry">标准化(Normalize)一个路径数组, 处理掉其中包含的 <code
	class="sh_sourceCode"><span class="sh_string">'..'</span></code> 和 <code
	class="sh_sourceCode"><span class="sh_string">'.'</span></code> 部分.</p>

<p>Example:</p>

<p class="goingmerry">例如:</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">path<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">normalizeArray</span></span><span
	class="sh_symbol"><span class="sh_symbol">([</span></span><span
	class="sh_string"><span class="sh_string">''</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> 
  <span class="sh_string"><span class="sh_string">'foo'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">'bar'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">'baz'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">'asdf'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">'quux'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">'..'</span></span><span
	class="sh_symbol"><span class="sh_symbol">])</span></span>
<span class="sh_comment"><span class="sh_comment">// returns</span></span>
<span class="sh_symbol"><span class="sh_symbol">[</span></span> <span
	class="sh_string"><span class="sh_string">''</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">'foo'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">'bar'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">'baz'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">'asdf'</span></span> <span
	class="sh_symbol"><span class="sh_symbol">]</span></span></code></pre>

<h3 id="path-normalize-307">path.normalize(p)</h3>

<p>Normalize a string path, taking care of <code
	class="sh_sourceCode"><span class="sh_string">'..'</span></code> and <code
	class="sh_sourceCode"><span class="sh_string">'.'</span></code> parts.</p>

<p class="goingmerry">标准化(Normalize)一个路径字符串, 处理掉其中包含的 <code
	class="sh_sourceCode"><span class="sh_string">'..'</span></code> 和 <code
	class="sh_sourceCode"><span class="sh_string">'.'</span></code> 部分.</p>

<p>Example:</p>

<p class="goingmerry">例如:</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">path<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">normalize</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'/foo/bar/baz/asdf/quux/..'</span></span><span
	class="sh_symbol"><span class="sh_symbol">)</span></span>
<span class="sh_comment"><span class="sh_comment">// returns</span></span>
<span class="sh_string"><span class="sh_string">'/foo/bar/baz/asdf'</span></span></code></pre>

<h3 id="path-dirname-308">path.dirname(p)</h3>

<p>Return the directory name of a path. Similar to the Unix <code
	class="sh_sourceCode">dirname</code> command.</p>

<p class="goingmerry">返回指定路径的目录名称. 功能与Unix系统中的 <code
	class="sh_sourceCode">dirname</code> 命令类似.</p>

<p>Example:</p>

<p class="goingmerry">例如:</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">path<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">dirname</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'/foo/bar/baz/asdf/quux'</span></span><span
	class="sh_symbol"><span class="sh_symbol">)</span></span>
<span class="sh_comment"><span class="sh_comment">// returns</span></span>
<span class="sh_string"><span class="sh_string">'/foo/bar/baz/asdf'</span></span></code></pre>

<h3 id="path-basename-309">path.basename(p, [ext])</h3>

<p>Return the last portion of a path. Similar to the Unix <code
	class="sh_sourceCode">basename</code> command.</p>

<p class="goingmerry">返回指定路径的最后部分. 与Unix系统中的 <code
	class="sh_sourceCode">basename</code> 命令类似.</p>

<p>Example:</p>

<p class="goingmerry">例如:</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">path<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">basename</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'/foo/bar/baz/asdf/quux.html'</span></span><span
	class="sh_symbol"><span class="sh_symbol">)</span></span>
<span class="sh_comment"><span class="sh_comment">// returns</span></span>
<span class="sh_string"><span class="sh_string">'quux.html'</span></span>

path<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">basename</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'/foo/bar/baz/asdf/quux.html'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">'.html'</span></span><span
	class="sh_symbol"><span class="sh_symbol">)</span></span>
<span class="sh_comment"><span class="sh_comment">// returns</span></span>
<span class="sh_string"><span class="sh_string">'quux'</span></span></code></pre>

<h3 id="path-extname-310">path.extname(p)</h3>

<p>Return the extension of the path. Everything after the last '.'
in the last portion of the path. If there is no '.' in the last portion
of the path or the only '.' is the first character, then it returns an
empty string. Examples:</p>

<p class="goingmerry">返回指定路径的扩展名. 在路径的最后部分中, 最后一个 '.'
之后的所有字符将被返回. 如果在路径的最后部分中不存在 '.' 或 '.' 
是最后部分的第一个字符, 则返回一个空字符串. 例如:</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">path<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">extname</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'index.html'</span></span><span
	class="sh_symbol"><span class="sh_symbol">)</span></span>
<span class="sh_comment"><span class="sh_comment">// returns </span></span>
<span class="sh_string"><span class="sh_string">'.html'</span></span>

path<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">extname</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'index'</span></span><span
	class="sh_symbol"><span class="sh_symbol">)</span></span>
<span class="sh_comment"><span class="sh_comment">// returns</span></span>
<span class="sh_string"><span class="sh_string">''</span></span></code></pre>

<h3 id="path-exists-311">path.exists(p, [callback])</h3>

<p>Test whether or not the given path exists. Then, call the <code
	class="sh_sourceCode">callback</code> argument with either true or
false. Example:</p>

<p class="goingmerry">测试指定路径是否存在. 不论成功与否都将调用给出的 <code
	class="sh_sourceCode">callback</code> 函数(如果有的话), 
	callback函数接收一个参数标识是否成功. 例如:</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">path<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">exists</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'/etc/passwd'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>exists<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  util<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">debug</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>exists <span
	class="sh_symbol"><span class="sh_symbol">?</span></span> <span
	class="sh_string"><span class="sh_string">"it's there"</span></span> <span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_string"><span class="sh_string">"no passwd!"</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<h2 id="url-312">URL</h2>

<p>This module has utilities for URL resolution and parsing. Call <code
	class="sh_sourceCode"><span class="sh_function">require</span><span
	class="sh_symbol">(</span><span class="sh_string">'url'</span><span
	class="sh_symbol">)</span></code> to use it.</p>

<p class="goingmerry">
此模块提供URL操作和解析的工具方法. 调用<code>require('url')</code>进行引入.
</p>

<p>Parsed URL objects have some or all of the following fields,
depending on whether or not they exist in the URL string. Any parts that
are not in the URL string will not be in the parsed object. Examples are
shown for the URL</p>

<p class="goingmerry">
被解析的URL对象包含部分或全部以下字段, 这取决于URL字符串的组成. 
URL字符串中不存在的部分将不会出现在被解析的对象中, 以下是一个例子:
</p>

<p><code class="sh_sourceCode"><span class="sh_string">'http://user:pass@host.com:8080/p/a/t/h?query=string#hash'</span></code></p>

<ul>
	<li>
	<p><code class="sh_sourceCode">href</code></p>
	<p>The full URL that was originally parsed. Example: <code
		class="sh_sourceCode"><span class="sh_string">'http://user:pass@host.com:8080/p/a/t/h?query=string#hash'</span></code></p>

	<p class="goingmerry">完整的原始URL. 例如: <code
		class="sh_sourceCode"><span class="sh_string">'http://user:pass@host.com:8080/p/a/t/h?query=string#hash'</span></code></p>

	</li>
	<li>
	<p><code class="sh_sourceCode">protocol</code></p>
	<p>The request protocol. Example: <code class="sh_sourceCode"><span
		class="sh_string">'http:'</span></code></p>

	<p class="goingmerry">请求协议. 例如: <code class="sh_sourceCode"><span
		class="sh_string">'http:'</span></code></p>

	</li>
	<li>
	<p><code class="sh_sourceCode">host</code></p>
	<p>The full host portion of the URL, including port and
	authentication information. Example: <code class="sh_sourceCode"><span
		class="sh_string">'user:pass@host.com:8080'</span></code></p>
		
	<p class="goingmerry">URL中的完整主机信息, 包括端口和认证信息. 例如: <code class="sh_sourceCode"><span
		class="sh_string">'user:pass@host.com:8080'</span></code></p>
	
	</li>
	<li>
	<p><code class="sh_sourceCode">auth</code></p>
	<p>The authentication information portion of a URL. Example: <code
		class="sh_sourceCode"><span class="sh_string">'user:pass'</span></code></p>

	<p class="goingmerry">URL中的认证信息部分. 例如: <code
		class="sh_sourceCode"><span class="sh_string">'user:pass'</span></code></p>
		
	</li>
	<li>
	<p><code class="sh_sourceCode">hostname</code></p>
	<p>Just the hostname portion of the host. Example: <code
		class="sh_sourceCode"><span class="sh_string">'host.com'</span></code></p>
	<p class="goingmerry">主机名称. 例如: <code
		class="sh_sourceCode"><span class="sh_string">'host.com'</span></code></p>
	</li>
	<li>
	<p><code class="sh_sourceCode">port</code></p>
	<p>The port number portion of the host. Example: <code
		class="sh_sourceCode"><span class="sh_string">'8080'</span></code></p>
	<p class="goingmerry">主机端口号. 例如: <code
		class="sh_sourceCode"><span class="sh_string">'8080'</span></code></p>
	</li>
	<li>
	<p><code class="sh_sourceCode">pathname</code></p>
	<p>The path section of the URL, that comes after the host and
	before the query, including the initial slash if present. Example: <code
		class="sh_sourceCode"><span class="sh_string">'/p/a/t/h'</span></code></p>
	<p class="goingmerry">URL中的路径信息, 即在主机信息之后, 查询字串之前, 如果路径不为空则第一个字母总是斜杠(/). 例如: <code
		class="sh_sourceCode"><span class="sh_string">'/p/a/t/h'</span></code></p>
	</li>
	<li>
	<p><code class="sh_sourceCode">search</code></p>
	<p>The 'query string' portion of the URL, including the leading
	question mark. Example: <code class="sh_sourceCode"><span
		class="sh_string">'?query=string'</span></code></p>
	<p class="goingmerry">URL中的查询字串信息, 包括问号. 例如: <code class="sh_sourceCode"><span
		class="sh_string">'?query=string'</span></code></p>
	</li>
	<li>
	<p><code class="sh_sourceCode">query</code></p>
	<p>Either the 'params' portion of the query string, or a
	querystring-parsed object. Example: <code class="sh_sourceCode"><span
		class="sh_string">'query=string'</span></code> or <code class="sh_sourceCode"><span
		class="sh_cbracket">{</span><span class="sh_string">'query'</span><span
		class="sh_symbol">:</span><span class="sh_string">'string'</span><span
		class="sh_cbracket">}</span></code></p>
	<p class="goingmerry">查询字串中的'params'字符串或是解析后的对象. 例如: <code class="sh_sourceCode"><span
		class="sh_string">'query=string'</span></code> 或 <code class="sh_sourceCode"><span
		class="sh_cbracket">{</span><span class="sh_string">'query'</span><span
		class="sh_symbol">:</span><span class="sh_string">'string'</span><span
		class="sh_cbracket">}</span></code></p>
	</li>
	<li>
	<p><code class="sh_sourceCode">hash</code></p>
	<p>The 'fragment' portion of the URL including the pound-sign.
	Example: <code class="sh_sourceCode"><span class="sh_string">'#hash'</span></code></p>
	<p class="goingmerry">URL中的'fragment'(也称hash或是bookmark)部分, 包含井号(#).
	例如: <code class="sh_sourceCode"><span class="sh_string">'#hash'</span></code></p>
	</li>
</ul>

<p>The following methods are provided by the URL module:</p>

<p class="goingmerry">URL模块中提供了下列方法:</p>

<h3 id="url-parse-313">url.parse(urlStr, parseQueryString=false)</h3>

<p>Take a URL string, and return an object. Pass <code
	class="sh_sourceCode"><span class="sh_keyword">true</span></code> as
the second argument to also parse the query string using the <code
	class="sh_sourceCode">querystring</code> module.</p>

<p class="goingmerry">给出一个URL字符串，返回一个URL对象. 如果第二个参数传入 <code
	class="sh_sourceCode"><span class="sh_keyword">true</span></code> 则将同时使用 <code
	class="sh_sourceCode">querystring</code> 模块对查询字串进行解析.</p>

<h3 id="url-format-314">url.format(urlObj)</h3>

<p>Take a parsed URL object, and return a formatted URL string.</p>

<p class="goingmerry">传入一个URL对象, 返回格式化后的URL字符串.</p>

<h3 id="url-resolve-315">url.resolve(from, to)</h3>

<p>Take a base URL, and a href URL, and resolve them as a browser
would for an anchor tag.</p>

<p class="goingmerry">传入一个基础URL和一个目标URL, 将基础URL融合到目标URL, 返回新的URL使之可以用于页面A标签.</p>

<h2 id="query-string-316">Query String</h2>

<p>This module provides utilities for dealing with query strings. It
provides the following methods:</p>

<p class="goingmerry">此模块提供查询字串处理相关的工具, 其包含以下方法:</p>

<h3 id="querystring-stringify-317">querystring.stringify(obj,
sep='&amp;', eq='=')</h3>

<p>Serialize an object to a query string. Optionally override the
default separator and assignment characters.</p>

<p class="goingmerry">序列化一个对象到一个查询字串. 可选的, 允许指定分隔符号和赋值符号.</p>

<p>Example:</p>

<p class="goingmerry">例如:</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">querystring<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">stringify</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>foo<span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_string"><span class="sh_string">'bar'</span></span><span
	class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">)</span></span>
<span class="sh_comment"><span class="sh_comment">// returns</span></span>
<span class="sh_string"><span class="sh_string">'foo=bar'</span></span>

querystring<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">stringify</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>foo<span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_string"><span class="sh_string">'bar'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> baz<span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_string"><span class="sh_string">'bob'</span></span><span
	class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">';'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">':'</span></span><span
	class="sh_symbol"><span class="sh_symbol">)</span></span>
<span class="sh_comment"><span class="sh_comment">// returns</span></span>
<span class="sh_string"><span class="sh_string">'foo:bar;baz:bob'</span></span></code></pre>

<h3 id="querystring-parse-318">querystring.parse(str, sep='&amp;',
eq='=')</h3>

<p>Deserialize a query string to an object. Optionally override the
default separator and assignment characters.</p>

<p class="goingmerry">反序列化一个查询字串变成一个对象. 可选的, 允许指定分隔符号和赋值符号.</p>

<p>Example:</p>

<p class="goingmerry">例如:</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">querystring<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">parse</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'a=b&amp;b=c'</span></span><span
	class="sh_symbol"><span class="sh_symbol">)</span></span>
<span class="sh_comment"><span class="sh_comment">// returns</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">{</span></span> <span
	class="sh_string"><span class="sh_string">'a'</span></span><span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_string"><span class="sh_string">'b'</span></span>
<span class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">'b'</span></span><span
	class="sh_symbol"><span class="sh_symbol">:</span></span> <span
	class="sh_string"><span class="sh_string">'c'</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span></code></pre>

<h3 id="querystring-escape-319">querystring.escape</h3>

<p>The escape function used by <code class="sh_sourceCode">querystring<span
	class="sh_symbol">.</span>stringify</code>, provided so that it could be
overridden if necessary.</p>

<p class="goingmerry">escape函数被 <code class="sh_sourceCode">querystring<span
	class="sh_symbol">.</span>stringify</code> 函数所使用, 在必要时可以复写它.</p>

<h3 id="querystring-unescape-320">querystring.unescape</h3>

<p>The unescape function used by <code class="sh_sourceCode">querystring<span
	class="sh_symbol">.</span>parse</code>, provided so that it could be
overridden if necessary.</p>

<p class="goingmerry">unescape函数被 <code class="sh_sourceCode">querystring<span
	class="sh_symbol">.</span>parse</code> 函数所使用, 在必要时可以复写它.</p>

<h2 id="repl-321">REPL</h2>

<p>A Read-Eval-Print-Loop (REPL) is available both as a standalone
program and easily includable in other programs. REPL provides a way to
interactively run JavaScript and see the results. It can be used for
debugging, testing, or just trying things out.</p>

<p>By executing <code class="sh_sourceCode">node</code> without any
arguments from the command-line you will be dropped into the REPL. It
has simplistic emacs line-editing.</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">mjr<span
	class="sh_symbol"><span class="sh_symbol">:~</span></span>$ node
Type <span class="sh_string"><span class="sh_string">'.help'</span></span> <span
	class="sh_keyword"><span class="sh_keyword">for</span></span> options<span
	class="sh_symbol"><span class="sh_symbol">.</span></span>
node<span class="sh_symbol"><span class="sh_symbol">&gt;</span></span> a <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_symbol"><span class="sh_symbol">[</span></span> <span
	class="sh_number"><span class="sh_number">1</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_number"><span class="sh_number">2</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_number"><span class="sh_number">3</span></span><span
	class="sh_symbol"><span class="sh_symbol">];</span></span>
<span class="sh_symbol"><span class="sh_symbol">[</span></span> <span
	class="sh_number"><span class="sh_number">1</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_number"><span class="sh_number">2</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_number"><span class="sh_number">3</span></span> <span
	class="sh_symbol"><span class="sh_symbol">]</span></span>
node<span class="sh_symbol"><span class="sh_symbol">&gt;</span></span> a<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">forEach</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>v<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
<span class="sh_symbol"><span class="sh_symbol">...</span></span>   console<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>v<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_symbol"><span class="sh_symbol">...</span></span>   <span
	class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_number"><span class="sh_number">1</span></span>
<span class="sh_number"><span class="sh_number">2</span></span>
<span class="sh_number"><span class="sh_number">3</span></span></code></pre>

<p>For advanced line-editors, start node with the environmental
variable <code class="sh_sourceCode">NODE_NO_READLINE<span
	class="sh_symbol">=</span><span class="sh_number">1</span></code>. This will
start the REPL in canonical terminal settings which will allow you to
use with <code class="sh_sourceCode">rlwrap</code>.</p>

<p>For example, you could add this to your bashrc file:</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">alias node<span
	class="sh_symbol"><span class="sh_symbol">=</span></span><span
	class="sh_string"><span class="sh_string">"env NODE_NO_READLINE=1 rlwrap node"</span></span></code></pre>

<h3 id="repl-start-322">repl.start(prompt='node&gt; ',
stream=process.openStdin())</h3>

<p>Starts a REPL with <code class="sh_sourceCode">prompt</code> as
the prompt and <code class="sh_sourceCode">stream</code> for all I/O. <code
	class="sh_sourceCode">prompt</code> is optional and defaults to <code
	class="sh_sourceCode">node<span class="sh_symbol">&gt;</span> </code>.
<code class="sh_sourceCode">stream</code> is optional and defaults to <code
	class="sh_sourceCode">process<span class="sh_symbol">.</span><span
	class="sh_function">openStdin</span><span class="sh_symbol">()</span></code>.</p>

<p>Multiple REPLs may be started against the same running instance
of node. Each will share the same global object but will have unique
I/O.</p>

<p>Here is an example that starts a REPL on stdin, a Unix socket,
and a TCP socket:</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_keyword"><span class="sh_keyword">var</span></span> net <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_function"><span class="sh_function">require</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">"net"</span></span><span
	class="sh_symbol"><span class="sh_symbol">),</span></span>
    repl <span class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_function"><span class="sh_function">require</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">"repl"</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

connections <span class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_number"><span class="sh_number">0</span></span><span
	class="sh_symbol"><span class="sh_symbol">;</span></span>

repl<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">start</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">"node via stdin&gt; "</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

net<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">createServer</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>socket<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  connections <span class="sh_symbol"><span class="sh_symbol">+=</span></span> <span
	class="sh_number"><span class="sh_number">1</span></span><span
	class="sh_symbol"><span class="sh_symbol">;</span></span>
  repl<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">start</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">"node via Unix socket&gt; "</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> socket<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">).</span></span><span
	class="sh_function"><span class="sh_function">listen</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">"/tmp/node-repl-sock"</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>

net<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">createServer</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>socket<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  connections <span class="sh_symbol"><span class="sh_symbol">+=</span></span> <span
	class="sh_number"><span class="sh_number">1</span></span><span
	class="sh_symbol"><span class="sh_symbol">;</span></span>
  repl<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">start</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">"node via TCP socket&gt; "</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> socket<span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">).</span></span><span
	class="sh_function"><span class="sh_function">listen</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_number"><span class="sh_number">5001</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span></code></pre>

<p>Running this program from the command line will start a REPL on
stdin. Other REPL clients may connect through the Unix socket or TCP
socket. <code class="sh_sourceCode">telnet</code> is useful for
connecting to TCP sockets, and <code class="sh_sourceCode">socat</code>
can be used to connect to both Unix and TCP sockets.</p>

<p>By starting a REPL from a Unix socket-based server instead of
stdin, you can connect to a long-running node process without restarting
it.</p>

<h3 id="repl-features-323">REPL Features</h3>

<p>Inside the REPL, Control+D will exit. Multi-line expressions can
be input.</p>

<p>The special variable <code class="sh_sourceCode">_</code>
(underscore) contains the result of the last expression.</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">node<span
	class="sh_symbol"><span class="sh_symbol">&gt;</span></span> <span
	class="sh_symbol"><span class="sh_symbol">[</span></span> <span
	class="sh_string"><span class="sh_string">"a"</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">"b"</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">"c"</span></span> <span
	class="sh_symbol"><span class="sh_symbol">]</span></span>
<span class="sh_symbol"><span class="sh_symbol">[</span></span> <span
	class="sh_string"><span class="sh_string">'a'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">'b'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">'c'</span></span> <span
	class="sh_symbol"><span class="sh_symbol">]</span></span>
node<span class="sh_symbol"><span class="sh_symbol">&gt;</span></span> _<span
	class="sh_symbol"><span class="sh_symbol">.</span></span>length 
<span class="sh_number"><span class="sh_number">3</span></span>
node<span class="sh_symbol"><span class="sh_symbol">&gt;</span></span> _ <span
	class="sh_symbol"><span class="sh_symbol">+=</span></span> <span
	class="sh_number"><span class="sh_number">1</span></span>
<span class="sh_number"><span class="sh_number">4</span></span></code></pre>

<p>The REPL provides access to any variables in the global scope.
You can expose a variable to the REPL explicitly by assigning it to the
<code class="sh_sourceCode">context</code> object associated with each <code
	class="sh_sourceCode">REPLServer</code>. For example:</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_comment"><span class="sh_comment">// repl_test.js</span></span>
<span class="sh_keyword"><span class="sh_keyword">var</span></span> repl <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_function"><span class="sh_function">require</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">"repl"</span></span><span
	class="sh_symbol"><span class="sh_symbol">),</span></span>
    msg <span class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_string"><span class="sh_string">"message"</span></span><span
	class="sh_symbol"><span class="sh_symbol">;</span></span>

repl<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">start</span></span><span
	class="sh_symbol"><span class="sh_symbol">().</span></span>context<span
	class="sh_symbol"><span class="sh_symbol">.</span></span>m <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> msg<span
	class="sh_symbol"><span class="sh_symbol">;</span></span></code></pre>

<p>Things in the <code class="sh_sourceCode">context</code> object
appear as local within the REPL:</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">mjr<span
	class="sh_symbol"><span class="sh_symbol">:~</span></span>$ node repl_test<span
	class="sh_symbol"><span class="sh_symbol">.</span></span>js 
node<span class="sh_symbol"><span class="sh_symbol">&gt;</span></span> m
<span class="sh_string"><span class="sh_string">'message'</span></span></code></pre>

<p>There are a few special REPL commands:</p>

<ul>
	<li>
	<p><code class="sh_sourceCode"><span class="sh_symbol">.</span><span
		class="sh_keyword">break</span></code> - While inputting a multi-line
	expression, sometimes you get lost or just don't care about completing
	it. <code class="sh_sourceCode"><span class="sh_symbol">.</span><span
		class="sh_keyword">break</span></code> will start over.</p>
	</li>
	<li>
	<p><code class="sh_sourceCode"><span class="sh_symbol">.</span>clear</code>
	- Resets the <code class="sh_sourceCode">context</code> object to an
	empty object and clears any multi-line expression.</p>
	</li>
	<li>
	<p><code class="sh_sourceCode"><span class="sh_symbol">.</span>exit</code>
	- Close the I/O stream, which will cause the REPL to exit.</p>
	</li>
	<li>
	<p><code class="sh_sourceCode"><span class="sh_symbol">.</span>help</code>
	- Show this list of special commands.</p>
	</li>
</ul>

<h2 id="modules-324">Modules</h2>

<p>Node uses the CommonJS module system.</p>

<p>Node has a simple module loading system. In Node, files and
modules are in one-to-one correspondence. As an example, <code
	class="sh_sourceCode">foo<span class="sh_symbol">.</span>js</code>
loads the module <code class="sh_sourceCode">circle<span
	class="sh_symbol">.</span>js</code> in the same directory.</p>

<p>The contents of <code class="sh_sourceCode">foo<span
	class="sh_symbol">.</span>js</code>:</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_keyword"><span class="sh_keyword">var</span></span> circle <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_function"><span class="sh_function">require</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'./circle'</span></span><span
	class="sh_symbol"><span class="sh_symbol">);</span></span>
console<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">log</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span> <span
	class="sh_string"><span class="sh_string">'The area of a circle of radius 4 is '</span></span>
           <span class="sh_symbol"><span class="sh_symbol">+</span></span> circle<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">area</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_number"><span class="sh_number">4</span></span><span
	class="sh_symbol"><span class="sh_symbol">));</span></span></code></pre>

<p>The contents of <code class="sh_sourceCode">circle<span
	class="sh_symbol">.</span>js</code>:</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode"><span
	class="sh_keyword"><span class="sh_keyword">var</span></span> PI <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_number"><span class="sh_number">3.14</span></span><span
	class="sh_symbol"><span class="sh_symbol">;</span></span>

exports<span class="sh_symbol"><span class="sh_symbol">.</span></span>area <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>r<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  <span class="sh_keyword"><span class="sh_keyword">return</span></span> PI <span
	class="sh_symbol"><span class="sh_symbol">*</span></span> r <span
	class="sh_symbol"><span class="sh_symbol">*</span></span> r<span
	class="sh_symbol"><span class="sh_symbol">;</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">;</span></span>

exports<span class="sh_symbol"><span class="sh_symbol">.</span></span>circumference <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_keyword"><span class="sh_keyword">function</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>r<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> <span
	class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  <span class="sh_keyword"><span class="sh_keyword">return</span></span> <span
	class="sh_number"><span class="sh_number">2</span></span> <span
	class="sh_symbol"><span class="sh_symbol">*</span></span> PI <span
	class="sh_symbol"><span class="sh_symbol">*</span></span> r<span
	class="sh_symbol"><span class="sh_symbol">;</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span><span
	class="sh_symbol"><span class="sh_symbol">;</span></span></code></pre>

<p>The module <code class="sh_sourceCode">circle<span
	class="sh_symbol">.</span>js</code> has exported the functions <code
	class="sh_sourceCode"><span class="sh_function">area</span><span
	class="sh_symbol">()</span></code> and <code class="sh_sourceCode"><span
	class="sh_function">circumference</span><span class="sh_symbol">()</span></code>.
To export an object, add to the special <code class="sh_sourceCode">exports</code>
object. (Alternatively, one can use <code class="sh_sourceCode"><span
	class="sh_keyword">this</span></code> instead of <code class="sh_sourceCode">exports</code>.)
Variables local to the module will be private. In this example the
variable <code class="sh_sourceCode">PI</code> is private to <code
	class="sh_sourceCode">circle<span class="sh_symbol">.</span>js</code>.
The function <code class="sh_sourceCode"><span
	class="sh_function">puts</span><span class="sh_symbol">()</span></code> comes
from the module <code class="sh_sourceCode"><span
	class="sh_string">'util'</span></code>, which is a built-in module. Modules
which are not prefixed by <code class="sh_sourceCode"><span
	class="sh_string">'./'</span></code> are built-in module--more about this
later.</p>

<h3 id="module-resolving-325">Module Resolving</h3>

<p>A module prefixed with <code class="sh_sourceCode"><span
	class="sh_string">'./'</span></code> is relative to the file calling <code
	class="sh_sourceCode"><span class="sh_function">require</span><span
	class="sh_symbol">()</span></code>. That is, <code class="sh_sourceCode">circle<span
	class="sh_symbol">.</span>js</code> must be in the same directory as <code
	class="sh_sourceCode">foo<span class="sh_symbol">.</span>js</code> for
<code class="sh_sourceCode"><span class="sh_function">require</span><span
	class="sh_symbol">(</span><span class="sh_string">'./circle'</span><span
	class="sh_symbol">)</span></code> to find it.</p>

<p>Without the leading <code class="sh_sourceCode"><span
	class="sh_string">'./'</span></code>, like <code class="sh_sourceCode"><span
	class="sh_function">require</span><span class="sh_symbol">(</span><span
	class="sh_string">'assert'</span><span class="sh_symbol">)</span></code> the
module is searched for in the <code class="sh_sourceCode">require<span
	class="sh_symbol">.</span>paths</code> array. <code class="sh_sourceCode">require<span
	class="sh_symbol">.</span>paths</code> on my system looks like this:</p>

<p><code class="sh_sourceCode"><span class="sh_symbol">[</span>
<span class="sh_string">'/home/ryan/.node_modules'</span> <span
	class="sh_symbol">]</span></code></p>

<p>That is, when <code class="sh_sourceCode"><span
	class="sh_function">require</span><span class="sh_symbol">(</span><span
	class="sh_string">'foo'</span><span class="sh_symbol">)</span></code> is
called Node looks for:</p>

<ul>
	<li>1: <code class="sh_sourceCode"><span class="sh_regexp">/home/</span><span
		class="sh_normal">ryan</span><span class="sh_symbol">/.</span><span
		class="sh_normal">node_modules</span><span class="sh_symbol">/</span>foo</code></li>
	<li>2: <code class="sh_sourceCode"><span class="sh_regexp">/home/</span><span
		class="sh_normal">ryan</span><span class="sh_symbol">/.</span><span
		class="sh_normal">node_modules</span><span class="sh_symbol">/</span>foo<span
		class="sh_symbol">.</span>js</code></li>
	<li>3: <code class="sh_sourceCode"><span class="sh_regexp">/home/</span><span
		class="sh_normal">ryan</span><span class="sh_symbol">/.</span><span
		class="sh_normal">node_modules</span><span class="sh_symbol">/</span>foo<span
		class="sh_symbol">.</span>node</code></li>
	<li>4: <code class="sh_sourceCode"><span class="sh_regexp">/home/</span><span
		class="sh_normal">ryan</span><span class="sh_symbol">/.</span><span
		class="sh_normal">node_modules</span><span class="sh_symbol">/</span><span
		class="sh_normal">foo</span><span class="sh_symbol">/</span>index<span
		class="sh_symbol">.</span>js</code></li>
	<li>5: <code class="sh_sourceCode"><span class="sh_regexp">/home/</span><span
		class="sh_normal">ryan</span><span class="sh_symbol">/.</span><span
		class="sh_normal">node_modules</span><span class="sh_symbol">/</span><span
		class="sh_normal">foo</span><span class="sh_symbol">/</span>index<span
		class="sh_symbol">.</span>node</code></li>
</ul>

<p>interrupting once a file is found. Files ending in <code
	class="sh_sourceCode"><span class="sh_string">'.node'</span></code> are
binary Addon Modules; see 'Addons' below. <code class="sh_sourceCode"><span
	class="sh_string">'index.js'</span></code> allows one to package a module as a
directory.</p>

<p><code class="sh_sourceCode">require<span class="sh_symbol">.</span>paths</code>
can be modified at runtime by simply unshifting new paths onto it, or at
startup with the <code class="sh_sourceCode">NODE_PATH</code>
environmental variable (which should be a list of paths, colon
separated). Additionally node will search for directories called <code
	class="sh_sourceCode">node_modules</code> starting at the current
directory (of the module calling <code class="sh_sourceCode">require</code>)
and upwards towards the root of the package tree. This feature makes it
easy to have different module versions for different environments.
Imagine the situation where you have a devopment environment and a
production environment each with a different version of the <code
	class="sh_sourceCode">foo</code> module: <code class="sh_sourceCode"><span
	class="sh_normal">projects</span><span class="sh_symbol">/</span><span
	class="sh_normal">x</span><span class="sh_symbol">/</span><span
	class="sh_normal">development</span><span class="sh_symbol">/</span><span
	class="sh_normal">node_modules</span><span class="sh_symbol">/</span>foo</code>
and <code class="sh_sourceCode"><span class="sh_normal">projects</span><span
	class="sh_symbol">/</span><span class="sh_normal">x</span><span
	class="sh_symbol">/</span><span class="sh_normal">production</span><span
	class="sh_symbol">/</span><span class="sh_normal">node_modules</span><span
	class="sh_symbol">/</span>foo</code>.</p>

<p>The second time <code class="sh_sourceCode"><span
	class="sh_function">require</span><span class="sh_symbol">(</span><span
	class="sh_string">'foo'</span><span class="sh_symbol">)</span></code> is
called, it is not loaded again from disk. It looks in the <code
	class="sh_sourceCode">require<span class="sh_symbol">.</span>cache</code>
object to see if it has been loaded before.</p>

<p>To get the exact filename that will be loaded when <code
	class="sh_sourceCode"><span class="sh_function">require</span><span
	class="sh_symbol">()</span></code> is called, use the <code
	class="sh_sourceCode">require<span class="sh_symbol">.</span><span
	class="sh_function">resolve</span><span class="sh_symbol">()</span></code>
function.</p>

<h2 id="addons-326">Addons</h2>

<p>Addons are dynamically linked shared objects. They can provide
glue to C and C++ libraries. The API (at the moment) is rather complex,
involving knowledge of several libraries:</p>

<ul>
	<li>
	<p>V8 JavaScript, a C++ library. Used for interfacing with
	JavaScript: creating objects, calling functions, etc. Documented mostly
	in the <code class="sh_sourceCode">v8<span class="sh_symbol">.</span>h</code>
	header file (<code class="sh_sourceCode"><span class="sh_normal">deps</span><span
		class="sh_symbol">/</span><span class="sh_normal">v8</span><span
		class="sh_symbol">/</span><span class="sh_normal">include</span><span
		class="sh_symbol">/</span>v8<span class="sh_symbol">.</span>h</code> in the
	Node source tree).</p>
	</li>
	<li>
	<p>libev, C event loop library. Anytime one needs to wait for a
	file descriptor to become readable, wait for a timer, or wait for a
	signal to received one will need to interface with libev. That is, if
	you perform any I/O, libev will need to be used. Node uses the <code
		class="sh_sourceCode">EV_DEFAULT</code> event loop. Documentation can
	be found http:/cvs.schmorp.de/libev/ev.html[here].</p>
	</li>
	<li>
	<p>libeio, C thread pool library. Used to execute blocking POSIX
	system calls asynchronously. Mostly wrappers already exist for such
	calls, in <code class="sh_sourceCode"><span class="sh_normal">src</span><span
		class="sh_symbol">/</span>file<span class="sh_symbol">.</span>cc</code> so
	you will probably not need to use it. If you do need it, look at the
	header file <code class="sh_sourceCode"><span class="sh_normal">deps</span><span
		class="sh_symbol">/</span><span class="sh_normal">libeio</span><span
		class="sh_symbol">/</span>eio<span class="sh_symbol">.</span>h</code>.</p>
	</li>
	<li>
	<p>Internal Node libraries. Most importantly is the <code
		class="sh_sourceCode">node<span class="sh_symbol">::</span>ObjectWrap</code>
	class which you will likely want to derive from.</p>
	</li>
	<li>
	<p>Others. Look in <code class="sh_sourceCode"><span
		class="sh_normal">deps</span><span class="sh_symbol">/</span></code> for what
	else is available.</p>
	</li>
</ul>

<p>Node statically compiles all its dependencies into the
executable. When compiling your module, you don't need to worry about
linking to any of these libraries.</p>

<p>To get started let's make a small Addon which does the following
except in C++:</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">exports<span
	class="sh_symbol"><span class="sh_symbol">.</span></span>hello <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_string"><span class="sh_string">'world'</span></span><span
	class="sh_symbol"><span class="sh_symbol">;</span></span></code></pre>

<p>To get started we create a file <code class="sh_sourceCode">hello<span
	class="sh_symbol">.</span>cc</code>:</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">#include <span
	class="sh_symbol"><span class="sh_symbol">&lt;</span></span>v8<span
	class="sh_symbol"><span class="sh_symbol">.</span></span>h<span
	class="sh_symbol"><span class="sh_symbol">&gt;</span></span>

using namespace v8<span class="sh_symbol"><span class="sh_symbol">;</span></span>

extern <span class="sh_string"><span class="sh_string">"C"</span></span> void
<span class="sh_function"><span class="sh_function">init</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>Handle<span
	class="sh_symbol"><span class="sh_symbol">&lt;</span></span><span
	class="sh_predef_func"><span class="sh_predef_func">Object</span></span><span
	class="sh_symbol"><span class="sh_symbol">&gt;</span></span> target<span
	class="sh_symbol"><span class="sh_symbol">)</span></span> 
<span class="sh_cbracket"><span class="sh_cbracket">{</span></span>
  HandleScope scope<span class="sh_symbol"><span
	class="sh_symbol">;</span></span>
  target<span class="sh_symbol"><span class="sh_symbol">-&gt;</span></span><span
	class="sh_function"><span class="sh_function">Set</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_predef_func"><span class="sh_predef_func">String</span></span><span
	class="sh_symbol"><span class="sh_symbol">::</span></span><span
	class="sh_function"><span class="sh_function">New</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">"hello"</span></span><span
	class="sh_symbol"><span class="sh_symbol">),</span></span> <span
	class="sh_predef_func"><span class="sh_predef_func">String</span></span><span
	class="sh_symbol"><span class="sh_symbol">::</span></span><span
	class="sh_function"><span class="sh_function">New</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">"World"</span></span><span
	class="sh_symbol"><span class="sh_symbol">));</span></span>
<span class="sh_cbracket"><span class="sh_cbracket">}</span></span></code></pre>

<p>This source code needs to be built into <code
	class="sh_sourceCode">hello<span class="sh_symbol">.</span>node</code>,
the binary Addon. To do this we create a file called <code
	class="sh_sourceCode">wscript</code> which is python code and looks
like this:</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">srcdir <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_string"><span class="sh_string">'.'</span></span>
blddir <span class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_string"><span class="sh_string">'build'</span></span>
VERSION <span class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_string"><span class="sh_string">'0.0.1'</span></span>

def <span class="sh_function"><span class="sh_function">set_options</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>opt<span
	class="sh_symbol"><span class="sh_symbol">):</span></span>
  opt<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">tool_options</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'compiler_cxx'</span></span><span
	class="sh_symbol"><span class="sh_symbol">)</span></span>

def <span class="sh_function"><span class="sh_function">configure</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>conf<span
	class="sh_symbol"><span class="sh_symbol">):</span></span>
  conf<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">check_tool</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'compiler_cxx'</span></span><span
	class="sh_symbol"><span class="sh_symbol">)</span></span>
  conf<span class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">check_tool</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'node_addon'</span></span><span
	class="sh_symbol"><span class="sh_symbol">)</span></span>

def <span class="sh_function"><span class="sh_function">build</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span>bld<span
	class="sh_symbol"><span class="sh_symbol">):</span></span>
  obj <span class="sh_symbol"><span class="sh_symbol">=</span></span> bld<span
	class="sh_symbol"><span class="sh_symbol">.</span></span><span
	class="sh_function"><span class="sh_function">new_task_gen</span></span><span
	class="sh_symbol"><span class="sh_symbol">(</span></span><span
	class="sh_string"><span class="sh_string">'cxx'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">'shlib'</span></span><span
	class="sh_symbol"><span class="sh_symbol">,</span></span> <span
	class="sh_string"><span class="sh_string">'node_addon'</span></span><span
	class="sh_symbol"><span class="sh_symbol">)</span></span>
  obj<span class="sh_symbol"><span class="sh_symbol">.</span></span>target <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_string"><span class="sh_string">'hello'</span></span>
  obj<span class="sh_symbol"><span class="sh_symbol">.</span></span>source <span
	class="sh_symbol"><span class="sh_symbol">=</span></span> <span
	class="sh_string"><span class="sh_string">'hello.cc'</span></span></code></pre>

<p>Running <code class="sh_sourceCode">node<span
	class="sh_symbol">-</span>waf configure build</code> will create a file <code
	class="sh_sourceCode"><span class="sh_normal">build</span><span
	class="sh_symbol">/</span><span class="sh_keyword">default</span><span
	class="sh_symbol">/</span>hello<span class="sh_symbol">.</span>node</code>
which is our Addon.</p>

<p><code class="sh_sourceCode">node<span class="sh_symbol">-</span>waf</code>
is just http://code.google.com/p/waf/[WAF], the python-based build
system. <code class="sh_sourceCode">node<span class="sh_symbol">-</span>waf</code>
is provided for the ease of users.</p>

<p>All Node addons must export a function called <code
	class="sh_sourceCode">init</code> with this signature:</p>

<pre class="sh_sourceCode"><code class="sh_sourceCode">extern <span
	class="sh_string"><span class="sh_string">'C'</span></span> void <span
	class="sh_function"><span class="sh_function">init</span></span> <span
	class="sh_symbol"><span class="sh_symbol">(</span></span>Handle<span
	class="sh_symbol"><span class="sh_symbol">&lt;</span></span><span
	class="sh_predef_func"><span class="sh_predef_func">Object</span></span><span
	class="sh_symbol"><span class="sh_symbol">&gt;</span></span> target<span
	class="sh_symbol"><span class="sh_symbol">)</span></span></code></pre>

<p>For the moment, that is all the documentation on addons. Please
see <a href="http://github.com/ry/node_postgres">http://github.com/ry/node_postgres</a>
for a real example.</p>

<h2 id="appendix---third-party-modules-327">Appendix - Third Party
Modules</h2>

<p>There are many third party modules for Node. At the time of
writing, August 2010, the master repository of modules is
http://github.com/ry/node/wiki/modules[the wiki page].</p>

<p>This appendix is intended as a SMALL guide to new-comers to help
them quickly find what are considered to be quality modules. It is not
intended to be a complete list. There may be better more complete
modules found elsewhere.</p>

<ul>
	<li>
	<p>Module Installer: <a href="http://github.com/isaacs/npm">npm</a></p>
	</li>
	<li>
	<p>HTTP Middleware: <a href="http://github.com/senchalabs/connect">Connect</a></p>
	</li>
	<li>
	<p>Web Framework: <a href="http://github.com/visionmedia/express">Express</a></p>
	</li>
	<li>
	<p>Web Sockets: <a
		href="http://github.com/LearnBoost/Socket.IO-node">Socket.IO</a></p>
	</li>
	<li>
	<p>HTML Parsing: <a href="http://github.com/aredridel/html5">HTML5</a></p>
	</li>
	<li>
	<p><a href="http://github.com/agnat/node_mdns">mDNS/Zeroconf/Bonjour</a></p>
	</li>
	<li>
	<p><a href="http://github.com/ry/node-amqp">RabbitMQ, AMQP</a></p>
	</li>
	<li>
	<p><a href="http://github.com/felixge/node-mysql">mysql</a></p>
	</li>
	<li>
	<p>Serialization: <a href="http://github.com/pgriess/node-msgpack">msgpack</a></p>
	</li>
	<li>
	<p>Scraping: <a href="http://github.com/silentrob/Apricot">Apricot</a></p>
	</li>
	<li>
	<p>Debugger: <a href="http://github.com/smtlaissezfaire/ndb">ndb</a>
	is a CLI debugger <a
		href="http://github.com/dannycoates/node-inspector">inspector</a> is a
	web based tool.</p>
	</li>
	<li>
	<p><a href="http://github.com/mranney/node_pcap">pcap binding</a></p>
	</li>
	<li>
	<p><a href="http://github.com/mscdex/node-ncurses">ncurses</a></p>
	</li>
	<li>
	<p>Testing/TDD/BDD: <a href="http://vowsjs.org/">vows</a>, <a
		href="http://github.com/visionmedia/expresso">expresso</a>, <a
		href="http://github.com/tmpvar/mjsunit.runner">mjsunit.runner</a></p>
	</li>
</ul>

<p>Patches to this list are welcome.</p>
</div>
</div>
<script type="text/javascript"
	src="js/jquery.js"></script>
<script type="text/javascript"
	src="js/sh_main.js"></script>
<script type="text/javascript"
	src="js/sh_javascript.min.js"></script>
<script type="text/javascript"
	src="js/doc.js"></script>

</body>
</html>